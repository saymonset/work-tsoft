<!DOCTYPE html>
<html lang="es_MX" >
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE10,chrome=1" />				
		<!-- disable browser cache -->
    	<meta http-equiv="cache-control" content="max-age=0" />
    	<meta http-equiv="cache-control" content="no-cache" />
    	<meta http-equiv="expires" content="0" />
    	<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    	<meta http-equiv="pragma" content="no-cache" />
    
		<script type="text/javascript" src="js/jquery.js"></script>
		<script type="text/javascript" src="js/jqueryUi.js"></script>		
		<script type="text/javascript" src="js/firma.js"></script>
		<script type="text/javascript" src="js/jsrsasign-all-min.js"></script> 
		<script type="text/javascript" src="js/forge.min.js"></script>
		<script type="text/javascript" src="js/base64.js"></script>
		
		<link rel="stylesheet" type="text/css" media="screen"  href="css/jquery-ui-1.8.23.custom.css" ></link>	
		<link rel="stylesheet" type="text/css" media="screen"  href="css/firma.css"></link>		
		<link rel="stylesheet" type="text/css" media="screen"  href="css/daliHeadFirma.css"></link>
 	   <style>.ui-progressbar {align-self: center;}</style>
				
	</head>
	<body ng-controller="firmaCtrl" id="dali">
	
	
		<table class="headTable" >
		<tr><th>
				<img src="images/logo_indeval_inicio_n.png" width="205" height="73" align="left" style="width: 159px; height: 51px"/>
			</th>
			<th><h2>Firma Digital</h2></th>
			<th>			
				<img style="margin-top:0px;margin-right: 0px; width: 118px; height: 72px" src="images/certificado-digital.jpg" width="150px" height="98px" align="right"/>
			</th>
		</tr>
		</table>
		
		<form id="formFirma" >		
		<table class="bodyTable" align="center" >
			<tr><td>Instrucciones a firmar:</td></tr>
			<tr><td><textarea readonly rows="9" id="hash_archivo" style="color: black;background-color: silver; resize: none; width: 100%"></textarea></td></tr>
			<tr><td>Seleccione su certificado (.PFX/.P12):</td></tr>
			<tr><td><input id="pfx"  type="file" accept=".pfx, .p12" style="width: 100%; "/></td></tr>
			<tr><td>Ingrese la contrase&ntilde;a de su llave privada :</td></tr>
			<tr><td><input id="password" type="password" style="color: black; width: 97%;" onkeypress="return runScript(event)"/></td></tr>
			
			
			
			<tr><td>
			<div style="display: none; ">
				<table style="width: 100%; ">
					<tr><td>					
						<label for="hash_alg">Algorithm:</label>
						<select id="hash_alg" style="color: black;" disabled >
							<option value="SHA1withRSA" selected>SHA1
							<option value="SHA256withRSA">SHA256
							<option value="SHA512withRSA">SHA512
							<option value="MD5withRSA">MD5
							<option value="RIPEMD160withRSA">RIPEMD-160
						</select>
					</td></tr>
					<tr><td>N&uacute;mero de certificado</td></tr>					
					<tr><td><textarea rows="1" cols="55" readonly id="userSerialFieldName" style="color: black;background-color: silver; width: 100%; resize: none;"></textarea></td></tr>
				</table>
			</div>
			</td></tr>
			
			<tr><td align="right"><div class="version" >1.0.26-bcd284306ada39540ab5ec4e94db01171b8a4194</div></td></tr>	
			
			<tr><td align="center"><input type="button" onclick="cargarCertificado()" style="color: black;" id="btnFirmar" value="Firmar" /><input id="btnClose" type="button" value="Cancelar" style="color: black;"/></td></tr>
			
						
		</table>
		<div id="dialog-message" title="Firmando ...">
			<table width="100%">
				<tr><td>&nbsp;</td></tr>
				<tr><td><div id="progressbar"></div></td></tr>
				<tr><td>&nbsp;</td></tr>
  			</table>
		</div>
		</form>
		
	
		
	</body>
</html>
