<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core" xml:lang="en" lang="en"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich">

    <ui:composition template="/layoutPopUp.xhtml"> 
    <ui:define name="head">	
    		<script language="javascript" type="text/javascript"
				src="#{facesContext.externalContext.requestContextPath}/js/eventosCorporativos.js">				
			</script>	
			 <script language="javascript" type="text/javascript"
				src="#{facesContext.externalContext.requestContextPath}/js/FileSaver.js">				
			</script>
		 	<script language="javascript" type="text/javascript"
				src="#{facesContext.externalContext.requestContextPath}/js/jquery.wordexport.js">				
			</script>

			<style type="text/css">
			.my-floated-elements {
					float: none
					}
				@media screen
				  {
				.forscreen { display:block; }
				.forprinting { display:none; }
				  }
				@media print
				  {
				.forscreen { display:none; }
				.forprinting { display:block; 
						overflow: visible;
						float: none; }
				  }
		    	p {
	  				margin: 0;
					padding: 0;
					color: #000000;
				}
				body {
				  font-family: Arial, Helvetica, Verdana, sans-serif;
				}
				
				.texto {
				  font-family: Arial, Helvetica, Verdana, sans-serif;
				}
			</style>
	</ui:define>

        <ui:define name="subtitulo">
        </ui:define>
        <ui:define name="body">
            <h:form id="bitacoraForm">
              <h:outputText value="#{controlCambiosCorporativosBean.initEvcoOriginal}" />
          						<div id="printing_div_id" class="forprinting" style="white-space:pre-line; align:left"></div>
            
              	
			<div id="contenedorGeneralBitacoraEvco2">
			 <div style="padding-bottom: 30px; text-align: center; font-weight: bold; font-size: 15px;">
		        <h:outputText value="Evento Corporativo Original" />   
			</div>                
               <table style="width: 100%;  font-size: 11px; text-align:left;">
	               <tr style="font-size: 11px; font-weight: normal;">
	                        <td style="float: left; width: 17%;"><h:outputText style=" font-weight: bold;" value="#{etq.folioEvento}:" /> 
	               					<h:outputText  value="#{controlCambiosCorporativosBean.bitacoraEvcoOriginal.idEventoCorporativo}" />
	               			</td> 
	               			<td style="float: left; width: 28%;"><h:outputText style=" font-weight: bold;" value="#{etq.tipoEvento}:"/>
	               			        <h:outputText value="#{controlCambiosCorporativosBean.bitacoraEvcoOriginal.tipoEvento}" />
	               			 </td> 
	               			 <td style="float: left; width: 28%;"><h:outputText style=" font-weight: bold;" value="Fecha Creación: "/> 
	               			        <h:outputText value="#{controlCambiosCorporativosBean.bitacoraEvcoOriginal.fechaCreacion}" >
	               			        	<f:convertDateTime pattern="dd/MM/yyyy HH:mm" timeZone="Mexico/General" />
	               			        </h:outputText>
	               			 </td>
	               			<td style="float: left; width: 24%;"><h:outputText style=" font-weight: bold;" value="Fecha Registro: "/> 
	               			        <h:outputText value="#{controlCambiosCorporativosBean.bitacoraEvcoOriginal.fechaRegistro}" >
	               			        	<f:convertDateTime pattern="dd/MM/yyyy" timeZone="Mexico/General" />
	               			        </h:outputText>
	               			</td>       
	               </tr>           
               
               		<tr style="font-size: 11px; font-weight: normal;">
               			<td style="float: left; width: 17%;"><h:outputText style=" font-weight: bold;" value="#{etq.tv}:"/>
               			        <h:outputText value="#{controlCambiosCorporativosBean.bitacoraEvcoOriginal.tipoValor}" />
               			</td> 
               			<td style="float: left; width: 28%;"><h:outputText style=" font-weight: bold;" value="#{etq.emisoraMinus}:"/>
                        		<h:outputText value="#{controlCambiosCorporativosBean.bitacoraEvcoOriginal.emisora}" />      	
               			</td> 
               			<td style="float: left; width: 28%;"><h:outputText style=" font-weight: bold;" value="#{etq.serieMinus}:"/>
               			        <h:outputText value="#{controlCambiosCorporativosBean.bitacoraEvcoOriginal.serie}" />
               			</td> 
               			<td style="float: left; width: 24%;"><h:outputText style=" font-weight: bold;" value="#{etq.isin}:"/> 
               			        <h:outputText value="#{controlCambiosCorporativosBean.bitacoraEvcoOriginal.isin}" />
               			</td>               			 
               			 
               		</tr>           
               
                	<tr style="font-size: 11px; font-weight: normal;">
                		<td style="float: left; width: 17%;"><h:outputText style=" font-weight: bold;" value="#{etq.mercadoMinus}:"/> 
               			        <h:outputText value="#{controlCambiosCorporativosBean.bitacoraEvcoOriginal.tipoMercado}" />
               			</td>
               			 
               			<td style="float: left; width: 28%;"><h:outputText style=" font-weight: bold;" value="Tipo Derecho Mercado Local: "/> 
               					<h:outputText value="#{controlCambiosCorporativosBean.bitacoraEvcoOriginal.tipoDerechoML}" />
               			</td> 
               			<td style="float: left; width: 24%;"><h:outputText style=" font-weight: bold;" value="Tipo Derecho Mercado Origen: "/> 
               			        <h:outputText value="#{controlCambiosCorporativosBean.bitacoraEvcoOriginal.tipoDerechoMO}" />
               			</td>   
               			<td style="float: left; width: 28%;"><h:outputText style=" font-weight: bold;" value="#{etq.custodio}:"/> 
               			        <h:outputText value="#{controlCambiosCorporativosBean.bitacoraEvcoOriginal.custodio}" />
               			</td>
               		</tr>          
               </table>
               <br/> 
               <h:panelGroup rendered="#{!empty controlCambiosCorporativosBean.bitacoraEvcoOriginal.fechaCliente or (!empty controlCambiosCorporativosBean.bitacoraEvcoOriginal.fechaIndeval ) or !empty controlCambiosCorporativosBean.bitacoraEvcoOriginal.fechaPago}">
               <div id="fechasdiv" style="width: 100%;">
               <table id="tablaContainerFechas" align="left" style="width: 50%;height: 50px;" border="0"  >
							<tr style=" border: 0px;  font-size: 11px; font-weight: bold;">
								<h:outputText value="" rendered="#{!empty controlCambiosCorporativosBean.bitacoraEvcoOriginal.fechaCliente}">
										<td style="width: 33%">
											<h:outputText value="#{etq.fechaLimiteCliente}"/>
										</td>
								</h:outputText>
								<h:outputText value="" rendered="#{controlCambiosCorporativosBean.bitacoraEvcoOriginal.fechaIndeval != null}">
										<td style="width: 33%">
											<h:outputText  value="#{etq.fechaLimiteIndeval}"/>
										</td>
								</h:outputText>
								<h:outputText value="" rendered="#{controlCambiosCorporativosBean.bitacoraEvcoOriginal.fechaPago != null}">
											<td style="width: 33%">
												<h:outputText  value="#{etq.fechaLimitePago}"/>
											</td>
								</h:outputText>
		  					</tr>
               				<tr style=" border:0px; font-size: 11px; font-weight: normal;">
               					<h:outputText value="" rendered="#{controlCambiosCorporativosBean.bitacoraEvcoOriginal.fechaCliente != null}">
		               						<td><h:outputText value="#{controlCambiosCorporativosBean.bitacoraEvcoOriginal.fechaCliente}" >
			               							<f:convertDateTime pattern="dd/MM/yyyy HH:mm" timeZone="Mexico/General" />
									 				</h:outputText></td>
               					</h:outputText>
               					<h:outputText value="" rendered="#{controlCambiosCorporativosBean.bitacoraEvcoOriginal.fechaIndeval != null}">
		               						<td><h:outputText value="#{controlCambiosCorporativosBean.bitacoraEvcoOriginal.fechaIndeval}" >
			               							<f:convertDateTime pattern="dd/MM/yyyy HH:mm" timeZone="Mexico/General" />
									 				</h:outputText></td>
               					</h:outputText>
               					<h:outputText value="" rendered="#{controlCambiosCorporativosBean.bitacoraEvcoOriginal.fechaPago != null}">
		               						<td><h:outputText value="#{controlCambiosCorporativosBean.bitacoraEvcoOriginal.fechaPago}" >
			               							<f:convertDateTime pattern="dd/MM/yyyy" timeZone="Mexico/General" />
									 				</h:outputText></td>
               					</h:outputText>
               				</tr>          				               				         					
               	</table> 
               	<table  style="width: 50%;height: 50px;">
               	<tr><td> </td></tr>
               		<tr><td> </td></tr>
               	</table> 
 				</div>
				</h:panelGroup>					
 				<br/>
 				<br/>
 					<h:dataTable id="table1"  style="width: 100%;padding-top: 20px;" value="#{controlCambiosCorporativosBean.bitacoraEvcoOriginal.cuerpoEnVistaLista}" var="item" border="0"> 
						   				
					  <h:column>
						  <f:facet name="header">
						      <h:outputText value="" />
						</f:facet>
						<table style="width: 100%; font-size: 11px;" >
							<tr style="font-size: 11px; font-weight: normal;">
						   		<td align="left">
					       			<h:outputText escape="false" value="#{item.cuerpoEventoHtml}" />
					       		</td>
					       	</tr>
					    </table>
						<br/> 
							  
						<a4j:repeat id="repeatOpciones" var="opciones" value="#{item.opcionesList}"  rowKeyVar="index" >
						 	  <table style="width: 100%; padding-top: 20px; font-size: 11px;"  >										 	 
							 	  <tr style="font-size: 11px; font-weight: normal;">
								  	<td align="left">
								 	  <h:outputText  style="font-weight: bold;" escape="false" value=" Opción #{index +1} :" />
								 	  <h:outputText style="font-weight: bold;" value="Default *" rendered="#{opciones.opcDefault == 1}" />
								 	  <h:outputText style=" padding-left: 15px;" escape="false" value=" #{opciones.cuerpo}" />
								 	</td>
							 	  </tr>
						 	  </table>
						 	  <br>
						 	  </br>	
				 	  		<div style="width: 100%; padding-left: 0px;"> 
							  <table id="tablaContainerFechasInt" align="left" style="width: 50%;height: 50px;" border="0"  >
								 	<tr style=" border:0px;  font-size: 11px; font-weight: bold; ">
								  		<h:outputText value="" rendered="#{opciones.fechaCliente != null}">
								  			<td style="width: 33%;">
								  				<h:outputText value="#{etq.fechaLimiteCliente}"/>
								  			</td>
								    	</h:outputText>
								       	<h:outputText value="" rendered="#{opciones.fechaIndeval != null}">
								       		<td style="width: 33%;">
												<h:outputText  value="#{etq.fechaLimiteIndeval}"/>
											</td>
								       	</h:outputText>
								       	<h:outputText value="" rendered="#{opciones.fechaPago != null}">
								             <td style="width: 33%;">
												<h:outputText  value="#{etq.fechaLimitePago}"/>
										     </td>
								        </h:outputText>
								   </tr>
							  
								   <tr style=" border: 0px; font-size: 11px; font-weight: normal;">
								       	<h:outputText value="" rendered="#{opciones.fechaCliente != null}">
								        	<td><h:outputText value="#{opciones.fechaCliente}" >
										   	<f:convertDateTime pattern="dd/MM/yyyy HH:mm" timeZone="Mexico/General" />
											</h:outputText></td>
										</h:outputText>
										<h:outputText value="" rendered="#{opciones.fechaIndeval != null}">
											<td><h:outputText value="#{opciones.fechaIndeval}" >
										   	<f:convertDateTime pattern="dd/MM/yyyy HH:mm" timeZone="Mexico/General" />
											</h:outputText></td>
										</h:outputText>
										<h:outputText value="" rendered="#{opciones.fechaPago != null}">
										   	<td><h:outputText value="#{opciones.fechaPago}" >
										   	<f:convertDateTime pattern="dd/MM/yyyy" timeZone="Mexico/General" />
											</h:outputText></td>
										</h:outputText>
									</tr>          					
								</table> 
								<table  style="width: 50%;height: 50px;">
					               	<tr><td> </td></tr>
					               		<tr><td> </td></tr>
					            </table>             
						 	</div>							 	
						</a4j:repeat>  		
										          
					   <div style="width: 100%; "></div>
						<br /> 
							  	<table style="width: 100%; padding-left: 0%; color: black;" >
								  	<a4j:repeat var="notas" value="#{item.notasList}" rowKeyVar="cont">
							  		<h:outputLabel  rendered="#{cont == 0}"> 
										<tr>
											<td align="left" style="font-size: 11px; font-weight: bold;">
												<h:outputText  value="Notas:" />	
											</td>
										</tr>
									</h:outputLabel>     		

								   		<tr>
								   		 	<td align="left" style="font-size: 11px; font-weight: normal;">
													<h:outputText escape="false" value=" #{notas}" />
											</td>
										</tr>
								</a4j:repeat>					 					             	
										      	
							   </table>
								<br/> 
				        	<h:panelGroup id="containerArchivos" >
								<table style="width: 100%; padding-left: 5%; color: black; font-weight: bold;" >
								 		<a4j:repeat var="adjuntos" value="#{item.archivosAdjuntos}" rowKeyVar="cont">
								   			<h:outputLabel  rendered="#{cont == 0}"> 
									    		<tr>
										    		<td align="left" style="font-size: 11px; font-weight: normal;">
									    				<h:outputText  value="Archivos disponibles:" />												    			
										    		</td>
									    		</tr>										    		
								    		</h:outputLabel> 
									    		<tr>
									    		 	<td align="left" style="font-size: 11px; font-weight: normal;">												 		  
									    		 		<h:outputText  value="#{adjuntos.descripcion}" />	
													</td>
												</tr>
										</a4j:repeat>						 					             		      	
								</table>
							</h:panelGroup>
								<br/> 
															      	
							<div style="width: 100%; "></div>
								<table style="width: 100%; color: black;" >
								   	<tr style="font-size: 11px; font-weight: normal;">
								   		<td align="left">
								   			<h:outputText escape="false" value="#{item.piePaginaHtml}" />
								   		</td>
								   	</tr>
							    </table>
												        
						</h:column>										              
					</h:dataTable> 
 
 
            </div>
              			
              			<div>			
                            <a href="javascript:printBitacoraContent('contenedorGeneralBitacoraEvco2','printing_div_id')">
								<h:outputText value="#{etq.imprimirResultados}:"/>	
							</a>              				
						</div>
						<div>			
                            <a href="javascript:exportarAWord()" class="word-export">
								<h:outputText value="Exporta"/>	
							</a>    
							<br/>
							<h:outputText style="font-size:9px; color:#498FED; font-weight: bold"  value=" Exportación compatible con Firefox, Chrome e Internet Explorer 11 Edge"/>           				
						              				
						</div> 
              
              
	  		</h:form>						 
        </ui:define>
        
    </ui:composition>

</html>
