<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" xml:lang="en" lang="en"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:t="http://myfaces.apache.org/tomahawk">
	<!-- DECORATE -->

	<ui:composition template="/layoutConsultas.xhtml">
	
		<ui:define name="tituloEncabezado">

		</ui:define>
		<ui:define name="head">			
			<script language="javascript" type="text/javascript"
				src="#{facesContext.externalContext.requestContextPath}/js/calendarioEmisionesDeudaExt.js">
			</script>
		</ui:define>
		<ui:define name="tituloSeccion">
			<h:outputText value="#{etq.consultaDerechos}" />
		</ui:define>

		<ui:define name="tituloEncabezado">
			<h:outputText value="#{etq.calendarioEmisionesDeudaExt}"></h:outputText>
		</ui:define>



		<ui:define name="criterios">

			<h:outputText value="#{calendarioEmisionesDeudaExtBean.init}" />
			<a4j:keepAlive beanName="calendarioEmisionesDeudaExtBean" />
			<h:panelGroup id="mensajeUsuario">
				<div style="min-height: 21px;">						
					<rich:messages warnClass="warning" infoClass="info"
						errorClass="error" ajaxRendered="true" showDetail="false"
						showSummary="true" layout="list">
						<f:facet name="infoMarker">
							<h:panelGroup>
								<h:graphicImage url="/images/accept.png" />&#160;</h:panelGroup>
						</f:facet>

						<f:facet name="errorMarker">
							<h:panelGroup>
								<h:graphicImage url="/images/warning.gif" />&#160;</h:panelGroup>
						</f:facet>
					</rich:messages>
				
					<div id="divWarnings" class="warning" style="display:none;">
						<p id="textoWarning">										
						</p>
					</div>
				</div>
			</h:panelGroup>
			<h:panelGroup id="panelCriterios">				
				<div style='display: "inline"' id="divCriterios">
					<table width="900px" border="0" cellpadding="0px" cellspacing="5px"
						align="center">
						<tr>							
							<td class="recuadroTabla" align="center">
								<table class="tablaCriterios" align="center">
									<tr>
										<td colspan="4" align="center">
											<b> <h:outputText styleClass="texto"
													value="#{etq.claveValor}" /> </b>
										</td>
									</tr>
									<tr>
										<td align="center">
											<h:outputText styleClass="texto" value="#{etq.tv}" />
										</td>
										<td align="center">
											<h:outputText styleClass="texto" value="#{etq.emisoraMinus}" />
										</td>
										<td align="center">
											<h:outputText styleClass="texto" value="#{etq.serieMinus}" />
										</td>
										<td align="center">
											<h:outputText styleClass="texto" value="#{etq.cuponMinus}" />
										</td>
										<td align="center">
											<h:outputText styleClass="texto" value="#{etq.isin}" />
										</td>
									</tr>
									<tr align="center">
										<td>
											<h:panelGroup>
												<h:inputText autocomplete="off" id="tipoValor"
													value="#{calendarioEmisionesDeudaExtBean.tipoValor}" size="7"
													maxlength="4" styleClass="textoControles campoAlphaNumerico textoMayusculas" tabindex="20" />
											</h:panelGroup>
										</td>
										<td>
											<h:panelGroup>
												<h:inputText autocomplete="off" id="emisora" size="7" maxlength="7"
													value="#{calendarioEmisionesDeudaExtBean.emisora}"
													required="false" styleClass="textoControles campoAlphaNumericoEmisora textoMayusculas" tabindex="30" />
											</h:panelGroup>
										</td>
										<td>
											<h:inputText autocomplete="off" id="serie"
												value="#{calendarioEmisionesDeudaExtBean.serie}" size="7"
												maxlength="6" styleClass="textoControles campoAlphaNumericoSerie textoMayusculas" tabindex="40" />
										</td>
										<td>
											<h:inputText autocomplete="off" id="cupon"
												value="#{calendarioEmisionesDeudaExtBean.cupon}" size="7"
												maxlength="4" styleClass="textoControles campoNumerico textoMayusculas" tabindex="50" />
										</td>
										<td>
											<h:inputText autocomplete="off" id="isin"
												value="#{calendarioEmisionesDeudaExtBean.isin}" size="12"
												maxlength="12" styleClass="textoControles campoAlphaNumerico textoMayusculas" tabindex="60" />
										</td>
									</tr>
								</table>
							</td>
							<td class="recuadroTabla" align="center">
								<table class="tablaCriterios" align="center">
									<tr>
										<td nowrap="true" align="center">
											<h:outputText styleClass="texto" value="#{etq.estatus}" />
										</td>
										<td nowrap="true" align="center">
											<h:outputText styleClass="texto" value="#{etq.divisaMinus}" />
										</td>										
									</tr>
									<tr>
										<td align="center">
											<h:selectOneMenu styleClass="textoControles"
												value="#{calendarioEmisionesDeudaExtBean.estado}" tabindex="80" valueChangeListener="#{calendarioEmisionesDeudaExtBean.updateEstadoMensajeria}">
												<f:selectItem itemValue="-1" itemLabel="Todos" />
												<f:selectItems value="#{calendarioEmisionesDeudaExtBean.estados}" />
												<a4j:support event="onchange" reRender="estadoMensajeriaChk" />
											</h:selectOneMenu>
											<h:selectOneMenu id="estadoMensajeriaChk" styleClass="textoControles"
												value="#{calendarioEmisionesDeudaExtBean.estadoMensajeria}"
												tabindex="142">												
												<f:selectItems	value="#{calendarioEmisionesDeudaExtBean.estadosMensajeria}" />
											</h:selectOneMenu>
										</td>
										<td align="center">
											<h:selectOneMenu styleClass="textoControles"
												value="#{calendarioEmisionesDeudaExtBean.divisa}" tabindex="90">
												<f:selectItem itemValue="-1" itemLabel="Todas" />
												<f:selectItems value="#{calendarioEmisionesDeudaExtBean.divisas}" />
											</h:selectOneMenu>
										</td>										
									</tr>
								</table>
							</td>

						</tr>
						<tr>							
							<td class="recuadroTabla" align="center">
								<table class="tablaCriterios" align="center">
									<tr align="center">
										<td nowrap="true">
											<h:outputText styleClass="texto" value="#{etq.fechaCorteMinus}" />
										</td>
										<td nowrap="true">
											<h:outputText styleClass="texto" value="#{etq.fechaPago}" />
										</td>
										<td nowrap="true">
											<h:outputText styleClass="texto" value="#{etq.referencia}" />
										</td>
										<td nowrap="true">
											<h:outputText styleClass="texto" value="Hoja de Trabajo" />
										</td>
									</tr>
									<tr align="center">
										<td>
											
											<rich:calendar inputClass="textoControles" inputStyle="background-color: #ffffe6;" inputSize="11"
										       value="#{calendarioEmisionesDeudaExtBean.fechaCorte}"
										       datePattern="dd/MM/yyyy" tabindex="120" />
											
										</td>
										<td>
										<rich:calendar inputClass="textoControles" inputStyle="background-color: #ffffe6;" inputSize="11"
										       value="#{calendarioEmisionesDeudaExtBean.fechaPago}"
										       datePattern="dd/MM/yyyy" tabindex="130" />
										</td>
										<td>
											<h:inputText autocomplete="off" id="referencia"
												value="#{calendarioEmisionesDeudaExtBean.refCustodio}" size="16"
												maxlength="16" styleClass="textoControles campoAlphaNumerico textoMayusculas" tabindex="131" />
										</td>
										<td>
											<h:selectBooleanCheckbox id="hojaDeTrabajo" tabindex="133" value="#{calendarioEmisionesDeudaExtBean.hojaDeTrabajo}" />
										</td>										
									</tr>							

								</table>
							</td>
							<td class="recuadroTabla" align="center">
								<table class="tablaCriterios" align="center">
									<tr>
										<td nowrap="true" align="center">
											<h:outputText styleClass="texto" value="#{etq.custodio}" />
										</td>
										<td nowrap="true" align="center">
											<h:outputText styleClass="texto" value="#{etq.caev}" />
										</td>	
										<td nowrap="true" align="center">
											<h:outputText styleClass="texto" value="#{etq.camv}" />
										</td>									
									</tr>
									<tr>
										<td align="center">
											<h:selectOneMenu styleClass="textoControles"
												value="#{calendarioEmisionesDeudaExtBean.custodio}" tabindex="140" >
												<f:selectItem itemValue="-1" itemLabel="Todos" />
												<f:selectItems value="#{calendarioEmisionesDeudaExtBean.custodios}" />												
											</h:selectOneMenu>
											
										</td>
										<td align="center">
											<h:selectOneMenu styleClass="textoControles"
												value="#{calendarioEmisionesDeudaExtBean.tipoPagoCAEV}"
												tabindex="150">
												<f:selectItem itemValue="-1" itemLabel="Todos" />
												<f:selectItems
													value="#{calendarioEmisionesDeudaExtBean.tiposPagoCAEV}" />
											</h:selectOneMenu>
										</td>
										<td align="center">
											<h:selectOneMenu styleClass="textoControles"
												value="#{calendarioEmisionesDeudaExtBean.tipoPagoCAMV}"
												tabindex="151">
												<f:selectItem itemValue="-1" itemLabel="Todos" />
												<f:selectItems
													value="#{calendarioEmisionesDeudaExtBean.tiposPagoCAMV}" />
											</h:selectOneMenu>
										</td>													
									</tr>
								</table>
							</td>

						</tr>
					</table>
				</div>
			</h:panelGroup>
			<h:panelGroup id="panelResumen">
				<h:panelGroup rendered="#{calendarioEmisionesDeudaExtBean.consultaEjecutada}">
					<div id="divResumen" style="display: #{calendarioEmisionesDeudaExtBean.consultaEjecutada ? 'inline':'none'}">
						<table width="100%" border="0" cellpadding="0px" cellspacing="5px">
							<tr>
								<td class="recuadroTabla">
									<table class="tablaCriterios texto" border="0" style="text-align: center">
										
										<tr>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.tv}" />
											</td>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.emisoraMinus}" />
											</td>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.serieMinus}" />
											</td>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.cuponMinus}" />
											</td>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.isin}" />
											</td>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.estatus}" />
											</td>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.divisaMinus}" />
											</td>
										</tr>
										<tr align="center">
											<td>
												<h:panelGroup>
													<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.tipoValor}" rendered="#{!empty calendarioEmisionesDeudaExtBean.tipoValor}"/>
	                                            <h:outputText styleClass="texto" value="TODOS" rendered="#{empty calendarioEmisionesDeudaExtBean.tipoValor}"/>
												</h:panelGroup>
											</td>
											<td>
												<h:panelGroup>
													<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.emisora}" rendered="#{!empty calendarioEmisionesDeudaExtBean.emisora}"/>
	                                            <h:outputText styleClass="texto" value="TODAS" rendered="#{empty calendarioEmisionesDeudaExtBean.emisora}"/>
												</h:panelGroup>
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.serie}" rendered="#{!empty calendarioEmisionesDeudaExtBean.serie}"/>
	                                            <h:outputText styleClass="texto" value="TODAS" rendered="#{empty calendarioEmisionesDeudaExtBean.serie}"/>
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.cupon}" rendered="#{!empty calendarioEmisionesDeudaExtBean.cupon}"/>
	                                            <h:outputText styleClass="texto" value="TODOS" rendered="#{empty calendarioEmisionesDeudaExtBean.cupon}"/>
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.isin}" rendered="#{!empty calendarioEmisionesDeudaExtBean.isin}"/>
	                                            <h:outputText styleClass="texto" value="TODAS" rendered="#{empty calendarioEmisionesDeudaExtBean.isin}"/>
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.selectedEstado}" rendered="#{!empty calendarioEmisionesDeudaExtBean.estado and calendarioEmisionesDeudaExtBean.estado ne '-1'}"/>
	                                            <h:outputText styleClass="texto" value="TODOS" rendered="#{calendarioEmisionesDeudaExtBean.estado eq '-1'}"/>
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.selectedDivisa}" rendered="#{!empty calendarioEmisionesDeudaExtBean.divisa and calendarioEmisionesDeudaExtBean.divisa ne '-1'}"/>
	                                            <h:outputText styleClass="texto" value="TODOS" rendered="#{calendarioEmisionesDeudaExtBean.divisa eq '-1'}"/>
											</td>
											
											
										</tr>
										<tr>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.fechaCorteMinus}" />
											</td>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.fechaPago}" />
											</td>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.referencia}" />
											</td>
											<td align="center">
												<h:outputText styleClass="texto" value="Hoja de Trabajo" />
											</td>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.custodio}" />
											</td>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.caev}" />
											</td>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.camv}" />
											</td>
										</tr>
										<tr>
											<td>
												<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.fechaCorte}" rendered="#{!empty calendarioEmisionesDeudaExtBean.fechaCorte}"/>
	                                            <h:outputText styleClass="texto" value="TODOS" rendered="#{empty calendarioEmisionesDeudaExtBean.fechaCorte}"/>
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.fechaPago}" rendered="#{!empty calendarioEmisionesDeudaExtBean.fechaPago}"/>
	                                            <h:outputText styleClass="texto" value="TODOS" rendered="#{empty calendarioEmisionesDeudaExtBean.fechaPago}"/>
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.refCustodio}" rendered="#{!empty calendarioEmisionesDeudaExtBean.refCustodio}"/>
	                                            <h:outputText styleClass="texto" value="TODOS" rendered="#{empty calendarioEmisionesDeudaExtBean.refCustodio}"/>
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.hojaDeTrabajo ? 'Si':'No'}" />
	                                           
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.selectedCustodio}" rendered="#{!empty calendarioEmisionesDeudaExtBean.custodio and calendarioEmisionesDeudaExtBean.custodio ne '-1'}"/>
	                                            <h:outputText styleClass="texto" value="TODOS" rendered="#{ calendarioEmisionesDeudaExtBean.custodio eq '-1'}"/>
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.selectedTipoPagoCAEV}" rendered="#{!empty calendarioEmisionesDeudaExtBean.tipoPagoCAEV and calendarioEmisionesDeudaExtBean.tipoPagoCAEV ne '-1'}"/>
	                                            <h:outputText styleClass="texto" value="TODOS" rendered="#{ calendarioEmisionesDeudaExtBean.tipoPagoCAEV eq '-1'}"/>
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.selectedTipoPagoCAMV}" rendered="#{!empty calendarioEmisionesDeudaExtBean.tipoPagoCAMV and calendarioEmisionesDeudaExtBean.tipoPagoCAMV ne '-1'}"/>
	                                            <h:outputText styleClass="texto" value="TODOS" rendered="#{ calendarioEmisionesDeudaExtBean.tipoPagoCAMV eq '-1'}"/>
											</td>
										</tr>										
									</table>							
								</td>
							</tr>								
						</table>															
					</div>
				</h:panelGroup>
			</h:panelGroup>
		</ui:define>
		<ui:define name="botones">
			<h:panelGroup id="botones">				
				<div class="refrescar" style="float: left;">
	        		 <a4j:status id="commonStatus">
						<f:facet name="start">
							<h:panelGroup>
								<h:graphicImage value="/images/ajax-loader.gif" />
								<h:outputText value="#{etq.buscando}"></h:outputText>
							</h:panelGroup>
						</f:facet>
					</a4j:status> 	
	        	</div>
				<div class="limpiar">
					<h:commandButton id="botonLimpiar" image="/images/transparent.gif"
						styleClass="submit" 
						onclick="limpiarTodos();"
						actionListener="#{calendarioEmisionesDeudaExtBean.limpiar}" 
						tabindex="8"/>
				</div>
				<div class="buscar">
					<a4j:commandButton id="botonBuscar" image="/images/transparent.gif"
						styleClass="submit"
						oncomplete='javascript:presentarResumen();limpiarTodos()'
						actionListener="#{calendarioEmisionesDeudaExtBean.buscarDerechos}"
						reRender="containerResultados,totalesConsultas,tablaResultados,botones,mensajeUsuario,panelResumen"
						tabindex="7">
                        <f:setPropertyActionListener value="true"
                                                     target="#{calendarioEmisionesDeudaExtBean.banderaBitacoraConsulta}" />
					</a4j:commandButton>
				</div>
				<div class="editar" style="display:#{consultaEmisionesBean.consultaEjecutada?'inline':'none'};float:right;" id="botonEditarCriterios">            
	            	<input type="image" class="submit"
						src="#{facesContext.externalContext.requestContextPath}/images/transparent.gif"
						alt="Editar Criterios" title="Editar Criterios"
						onclick='javascript:presentarCriterios();limpiarTodos();return false;' />                      	
	           	</div>
           	</h:panelGroup>
		</ui:define>


		<ui:define name="seccionContenido">
			<h:panelGroup id="containerResultados">
				<h:panelGroup rendered="#{calendarioEmisionesDeudaExtBean.consultaEjecutada}">
					<t:dataTable id="noExistenResultados"
						value="#{calendarioEmisionesDeudaExtBean.paginaVO.registros}"
						styleClass="tablaGeneral" headerClass="tituloTabla" width="100%"
						footerClass="tituloTabla" border="0" cellpadding="3px"
						cellspacing="0px" columnClasses="everyColumn"
						rowClasses="renglonTablaUno, renglonTablaDos"
						rendered="#{empty calendarioEmisionesDeudaExtBean.paginaVO.registros}">

						<t:column>
							<f:facet name="header">
								<h:outputText value="#{etq.sinResultados}"></h:outputText>
							</f:facet>

						</t:column>
					</t:dataTable>
					
					<br/>
					<br/>
					<br/>
					<h:panelGroup id="tablaResultados">						
						<h:graphicImage value="/images/blank.gif" width="900px"
							height="1px"></h:graphicImage>
						<h:panelGroup
							rendered="#{not empty calendarioEmisionesDeudaExtBean.paginaVO.registros}">
							<table width="100%" border="0">
								<tr>
									<td align="left" class="textoEstadoCuenta">
										<a4j:commandLink id="control_bitacora_primero"
											action="#{calendarioEmisionesDeudaExtBean.irPrimeraPagina}"
											rendered="#{calendarioEmisionesDeudaExtBean.irAlPrimero}"
											reRender="totalesConsultas,containerInfoPaginacionBitacora,tablaResultados,botonesExportar,containerResultados">
											<img
												src="#{facesContext.externalContext.requestContextPath}/images/control_primero.png"
												border="0" />
										</a4j:commandLink>

										<a4j:commandLink id="control_bitacora_atras_fast"
											action="#{calendarioEmisionesDeudaExtBean.retrocederPaginasRapido}"
											rendered="#{calendarioEmisionesDeudaExtBean.retrocederRapido}"
											reRender="containerResultados,totalesConsultas,containerInfoPaginacionBitacora,tablaResultados,botonesExportar">
											<img
												src="#{facesContext.externalContext.requestContextPath}/images/control_atras_fast.png"
												border="0" />
										</a4j:commandLink>

										<a4j:commandLink id="control_bitacora_atras"
											action="#{calendarioEmisionesDeudaExtBean.retrocederPagina}"
											rendered="#{calendarioEmisionesDeudaExtBean.retroceder}"
											reRender="containerResultados,totalesConsultas,containerInfoPaginacionBitacora,tablaResultados,botonesExportar">
											<img
												src="#{facesContext.externalContext.requestContextPath}/images/control_atras.png"
												border="0" />
										</a4j:commandLink>
										<a4j:commandLink id="control_bitacora_adelante"
											action="#{calendarioEmisionesDeudaExtBean.avanzarPagina}"
											rendered="#{calendarioEmisionesDeudaExtBean.avanzar}"
											reRender="containerResultados,totalesConsultas,containerInfoPaginacionBitacora,tablaResultados,botonesExportar">
											<img
												src="#{facesContext.externalContext.requestContextPath}/images/control_adelante.png"
												border="0" />
										</a4j:commandLink>

										<a4j:commandLink id="control_bitacora_adelante_fast"
											action="#{calendarioEmisionesDeudaExtBean.avanzarPaginasRapido}"
											rendered="#{calendarioEmisionesDeudaExtBean.avanzarRapido}"
											reRender="containerResultados,totalesConsultas,containerInfoPaginacionBitacora,tablaResultados,botonesExportar">
											<img
												src="#{facesContext.externalContext.requestContextPath}/images/control_adelante_fast.png"
												border="0" />

										</a4j:commandLink>

										<a4j:commandLink id="control_bitacora_ultimo"
											action="#{calendarioEmisionesDeudaExtBean.irUltimaPagina}"
											rendered="#{calendarioEmisionesDeudaExtBean.irAlUltimo}"
											reRender="containerResultados,totalesConsultas,containerInfoPaginacionBitacora,tablaResultados,botonesExportar">
											<img
												src="#{facesContext.externalContext.requestContextPath}/images/control_ultimo.png"
												border="0" />
										</a4j:commandLink>

										<br />
										<h:outputText value="#{etq.mostrando}"
											styleClass="textoResumen" />
										<h:outputText value="#{calendarioEmisionesDeudaExtBean.numeroPagina}"
											styleClass="textoResumen" />
										<h:outputText value="#{etq.de}" styleClass="textoResumen" />
										<h:outputText value="#{calendarioEmisionesDeudaExtBean.totalPaginas}"
											styleClass="textoResumen" />
										<h:outputText value="#{etq.cierre}" styleClass="textoResumen"></h:outputText>
										&#160;&#160;&#160;
										<h:outputText
											value="#{calendarioEmisionesDeudaExtBean.paginaVO.totalRegistros}"
											styleClass="textoResumen" converter="formatoEnteroConverter"></h:outputText>
										&#160;
										<h:outputText styleClass="textoResumen"
											value="#{etq.registrosEncontrados}" />
									</td>
									<td align="right" class="textoEstadoCuenta">
										<h:outputText escape="false" value="#{etq.registrosPorPagina}"
											styleClass="textoResumen" />
										<h:selectOneMenu id="tamanioPagina" styleClass="textoResumen"
											value="#{calendarioEmisionesDeudaExtBean.paginaVO.registrosXPag}">
											<f:selectItem itemLabel="1" itemValue="1" />
											<f:selectItem itemLabel="2" itemValue="2" />
											<f:selectItem itemLabel="5" itemValue="5" />
											<f:selectItem itemLabel="10" itemValue="10" />
											<f:selectItem itemLabel="20" itemValue="20" />
											<f:selectItem itemLabel="50" itemValue="50" />
											<f:selectItem itemLabel="100" itemValue="100" />
											<a4j:support event="onchange"
												reRender="containerResultados,totalesConsultas,containerInfoPaginacionBitacora,tablaResultados,botonesExportar,mensajeUsuario"
												action="#{calendarioEmisionesDeudaExtBean.ejecutarConsulta}" >
                                                <f:setPropertyActionListener value="false"
                                                                             target="#{calendarioEmisionesDeudaExtBean.banderaBitacoraConsulta}" />
                                            </a4j:support>
										</h:selectOneMenu>&#160;&#160;&#160;&#160;&#160;
									</td>
								</tr>
							</table>
						</h:panelGroup>
						<h:inputHidden id="calIdDerechoRegistrar"/>
						<h:inputHidden id="calIdDerechoAutorizar"/>
						<h:inputHidden id="calIdDerechoPrevio"/>
						<h:inputHidden id="calIdDerechoConfirmar"/>
						<h:inputHidden id="calIdDerechoPreliquidar"/>
						<h:inputHidden id="calIdDerechoLiquidar"/>
						<h:inputHidden id="calIdDerechoCorregir"/>
						<h:inputHidden id="calIdDerechoCancelar"/>
						<h:inputHidden id="calIdDerechoSuspender"/>
						
						<table border="0" class="tablaGeneral" width="900px"
								cellspacing="0px" style="display:#{empty calendarioEmisionesDeudaExtBean.paginaVO.registros?'none':'inLine'}">
							<!-- ========================= ENCABEZADOS ===============================================-->
							<tr>
								<th class="tituloTabla"  rowspan='3' ><h:outputText value="#{etq.referencia}"/></th>
								<th class="tituloTabla"  rowspan='3' ><h:outputText value="#{etq.mensajeMinus}"/></th>
								<th class="tituloTabla"  rowspan='3' ><h:outputText value="#{etq.tipoDerecho}"/></th>
								<th class="tituloTabla" ><h:outputText value="#{etq.tv} / #{etq.emisoraMinus}"/></th>								
								<th class="tituloTabla" rowspan='3' ><h:outputText value="#{etq.fechaCorteMinus}"/></th>
								<th class="tituloTabla" ><h:outputText value="#{etq.fechaPago}"/></th>
								<th class="tituloTabla" rowspan='3' ><h:outputText value="#{etq.periodo}"/></th>
								<th class="tituloTabla" ><h:outputText value="#{etq.diasSP}"/></th>
								<th class="tituloTabla" ><h:outputText value="#{etq.tasaPorcentaje}"/></th>
								<th class="tituloTabla" ><h:outputText value="#{etq.factor}"/></th>								
								<th class="tituloTabla" ><h:outputText value="#{etq.posicionMensaje}"/></th>
								<th class="tituloTabla"  rowspan='2' ><h:outputText value="#{etq.importe}"/></th>
								<th class="tituloTabla"  rowspan='2' ><h:outputText value="#{etq.importePTSA}"/></th>
								<th class="tituloTabla"  rowspan='3' ><h:outputText value="#{etq.importeConfirmado}"/></th>
								<th class="tituloTabla"  rowspan='3' ><h:outputText value="#{etq.divisaMinus}"/></th>
								<th class="tituloTabla"  rowspan='3' ><h:outputText value="#{etq.custodio}"/></th>
								
								<th class="tituloTabla"  rowspan='3' ><h:outputText value="#{etq.estado}"/></th>
																		
								<th class="tituloTabla"  rowspan='3' >
									<h:panelGroup rendered="#{!empty sessionScope.roles['INT_CAL_INDEVAL_SU']}">
									<h:outputText value="Reg"/>
									<input id="chk_registra_todos"	type="checkbox" onclick="registraTodos(this);" />
									</h:panelGroup>
								</th>
								
								<th class="tituloTabla"  rowspan='3' >
									<h:outputText value="Auto"/>
									<input id="chk_autoriza_todos" type="checkbox" onclick="autorizarTodos(this);" />
								</th>
								<th class="tituloTabla"  rowspan='3' >
									<h:outputText value="Prev"/>
									<input  id="chk_previo_todos" type="checkbox" onclick="previoTodos(this);" />
								</th>
								<th class="tituloTabla"  rowspan='3' >
									<h:outputText value="Conf"/>
									<input  id="chk_confirma_todos"	type="checkbox"	onclick="confirmaTodos(this);" />
								</th>
								<th class="tituloTabla"  rowspan='3' >
									<h:outputText value="Pliq"/>
									<input id="chk_preliquida_todos" type="checkbox" onclick="preliquidaTodos(this);" />
								</th>
								<th class="tituloTabla"  rowspan='3' >
									<h:outputText value="Liq"/>
									<input id="chk_liquida_todos"	type="checkbox" onclick="liquidaTodos(this);" />
								</th>
								
								<th class="tituloTabla"  rowspan='3' style="visibility:#{!empty sessionScope.roles['INT_CAL_INDEVAL_SU']? 'visible':'hidden' }">
									<h:outputText value="Susp"/>
									<input id="chk_suspende_todos"	type="checkbox" onclick="suspendeTodos(this);" />
								</th>
															
								
								<th class="tituloTabla"  rowspan='3' style="visibility:#{!empty sessionScope.roles['INT_CAL_INDEVAL_SU']? 'visible':'hidden' }">
									<h:outputText value="Canc"/>
									<input id="chk_cancela_todos"	type="checkbox" onclick="cancelaTodos(this);" />
								</th>
								
							</tr>
							<tr>
								<th class="tituloTabla" ><h:outputText value="#{etq.serieMinus} / #{etq.cuponMinus}"/></th>								
								<th class="tituloTabla" ><h:outputText value="#{etq.fechaValor}"/></th>
								<th class="tituloTabla" ><h:outputText value="#{etq.diasMensaje}"/></th>
								<th class="tituloTabla" ><h:outputText value="#{etq.tipoTasa}"/></th>
								<th class="tituloTabla" ><h:outputText value="#{etq.factorCal}"/></th>	
								<th class="tituloTabla" ><h:outputText value="#{etq.posicionVNIndeval}"/></th>
							</tr>
							<tr>
								<th class="tituloTabla" ><h:outputText value="#{etq.isin}"/></th>
								<th class="tituloTabla" ><h:outputText value="#{etq.fechaPost}"/></th>
								<th class="tituloTabla" ><h:outputText value="#{etq.diasVerificacion}"/></th>
								<th class="tituloTabla" ><h:outputText value="#{etq.tasaVerificacion}"/></th>
								<th class="tituloTabla" ><h:outputText value="#{etq.factorVerificacion}"/></th>
								<th class="tituloTabla" ><h:outputText value="#{etq.posicionIndeval}/#{etq.valorNominalMinus}"/></th>
								<th class="tituloTabla" ><h:outputText value="#{etq.importeIndeval}"/></th>
								<th class="tituloTabla" ><h:outputText value="#{etq.importeGRSS}"/></th>
								
							</tr>
							
							<t:dataList id="resultados"
								value="#{calendarioEmisionesDeudaExtBean.paginaVO.registros}"
								var="derecho"														
								rowIndexVar="indice">
							<tr>
							<!-- =============================== DATOS_CONSULTA ========================================= -->
								<!-- REFERENCIA Y DETALLE -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado"  rowspan='3'>
									<h:outputText value="#{derecho.referencia}" /><br/>
									<a href="javascript:detalleDerecho(#{derecho.idCalendario});">
										<h:outputText styleClass="texto textoPeque12 sinSubrayar" value="#{etq.verDetalle}" />
									</a>
								</td>
								<!-- FOLIO -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado"  rowspan='3'>
									<h:outputText value="#{derecho.folio}" />
								</td>
								<!-- CLAVE_PAGO -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado"  rowspan='3'>
									<h:outputText value="#{derecho.tipoPagoCAEV.clavePago}" rendered="#{!empty derecho.tipoPagoCAEV.clavePago}" title="#{derecho.tipoPagoCAEV.descripcion}"/> 
									<h:outputText value="-" rendered="#{empty derecho.tipoPagoCAEV.clavePago}"/>
									<h:outputText value=" / " />
									<h:outputText value="#{derecho.tipoPagoCAMV.clavePago}" rendered="#{!empty derecho.tipoPagoCAMV.clavePago}" title="#{derecho.tipoPagoCAMV.descripcion}"/> 
									<h:outputText value="-" rendered="#{empty derecho.tipoPagoCAMV.clavePago}"/>
								</td>
								<!-- TIPO_VALOR / EMISORA-->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">
									<h:outputText value="#{derecho.tipoValor}" rendered="#{!empty derecho.tipoValor}"/>
									<h:outputText value="-" rendered="#{empty derecho.tipoValor}"/>
									<h:outputText value=" / " />
									<h:outputText value="#{derecho.emisora}" rendered="#{!empty derecho.emisora}"/>
									<h:outputText value="-" rendered="#{empty derecho.emisora}"/>
								</td>
								
								<!-- FECHA_CORTE -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado" rowspan='3'>
									<h:outputText value="#{derecho.fechaCorte}" rendered="#{!empty derecho.fechaCorte}"/>
									<h:outputText value="-" rendered="#{empty derecho.fechaCorte}"/>
								</td>
								<!-- FECHA_PAGO -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">
									<h:outputText value="#{derecho.fechaPago}" rendered="#{!empty derecho.fechaPago}"/> 
									<h:outputText value="-" rendered="#{empty derecho.fechaPago}"/> 
								</td>
								<!-- PERIODO -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado" rowspan='3'>
									<h:outputText value="#{derecho.periodoInicio}" rendered="#{!empty derecho.periodoInicio}"/>
									<h:outputText value="-" rendered="#{empty derecho.periodoInicio}"/>
									<h:outputText value=" - "/>
									<h:outputText value="#{derecho.periodoFin}" rendered="#{!empty derecho.periodoFin}"/>
									<h:outputText value="-" rendered="#{empty derecho.periodoFin}"/>
								</td>
								<!-- DIAS_SP -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">
									<h:outputText value="#{derecho.diasSP}" rendered="#{!empty derecho.diasSP}"/>
									<h:outputText value="-" rendered="#{empty derecho.diasSP}"/>
								</td>
								<!-- TASA -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">
									<h:outputText value="#{derecho.tasa}" rendered="#{!empty derecho.tasa}"/> 
									<h:outputText value="-" rendered="#{empty derecho.tasa}"/>
								</td>
								<!-- FACTOR -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado" >
									<h:outputText value="#{derecho.factor}" rendered="#{!empty derecho.factor}"   >
										<f:convertNumber pattern="###,###,###,###,###,##0.#######"/>
									</h:outputText> 
									<h:outputText value="-" rendered="#{empty derecho.factor}" />
								</td>
								
								<!-- POSICION_MENSAJE -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado"  >
									<h:outputText value="#{derecho.posicionMensaje}" rendered="#{!empty derecho.posicionMensaje}">
									<f:convertNumber pattern="###,###,###,###,###,##0.00"/>
									</h:outputText> 
									<h:outputText value="-" rendered="#{empty derecho.posicionMensaje}"/>
								</td>
								<!-- IMPORTE -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado"  rowspan='2'>
									<h:outputText value="#{derecho.importe}" rendered="#{!empty derecho.importe}">
										<f:convertNumber pattern="###,###,###,###,###,##0.00"/>
									</h:outputText> 
									<h:outputText value="-" rendered="#{empty derecho.importe}"/>
								</td>
								<!-- IMPORTE_PTSA-->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado"  rowspan='2'>
									<h:outputText value="#{derecho.importePTSA}" rendered="#{!empty derecho.importePTSA}"> 
										<f:convertNumber pattern="###,###,###,###,###,##0.00"/>
									</h:outputText>
									<h:outputText value="-" rendered="#{empty derecho.importePTSA}"/>
								</td>
								<!-- IMPORTE_CONFIRMADO-->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado"  rowspan='3'>
									<h:outputText value="#{derecho.montoConfirmado}" rendered="#{!empty derecho.montoConfirmado}">
										<f:convertNumber pattern="###,###,###,###,###,##0.00"/>
									</h:outputText>
									<h:outputText value="-" rendered="#{empty derecho.montoConfirmado}"/>
								</td>
								<!-- MONEDA -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado"  rowspan='3'>
									<h:outputText value="#{derecho.divisa}" />
								</td>
								<!-- CUSTODIO -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado"  rowspan='3'>
									<h:outputText value="#{derecho.custodio.codigoBanco}"/>
								</td>
								
								<!-- ESTADO -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado"  rowspan='3'>
									<table>
									<tr><td>
									<h:outputText value="#{derecho.estado.descripcion}" rendered="#{derecho.estado.descripcion ne 'REVERSAL'}"/>									
									<h:outputText value="#{derecho.estado.descripcion}" rendered="#{derecho.estado.descripcion eq 'REVERSAL'}" style="color:red"/>
									<a4j:commandButton id="botonCorregir" title="Corregir"
													rendered="#{derecho.estado.descripcion eq 'REVERSAL'}"
													action="#{calendarioEmisionesDeudaExtBean.corregirReversal}"
													onclick="lockBotones('botonCorregir');agregaCorregir('#{derecho.idCalendario}');"
													image="/images/accept.png" 
													reRender="resultados,containerResultados,tablaResultados,panelResumen"
													limitToList="true"													
													oncomplete="unlockBotones('botonCorregir');refresco();window.scrollTo(0,0);">
									</a4j:commandButton>
									</td></tr>
									<tr><td>
									<h:outputText value="#{derecho.control.estado}" rendered="#{!empty derecho.control}" style="color:blue" title="#{derecho.control.descripcion}"/>
									</td></tr>
									</table>
								</td>
								<!-- FN_REGISTRAR -->
								
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado"  rowspan='3' >
									<h:panelGroup rendered="#{!empty sessionScope.roles['INT_CAL_INDEVAL_SU']}"
										styleClass="registra_#{derecho.idCalendario}"  >
											<table><tr><td>
												<input id="chk_registra_#{derecho.idCalendario}" type="checkbox"
													onclick="agregaRegistrar('chk_registra_#{derecho.idCalendario}' , false);"/>
												</td></tr>
												<tr><td>
												<a4j:commandButton id="botonRegistrar" title="Registrar"
													action="#{calendarioEmisionesDeudaExtBean.registrarDerechos}"
													onclick="lockBotones('botonRegistrar');agregaRegistrar('chk_registra_#{derecho.idCalendario}' , true);if(!validarAccion('registrar')){unlockBotones('botonRegistrar');return false;}"
													image="/images/accept.png" 
													reRender="resultados,containerResultados,tablaResultados,panelResumen"
													limitToList="true"													
													oncomplete="limpiar('chk_registra_#{derecho.idCalendario}');unlockBotones('botonRegistrar');refresco();window.scrollTo(0,0);">
												</a4j:commandButton>
											</td></tr></table>
									</h:panelGroup>
								</td>
								
								<!-- FN_AUTORIZAR -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado"  rowspan='3'>
									<h:panelGroup rendered="#{(derecho.estado.descripcion ne 'LIQUIDADO' and derecho.estado.descripcion eq 'REGISTRADO') or (!empty sessionScope.roles['INT_CAL_INDEVAL_SU'])}"
										styleClass="autoriza_#{derecho.idCalendario}"  >
											<table><tr><td>
												<input id="chk_autoriza_#{derecho.idCalendario}" type="checkbox"
													onclick="agregaAutorizar('chk_autoriza_#{derecho.idCalendario}' , false);"/>
												</td></tr>
												<tr><td>
												<a4j:commandButton id="botonAutorizar" title="Autorizar"
													action="#{calendarioEmisionesDeudaExtBean.autorizarDerechos}"
													onclick="lockBotones('botonAutorizar');agregaAutorizar('chk_autoriza_#{derecho.idCalendario}' , true);if(!validarAccion('autorizar')){unlockBotones('botonAutorizar');return false;}"
													image="/images/accept.png" 
													reRender="resultados,containerResultados,tablaResultados,panelResumen"
													limitToList="true"													
													oncomplete="limpiar('chk_autoriza_#{derecho.idCalendario}');unlockBotones('botonAutorizar');refresco();window.scrollTo(0,0);">
												</a4j:commandButton>
											</td></tr></table>
									</h:panelGroup>
								</td>
								<!-- FN_PREVIO -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado"  rowspan='3'>
									<h:panelGroup 
											rendered="#{(derecho.estado.descripcion ne 'LIQUIDADO' and derecho.estado.descripcion eq 'AUTORIZADO' and empty calendarioEmisionesDeudaExtBean.derechosAutomatizadosDeuda[derecho.tipoValor] ) or (!empty sessionScope.roles['INT_CAL_INDEVAL_SU'])}"
											styleClass="previo_#{derecho.idCalendario}" >
											<table><tr><td>
												<input  id="chk_previo_#{derecho.idCalendario}" type="checkbox"
													onclick="agregaPrevio('chk_previo_#{derecho.idCalendario}' , false);"
													 />
												</td></tr>
												<tr><td>
												<a4j:commandButton id="botonPrevio" title="Previo"
														action="#{calendarioEmisionesDeudaExtBean.previoDerechos}"
														onclick="lockBotones('botonPrevio');agregaPrevio('chk_previo_#{derecho.idCalendario}' , true);if(!validarAccion('previo')){unlockBotones('botonPrevio');return false;}"
														image="/images/accept.png"
														reRender="resultados,containerResultados,tablaResultados,panelResumen"
														limitToList="true"
														oncomplete="limpiar('chk_previo_#{derecho.idCalendario}');unlockBotones('botonPrevio');refresco();window.scrollTo(0,0);">														
												</a4j:commandButton>
											</td></tr></table>										
									</h:panelGroup>
								</td>
								<!-- FN_CONFIRMAR -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado"  rowspan='3'>
									<h:panelGroup rendered="#{(derecho.estado.descripcion ne 'LIQUIDADO' and derecho.estado.descripcion eq 'PREVIO')or  (!empty sessionScope.roles['INT_CAL_INDEVAL_SU']) }"
											styleClass="confirma_#{derecho.idCalendario}" >
											
											<!-- a href="javascript:seleccionBoveda(#{derecho.idCalendario});">											
												<h:outputText styleClass="texto textoPeque12 sinSubrayar" value="envio msj Retiro" rendered ="#{derecho.estaAutomatizado}"/>
											</a-->
											<table><tr><td>
											<input  id="chk_confirma_#{derecho.idCalendario}"	type="checkbox"
													onclick="agregaConfirma('chk_confirma_#{derecho.idCalendario}' , false);"
													 />				
											</td></tr>
											<tr><td>
											<a4j:commandButton id="botonConfirmar" title="Confirmar"
													value="update"
													action="#{calendarioEmisionesDeudaExtBean.confirmaDerechos}"													
													image="/images/accept.png" 												
													onclick="lockBotones('botonConfirmar');agregaConfirma('chk_confirma_#{derecho.idCalendario}' , true);if(!validarAccion('confirmar')){unlockBotones('botonConfirmar');return false;}"
													reRender="resultados,containerResultados,tablaResultados,panelResumen"
													limitToList="true"
													oncomplete="limpiar('chk_confirma_#{derecho.idCalendario}');unlockBotones('botonConfirmar');refresco();window.scrollTo(0,0);"																									
													>
											</a4j:commandButton>
											</td></tr></table>
									</h:panelGroup>
								</td>
								<!-- FN_PRELIQUIDAR -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado"  rowspan='3'>
									<h:panelGroup rendered="#{(derecho.estado.descripcion ne 'LIQUIDADO' and derecho.estado.descripcion eq 'CONFIRMADO') or (!empty sessionScope.roles['INT_CAL_INDEVAL_SU']) }"
											styleClass="preliquida_#{derecho.idCalendario}" >	
											<table><tr><td>
												<input id="chk_preliquida_#{derecho.idCalendario}" type="checkbox"
													onclick="agregaPreliquida('chk_preliquida_#{derecho.idCalendario}' , false);"
													/>
											</td></tr>
											<tr><td>
												<a4j:commandButton id="botonPreliquidar" title="Preliquidar"
														action="#{calendarioEmisionesDeudaExtBean.preliquidaDerechos}"														
														image="/images/accept.png" 
														onclick="lockBotones('botonPreliquidar');agregaPreliquida('chk_preliquida_#{derecho.idCalendario}' , true);if(!validarAccion('preliquidar')){unlockBotones('botonPreliquidar');return false;}"
														reRender="resultados,containerResultados,tablaResultados,panelResumen"
														limitToList="true"
														oncomplete="limpiar('chk_preliquida_#{derecho.idCalendario}');unlockBotones('botonPreliquidar');refresco();window.scrollTo(0,0);"
														>
													</a4j:commandButton>
											</td></tr></table>
									</h:panelGroup>
								</td>
								<!--FN_LIQUIDAR -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado"  rowspan='3'>
									<h:panelGroup
										styleClass="liquida_#{derecho.idCalendario}" >
										<table><tr><td>	
											<input  id="chk_liquida_#{derecho.idCalendario}"	type="checkbox"
												onclick="agregaLiquida('chk_liquida_#{derecho.idCalendario}' , false);"
												 />
											</td></tr>
											<tr><td>
											<a4j:commandButton id="botonLiquidar" title="LiquidarXXXXX"
													action="#{calendarioEmisionesDeudaExtBean.liquidaDerechos}"
															   actionListener="#{calendarioEmisionesDeudaExtBean.liquidaDerechosEvent}"

													image="/images/accept.png"
													onclick="lockBotones('botonLiquidar');
													         agregaLiquida('chk_liquida_#{derecho.idCalendario}' , true);
													                          if(!validarAccionLiquidar('liquidar','#{derecho.montoConfirmado}',
													                          										'#{derecho.citiBank}',
													                          										'#{derecho.euroclearAndFechaPagoValor}',
													                          										'#{derecho.puedePagar}',
													                          										'#{derecho.hasM567}',
													                          										'#{derecho.euroclear}',
													                          										'#{derecho.custodioId}'
													                                                               )){unlockBotones('botonLiquidar');return false;}"
													reRender="resultados,containerResultados,tablaResultados,panelResumen"
													limitToList="true"
													oncomplete="limpiar('chk_liquida_#{derecho.idCalendario}');unlockBotones('botonLiquidar');refresco();window.scrollTo(0,0);"
													>
												<f:param id="idCalendarioID" name="idCalendarioID"
														 value="#{derecho.idCalendario}" />
												<f:param id="montoConfirmadoID" name="montoConfirmadoID"
														 value="#{derecho.montoConfirmado}" />
												<f:param id="citiBanID" name="citiBanID"
														 value="#{derecho.citiBank}" />
												<f:param id="euroclearAndFechaPagoValorID" name="euroclearAndFechaPagoValorID"
														 value="#{derecho.euroclearAndFechaPagoValor}" />
												<f:param id="hasM567ID" name="hasM567ID"
														 value="#{derecho.hasM567}" />
												<f:param id="puedePagarID" name="puedePagarID"
														 value="#{derecho.puedePagar}" />
												<f:param id="euroclearID" name="euroclearID"
														 value="#{derecho.euroclear}" />
											</a4j:commandButton>
										</td></tr></table>
									</h:panelGroup>	
								</td>
								<!--FN_SUSPENDER -->
								
									<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado"  rowspan='3' style="visibility:#{!empty sessionScope.roles['INT_CAL_INDEVAL_SU']? 'visible':'hidden' }">
										<h:panelGroup rendered="#{!empty sessionScope.roles['INT_CAL_INDEVAL_SU'] }"
										styleClass="suspende_#{derecho.idCalendario}" >
											<table><tr><td>	
												<input  id="chk_suspende_#{derecho.idCalendario}"	type="checkbox"
													onclick="agregaSuspende('chk_suspende_#{derecho.idCalendario}' , false);"
													 />
												</td></tr>
												<tr><td>
												<a4j:commandButton id="botonSuspender" title="Suspender"
														action="#{calendarioEmisionesDeudaExtBean.suspendeDerechos}"													
														image="/images/accept.png"
														onclick="lockBotones('botonSuspender');agregaSuspende('chk_suspende_#{derecho.idCalendario}' , true);if(!validarAccion('suspender')){unlockBotones('botonSuspender');return false;}" 
														reRender="resultados,containerResultados,tablaResultados,panelResumen"
														limitToList="true"
														oncomplete="limpiar('chk_suspende_#{derecho.idCalendario}');unlockBotones('botonSuspender');refresco();window.scrollTo(0,0);"
														>
												</a4j:commandButton>
											</td></tr></table>
										</h:panelGroup>
									</td>
									
								<!--FN_CANCELAR -->
								
									<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado"  rowspan='3' style="visibility:#{!empty sessionScope.roles['INT_CAL_INDEVAL_SU']? 'visible':'hidden' }">
										<h:panelGroup rendered="#{!empty sessionScope.roles['INT_CAL_INDEVAL_SU'] }"
										styleClass="cancela_#{derecho.idCalendario}" >
											<table><tr><td>	
												<input  id="chk_cancela_#{derecho.idCalendario}"	type="checkbox"
													onclick="agregaCancela('chk_cancela_#{derecho.idCalendario}' , false);"
													 />
												</td></tr>
												<tr><td>
												<a4j:commandButton id="botonCancelar" title="Cancelar"
														action="#{calendarioEmisionesDeudaExtBean.cancelaDerechos}"													
														image="/images/accept.png"
														onclick="lockBotones('botonCancelar');agregaCancela('chk_cancela_#{derecho.idCalendario}' , true);if(!validarAccion('cancelar')){unlockBotones('botonCancelar');return false;}" 
														reRender="resultados,containerResultados,tablaResultados,panelResumen"
														limitToList="true"
														oncomplete="limpiar('chk_cancela_#{derecho.idCalendario}');unlockBotones('botonCancelar');refresco();window.scrollTo(0,0);"
														>
												</a4j:commandButton>
											</td></tr></table>
										</h:panelGroup>	
									</td>
								
							</tr>
							<tr>
								<!-- SERIE / CUPON -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">									
									<h:outputText value="#{derecho.serie}" rendered="#{!empty derecho.serie}"/>
									<h:outputText value="-" rendered="#{empty derecho.serie}"/>
									<h:outputText value=" / " />
									<h:outputText value="#{derecho.cupon}" rendered="#{!empty derecho.cupon}"/>
									<h:outputText value="-" rendered="#{empty derecho.cupon}"/>
								</td>								
								<!-- FECHA_VALOR -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">
									<h:outputText value="#{derecho.fechaValor}" rendered="#{!empty derecho.fechaValor}"/> 
									<h:outputText value="-" rendered="#{empty derecho.fechaValor}"/> 
								</td>
								<!-- DIAS_MENSAJE -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">
									<h:outputText value="#{derecho.diasMensaje}" rendered="#{!empty derecho.diasMensaje}"/>
									<h:outputText value="-" rendered="#{empty derecho.diasMensaje}"/>
								</td>
								<!-- TIPO_TASA -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">
									<h:outputText value="#{derecho.tipoTasa}" rendered="#{!empty derecho.tipoTasa}"/> 
									<h:outputText value="-" rendered="#{empty derecho.tipoTasa}"/>
								</td>
								<!-- FACTOR_CALCULADO -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado" >
									<h:outputText value="#{derecho.factorCalculado}" rendered="#{!empty derecho.factorCalculado}"   >
										<f:convertNumber pattern="###,###,###,###,###,##0.#######"/>
									</h:outputText> 
									<h:outputText value="-" rendered="#{empty derecho.factorCalculado}" />
								</td>
								<!-- POSICION_VN_INDEVAL -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">
									<h:outputText value="#{derecho.posicionVNIndeval}" rendered="#{!empty derecho.posicionVNIndeval}">
										<f:convertNumber pattern="###,###,###,###,###,##0.00"/>
									</h:outputText> 
									<h:outputText value="-" rendered="#{empty derecho.posicionVNIndeval}"/>
								</td>
							</tr>
							<tr>
								<!-- ISIN -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado"  >
									<h:outputText value="#{derecho.isin}" rendered="#{!empty derecho.isin}"/>
									<h:outputText value="-" rendered="#{empty derecho.isin}"/>
								</td>
								<!-- FECHA_POST -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">
									<h:outputText value="#{derecho.fechaPost}" rendered="#{!empty derecho.fechaPost}"/> 
									<h:outputText value="-" rendered="#{empty derecho.fechaPost}"/> 
								</td>
								<!-- DIAS_VERIFICACION -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">
									<h:outputText value="#{derecho.diasVerificacion}" rendered="#{!empty derecho.diasVerificacion}"/> 
									<h:outputText value="-" rendered="#{empty derecho.diasVerificacion}"/> 
								</td>
								<!-- TASA_VERIFICACION -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">
									<h:outputText value="#{derecho.tasaVerificacion}" rendered="#{!empty derecho.tasaVerificacion}"/> 
									<h:outputText value="-" rendered="#{empty derecho.tasaVerificacion}"/>
								</td>
								<!-- FACTOR_VERIFICACION -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">
									<h:outputText value="#{derecho.factorVerificacion}" rendered="#{!empty derecho.factorVerificacion}" >
										<f:convertNumber pattern="###,###,###,###,###,##0.#######"/>
									</h:outputText> 
									<h:outputText value="-" rendered="#{empty derecho.factorVerificacion}"/>
								</td>								
								<!-- VALOR_NOMINAL -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado" >
									<h:outputText value="#{derecho.posicionIndeval}" rendered="#{!empty derecho.posicionIndeval}">
										<f:convertNumber pattern="###,###,###,###,###,##0.00"/>
									</h:outputText> 
									<h:outputText value="-" rendered="#{empty derecho.posicionIndeval}"/>
									<h:outputText value=" / " />
									<h:outputText value="#{derecho.valorNominal}" rendered="#{!empty derecho.valorNominal}">
										<f:convertNumber pattern="###,###,###,###,###,##0.00"/>
									</h:outputText>
									<h:outputText value="-" rendered="#{empty derecho.valorNominal}"/>
								</td>
								<!-- IMPORTE_INDEVAL -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">
									<h:outputText value="#{derecho.importeIndeval}" rendered="#{!empty derecho.importeIndeval}">
										<f:convertNumber pattern="###,###,###,###,###,##0.00"/>
									</h:outputText> 
									<h:outputText value="-" rendered="#{empty derecho.importeIndeval}"/>
								</td>
								<!-- IMPORTE_GRSS -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">
									<h:outputText value="#{derecho.importeGRSS}" rendered="#{!empty derecho.importeGRSS}">
										<f:convertNumber pattern="###,###,###,###,###,##0.00"/>
									</h:outputText> 
									<h:outputText value="-" rendered="#{empty derecho.importeGRSS}"/>
								</td>
							</tr>
							</t:dataList>
						</table>
					</h:panelGroup>
					<!-- ================================= EXPORTAR ============================================================ -->
					<h:panelGroup id="totalesConsultas"
						rendered="#{not empty calendarioEmisionesDeudaExtBean.paginaVO.registros}">					
					<table cellpadding="0" cellspacing="0" border="0" align="center"
						width="900px">
						<tr align="right">
							<td align="right">
								<h:panelGroup id="botonesExportar">
									<h:panelGroup
										style="display: #{(calendarioEmisionesDeudaExtBean.consultaEjecutada and not empty calendarioEmisionesDeudaExtBean.paginaVO.registros)? 'inline' : 'none'}">

										<h:outputText value="Exportar los resultados"></h:outputText>
										
										<h:commandButton actionListener="#{calendarioEmisionesDeudaExtBean.generarReportes}"
											action="calendarioEmisionesDeudaExtPDF"
											image="/images/pdf.gif"
											title="Exportar a PDF todos los resultados de la consulta"
											id="generarPdf"
											onclick="bloquearBotonesReportes(['generarExcel', 'generarPdf']);"/>
                           				&#160;&#160;

                          				<h:commandButton actionListener="#{calendarioEmisionesDeudaExtBean.generarReportes}"
                          					action="calendarioEmisionesDeudaExtXLS"
                          					image="/images/excel-file.gif"
                          					title="Exportar a Excel todos los resultados de la consulta" 
                            				id="generarExcel"
                            				onclick="bloquearBotonesReportes(['generarExcel', 'generarPdf']);">
                           				</h:commandButton>
                           			<div id="monitorPeticionReporte" style="display: none;">
											<h:panelGroup id="panelMonitorPeticionReporte">
												<h:graphicImage value="/images/ajax-loader.gif" />
												&#160;&#160;
												<h:outputText value="#{etq.reporteEnProceso}" />
												<a4j:commandButton id="btnActualizarEstadoPeticion"
													image="/images/transparent.gif"
													styleClass="submit"
													actionListener="#{calendarioEmisionesDeudaExtBean.actualizarEstadoPeticion}"
													reRender="panelMonitorPeticionReporte"
													oncomplete="desbloquearBotonesReportes(#{calendarioEmisionesDeudaExtBean.peticionReporteCompleta}, ['generarExcel', 'generarPdf']);"/>
											</h:panelGroup>
										</div>
									</h:panelGroup>
								</h:panelGroup>

							</td>
						</tr>
					</table>
					</h:panelGroup>
				</h:panelGroup>
			</h:panelGroup>
		</ui:define>


	</ui:composition>


	<!-- FIN DEL DECORATE -->
</html>