<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" xml:lang="en" lang="en"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:t="http://myfaces.apache.org/tomahawk">
	<!-- DECORATE -->

	<ui:composition template="/layoutConsultas.xhtml">
	
		<ui:define name="tituloEncabezado">

		</ui:define>
		<ui:define name="head">			
			<script language="javascript" type="text/javascript"
				src="#{facesContext.externalContext.requestContextPath}/js/calendarioEmisionesDeudaExt.js">
			</script>
		</ui:define>
		<ui:define name="tituloSeccion">
			<h:outputText value="#{etq.consultaDerechos}" />
		</ui:define>

		<ui:define name="tituloEncabezado">
			<h:outputText value="#{etq.calendarioEmisionesDeudaExt}"></h:outputText>
		</ui:define>



		<ui:define name="criterios">

			<h:outputText value="#{calendarioEmisionesDeudaExtBean.init}" />
			<a4j:keepAlive beanName="calendarioEmisionesDeudaExtBean" />
			<h:panelGroup id="mensajeUsuario">
				<div style="min-height: 21px;">						
					<rich:messages warnClass="warning" infoClass="info"
						errorClass="error" ajaxRendered="true" showDetail="false"
						showSummary="true" layout="list">
						<f:facet name="infoMarker">
							<h:panelGroup>
								<h:graphicImage url="/images/accept.png" />&#160;</h:panelGroup>
						</f:facet>

						<f:facet name="errorMarker">
							<h:panelGroup>
								<h:graphicImage url="/images/warning.gif" />&#160;</h:panelGroup>
						</f:facet>
					</rich:messages>
				
					<div id="divWarnings" class="warning" style="display:none;">
						<p id="textoWarning">										
						</p>
					</div>
				</div>
			</h:panelGroup>
			<h:panelGroup id="panelCriterios">
				<h:inputHidden id="isCalIndeval" value="false"/>
				<div style='display: "inline"' id="divCriterios">
					<table width="900px" border="0" cellpadding="0px" cellspacing="5px"
						align="center">
						<tr>							
							<td class="recuadroTabla" align="center">
								<table class="tablaCriterios" align="center">
									<tr>
										<td colspan="4" align="center">
											<b> <h:outputText styleClass="texto"
													value="#{etq.claveValor}" /> </b>
										</td>
									</tr>
									<tr>
										<td align="center">
											<h:outputText styleClass="texto" value="#{etq.tv}" />
										</td>
										<td align="center">
											<h:outputText styleClass="texto" value="#{etq.emisoraMinus}" />
										</td>
										<td align="center">
											<h:outputText styleClass="texto" value="#{etq.serieMinus}" />
										</td>
										<td align="center">
											<h:outputText styleClass="texto" value="#{etq.cuponMinus}" />
										</td>
										<td align="center">
											<h:outputText styleClass="texto" value="#{etq.isin}" />
										</td>
									</tr>
									<tr align="center">
										<td>
											<h:panelGroup>
												<h:inputText autocomplete="off" id="tipoValor"
													value="#{calendarioEmisionesDeudaExtBean.tipoValor}" size="7"
													maxlength="4" styleClass="textoControles campoAlphaNumerico textoMayusculas" tabindex="20" />
											</h:panelGroup>
										</td>
										<td>
											<h:panelGroup>
												<h:inputText autocomplete="off" id="emisora" size="7" maxlength="7"
													value="#{calendarioEmisionesDeudaExtBean.emisora}"
													required="false" styleClass="textoControles campoAlphaNumericoEmisora textoMayusculas" tabindex="30" />
											</h:panelGroup>
										</td>
										<td>
											<h:inputText autocomplete="off" id="serie"
												value="#{calendarioEmisionesDeudaExtBean.serie}" size="7"
												maxlength="6" styleClass="textoControles campoAlphaNumericoSerie textoMayusculas" tabindex="40" />
										</td>
										<td>
											<h:inputText autocomplete="off" id="cupon"
												value="#{calendarioEmisionesDeudaExtBean.cupon}" size="7"
												maxlength="4" styleClass="textoControles campoNumerico textoMayusculas" tabindex="50" />
										</td>
										<td>
											<h:inputText autocomplete="off" id="isin"
												value="#{calendarioEmisionesDeudaExtBean.isin}" size="12"
												maxlength="12" styleClass="textoControles campoAlphaNumerico textoMayusculas" tabindex="60" />
										</td>
									</tr>
								</table>
							</td>
							<td class="recuadroTabla" align="center">
								<table class="tablaCriterios" align="center">
									<tr>
										<td nowrap="true" align="center">
											<h:outputText styleClass="texto" value="#{etq.estatus}" />
										</td>
										<td nowrap="true" align="center">
											<h:outputText styleClass="texto" value="#{etq.divisaMinus}" />
										</td>										
									</tr>
									<tr>
										<td align="center">
											<h:selectOneMenu styleClass="textoControles"
												value="#{calendarioEmisionesDeudaExtBean.estado}" tabindex="80">
												<f:selectItem itemValue="-1" itemLabel="Todos" />
												<f:selectItems value="#{calendarioEmisionesDeudaExtBean.estados}" />
											</h:selectOneMenu>
										</td>
										<td align="center">
											<h:selectOneMenu styleClass="textoControles"
												value="#{calendarioEmisionesDeudaExtBean.divisa}" tabindex="90">
												<f:selectItem itemValue="-1" itemLabel="Todas" />
												<f:selectItems value="#{calendarioEmisionesDeudaExtBean.divisas}" />
											</h:selectOneMenu>
										</td>										
									</tr>
								</table>
							</td>

						</tr>
						<tr>							
							<td class="recuadroTabla" align="center">
								<table class="tablaCriterios" align="center">
									<tr align="center">
										<td nowrap="true">
											<h:outputText styleClass="texto" value="#{etq.fechaCorteMinus}" />
										</td>
										<td nowrap="true">
											<h:outputText styleClass="texto" value="#{etq.fechaPago}" />
										</td>
										<td nowrap="true">
											<h:outputText styleClass="texto" value="#{etq.referencia}" />
										</td>
										
									</tr>
									<tr align="center">
										<td>
											<rich:calendar inputClass="textoControles" inputStyle="background-color: #ffffe6;" inputSize="11"
										       value="#{calendarioEmisionesDeudaExtBean.fechaCorte}"
										       datePattern="dd/MM/yyyy" tabindex="120" />
											
										</td>
										<td>
										<rich:calendar inputClass="textoControles" inputStyle="background-color: #ffffe6;" inputSize="11"
										       value="#{calendarioEmisionesDeudaExtBean.fechaPago}"
										       datePattern="dd/MM/yyyy" tabindex="130" />
										</td>
										<td>
											<h:inputText autocomplete="off" id="referencia"
												value="#{calendarioEmisionesDeudaExtBean.refCustodio}" size="16"
												maxlength="16" styleClass="textoControles campoAlphaNumerico textoMayusculas" tabindex="131" />
										</td>																			
									</tr>							

								</table>
							</td>
							<td class="recuadroTabla" align="center">
								<table class="tablaCriterios" align="center">
									<tr>
										<td nowrap="true" align="center">
											<h:outputText styleClass="texto" value="#{etq.custodio}" />
										</td>
										<td nowrap="true" align="center">
											<h:outputText styleClass="texto" value="#{etq.caev}" />
										</td>	
										<td nowrap="true" align="center">
											<h:outputText styleClass="texto" value="#{etq.camv}" />
										</td>									
									</tr>
									<tr>
										<td align="center">
											<h:selectOneMenu styleClass="textoControles"
												value="#{calendarioEmisionesDeudaExtBean.custodio}" tabindex="140">
												<f:selectItem itemValue="-1" itemLabel="Todos" />
												<f:selectItems value="#{calendarioEmisionesDeudaExtBean.custodios}" />
											</h:selectOneMenu>
										</td>
										<td align="center">
											<h:selectOneMenu styleClass="textoControles"
												value="#{calendarioEmisionesDeudaExtBean.tipoPagoCAEV}"
												tabindex="150">
												<f:selectItem itemValue="-1" itemLabel="Todos" />
												<f:selectItems
													value="#{calendarioEmisionesDeudaExtBean.tiposPagoCAEV}" />
											</h:selectOneMenu>
										</td>
										<td align="center">
											<h:selectOneMenu styleClass="textoControles"
												value="#{calendarioEmisionesDeudaExtBean.tipoPagoCAMV}"
												tabindex="151">
												<f:selectItem itemValue="-1" itemLabel="Todos" />
												<f:selectItems
													value="#{calendarioEmisionesDeudaExtBean.tiposPagoCAMV}" />
											</h:selectOneMenu>
										</td>													
									</tr>
								</table>
							</td>

						</tr>
					</table>
				</div>
				
			</h:panelGroup>
			<h:panelGroup id="panelResumen">
				<h:panelGroup rendered="#{calendarioEmisionesDeudaExtBean.consultaEjecutada}">
					<div id="divResumen" style="display: #{calendarioEmisionesDeudaExtBean.consultaEjecutada ? 'inline':'none'}">
						<table width="100%" border="0" cellpadding="0px" cellspacing="5px">
							<tr>
								<td class="recuadroTabla">
									<table class="tablaCriterios texto" border="0" style="text-align: center">
										
										<tr>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.tv}" />
											</td>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.emisoraMinus}" />
											</td>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.serieMinus}" />
											</td>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.cuponMinus}" />
											</td>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.isin}" />
											</td>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.estatus}" />
											</td>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.divisaMinus}" />
											</td>
										</tr>
										<tr align="center">
											<td>
												<h:panelGroup>
													<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.tipoValor}" rendered="#{!empty calendarioEmisionesDeudaExtBean.tipoValor}"/>
	                                            <h:outputText styleClass="texto" value="TODOS" rendered="#{empty calendarioEmisionesDeudaExtBean.tipoValor}"/>
												</h:panelGroup>
											</td>
											<td>
												<h:panelGroup>
													<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.emisora}" rendered="#{!empty calendarioEmisionesDeudaExtBean.emisora}"/>
	                                            <h:outputText styleClass="texto" value="TODAS" rendered="#{empty calendarioEmisionesDeudaExtBean.emisora}"/>
												</h:panelGroup>
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.serie}" rendered="#{!empty calendarioEmisionesDeudaExtBean.serie}"/>
	                                            <h:outputText styleClass="texto" value="TODAS" rendered="#{empty calendarioEmisionesDeudaExtBean.serie}"/>
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.cupon}" rendered="#{!empty calendarioEmisionesDeudaExtBean.cupon}"/>
	                                            <h:outputText styleClass="texto" value="TODOS" rendered="#{empty calendarioEmisionesDeudaExtBean.cupon}"/>
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.isin}" rendered="#{!empty calendarioEmisionesDeudaExtBean.isin}"/>
	                                            <h:outputText styleClass="texto" value="TODAS" rendered="#{empty calendarioEmisionesDeudaExtBean.isin}"/>
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.selectedEstado}" rendered="#{!empty calendarioEmisionesDeudaExtBean.estado and calendarioEmisionesDeudaExtBean.estado ne '-1'}"/>
	                                            <h:outputText styleClass="texto" value="TODOS" rendered="#{calendarioEmisionesDeudaExtBean.estado eq '-1'}"/>
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.selectedDivisa}" rendered="#{!empty calendarioEmisionesDeudaExtBean.divisa and calendarioEmisionesDeudaExtBean.divisa ne '-1'}"/>
	                                            <h:outputText styleClass="texto" value="TODOS" rendered="#{calendarioEmisionesDeudaExtBean.divisa eq '-1'}"/>
											</td>
											
											
										</tr>
										<tr>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.fechaCorteMinus}" />
											</td>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.fechaPago}" />
											</td>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.referencia}" />
											</td>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.custodio}" />
											</td>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.caev}" />
											</td>
											<td align="center">
												<h:outputText styleClass="texto" value="#{etq.camv}" />
											</td>
										</tr>
										<tr>
											<td>
												<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.fechaCorte}" rendered="#{!empty calendarioEmisionesDeudaExtBean.fechaCorte}"/>
	                                            <h:outputText styleClass="texto" value="TODOS" rendered="#{empty calendarioEmisionesDeudaExtBean.fechaCorte}"/>
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.fechaPago}" rendered="#{!empty calendarioEmisionesDeudaExtBean.fechaPago}"/>
	                                            <h:outputText styleClass="texto" value="TODOS" rendered="#{empty calendarioEmisionesDeudaExtBean.fechaPago}"/>
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.refCustodio}" rendered="#{!empty calendarioEmisionesDeudaExtBean.refCustodio}"/>
	                                            <h:outputText styleClass="texto" value="TODOS" rendered="#{empty calendarioEmisionesDeudaExtBean.refCustodio}"/>
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.selectedCustodio}" rendered="#{!empty calendarioEmisionesDeudaExtBean.custodio and calendarioEmisionesDeudaExtBean.custodio ne '-1'}"/>
	                                            <h:outputText styleClass="texto" value="TODOS" rendered="#{ calendarioEmisionesDeudaExtBean.custodio eq '-1'}"/>
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.selectedTipoPagoCAEV}" rendered="#{!empty calendarioEmisionesDeudaExtBean.tipoPagoCAEV and calendarioEmisionesDeudaExtBean.tipoPagoCAEV ne '-1'}"/>
	                                            <h:outputText styleClass="texto" value="TODOS" rendered="#{ calendarioEmisionesDeudaExtBean.tipoPagoCAEV eq '-1'}"/>
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{calendarioEmisionesDeudaExtBean.selectedTipoPagoCAMV}" rendered="#{!empty calendarioEmisionesDeudaExtBean.tipoPagoCAMV and calendarioEmisionesDeudaExtBean.tipoPagoCAMV ne '-1'}"/>
	                                            <h:outputText styleClass="texto" value="TODOS" rendered="#{ calendarioEmisionesDeudaExtBean.tipoPagoCAMV eq '-1'}"/>
											</td>
										</tr>										
									</table>							
								</td>
							</tr>								
						</table>															
					</div>
				</h:panelGroup>
			</h:panelGroup>
		</ui:define>
		<ui:define name="botones">
			<h:panelGroup id="botones">				
				<div class="refrescar" style="float: left;">
	        		 <a4j:status id="commonStatus">
						<f:facet name="start">
							<h:panelGroup>
								<h:graphicImage value="/images/ajax-loader.gif" />
								<h:outputText value="#{etq.buscando}"></h:outputText>
							</h:panelGroup>
						</f:facet>
					</a4j:status> 	
	        	</div>
				<div class="limpiar">
					<h:commandButton id="botonLimpiar" image="/images/transparent.gif"
						styleClass="submit" 
						actionListener="#{calendarioEmisionesDeudaExtBean.limpiar}" 
						tabindex="8"/>
				</div>
				<div class="buscar">
					<a4j:commandButton id="botonBuscar" image="/images/transparent.gif"
						styleClass="submit"
						oncomplete='javascript:presentarResumen();'
						actionListener="#{calendarioEmisionesDeudaExtBean.buscarDerechos}"
						reRender="containerResultados,totalesConsultas,tablaResultados,botones,mensajeUsuario,panelResumen"
						tabindex="7">
                        <f:setPropertyActionListener value="true"
                                                     target="#{calendarioEmisionesDeudaExtBean.banderaBitacoraConsulta}" />
					</a4j:commandButton>
				</div>
				<div class="editar" style="display:#{consultaEmisionesBean.consultaEjecutada?'inline':'none'};float:right;" id="botonEditarCriterios">            
	            	<input type="image" class="submit"
						src="#{facesContext.externalContext.requestContextPath}/images/transparent.gif"
						alt="Editar Criterios" title="Editar Criterios"
						onclick='javascript:presentarCriterios();return false;' />                      	
	           	</div>
           	</h:panelGroup>
		</ui:define>


		<ui:define name="seccionContenido">
			<h:panelGroup id="containerResultados">
				<h:panelGroup rendered="#{calendarioEmisionesDeudaExtBean.consultaEjecutada}">
					<t:dataTable id="noExistenResultados"
						value="#{calendarioEmisionesDeudaExtBean.paginaVO.registros}"
						styleClass="tablaGeneral" headerClass="tituloTabla" width="100%"
						footerClass="tituloTabla" border="0" cellpadding="3px"
						cellspacing="0px" columnClasses="everyColumn"
						rowClasses="renglonTablaUno, renglonTablaDos"
						rendered="#{empty calendarioEmisionesDeudaExtBean.paginaVO.registros}">

						<t:column>
							<f:facet name="header">
								<h:outputText value="#{etq.sinResultados}"></h:outputText>
							</f:facet>

						</t:column>
					</t:dataTable>
					
					<br/>
					<br/>
					<br/>
					<h:panelGroup id="tablaResultados">						
						<h:graphicImage value="/images/blank.gif" width="900px"
							height="1px"></h:graphicImage>
						<h:panelGroup
							rendered="#{not empty calendarioEmisionesDeudaExtBean.paginaVO.registros}">
							<table width="100%" border="0">
								<tr>
									<td align="left" class="textoEstadoCuenta">
										<a4j:commandLink id="control_bitacora_primero"
											action="#{calendarioEmisionesDeudaExtBean.irPrimeraPagina}"
											rendered="#{calendarioEmisionesDeudaExtBean.irAlPrimero}"
											reRender="totalesConsultas,containerInfoPaginacionBitacora,tablaResultados,botonesExportar,containerResultados">
											<img
												src="#{facesContext.externalContext.requestContextPath}/images/control_primero.png"
												border="0" />
										</a4j:commandLink>

										<a4j:commandLink id="control_bitacora_atras_fast"
											action="#{calendarioEmisionesDeudaExtBean.retrocederPaginasRapido}"
											rendered="#{calendarioEmisionesDeudaExtBean.retrocederRapido}"
											reRender="containerResultados,totalesConsultas,containerInfoPaginacionBitacora,tablaResultados,botonesExportar">
											<img
												src="#{facesContext.externalContext.requestContextPath}/images/control_atras_fast.png"
												border="0" />
										</a4j:commandLink>

										<a4j:commandLink id="control_bitacora_atras"
											action="#{calendarioEmisionesDeudaExtBean.retrocederPagina}"
											rendered="#{calendarioEmisionesDeudaExtBean.retroceder}"
											reRender="containerResultados,totalesConsultas,containerInfoPaginacionBitacora,tablaResultados,botonesExportar">
											<img
												src="#{facesContext.externalContext.requestContextPath}/images/control_atras.png"
												border="0" />
										</a4j:commandLink>
										<a4j:commandLink id="control_bitacora_adelante"
											action="#{calendarioEmisionesDeudaExtBean.avanzarPagina}"
											rendered="#{calendarioEmisionesDeudaExtBean.avanzar}"
											reRender="containerResultados,totalesConsultas,containerInfoPaginacionBitacora,tablaResultados,botonesExportar">
											<img
												src="#{facesContext.externalContext.requestContextPath}/images/control_adelante.png"
												border="0" />
										</a4j:commandLink>

										<a4j:commandLink id="control_bitacora_adelante_fast"
											action="#{calendarioEmisionesDeudaExtBean.avanzarPaginasRapido}"
											rendered="#{calendarioEmisionesDeudaExtBean.avanzarRapido}"
											reRender="containerResultados,totalesConsultas,containerInfoPaginacionBitacora,tablaResultados,botonesExportar">
											<img
												src="#{facesContext.externalContext.requestContextPath}/images/control_adelante_fast.png"
												border="0" />

										</a4j:commandLink>

										<a4j:commandLink id="control_bitacora_ultimo"
											action="#{calendarioEmisionesDeudaExtBean.irUltimaPagina}"
											rendered="#{calendarioEmisionesDeudaExtBean.irAlUltimo}"
											reRender="containerResultados,totalesConsultas,containerInfoPaginacionBitacora,tablaResultados,botonesExportar">
											<img
												src="#{facesContext.externalContext.requestContextPath}/images/control_ultimo.png"
												border="0" />
										</a4j:commandLink>

										<br />
										<h:outputText value="#{etq.mostrando}"
											styleClass="textoResumen" />
										<h:outputText value="#{calendarioEmisionesDeudaExtBean.numeroPagina}"
											styleClass="textoResumen" />
										<h:outputText value="#{etq.de}" styleClass="textoResumen" />
										<h:outputText value="#{calendarioEmisionesDeudaExtBean.totalPaginas}"
											styleClass="textoResumen" />
										<h:outputText value="#{etq.cierre}" styleClass="textoResumen"></h:outputText>
										&#160;&#160;&#160;
										<h:outputText
											value="#{calendarioEmisionesDeudaExtBean.paginaVO.totalRegistros}"
											styleClass="textoResumen" converter="formatoEnteroConverter"></h:outputText>
										&#160;
										<h:outputText styleClass="textoResumen"
											value="#{etq.registrosEncontrados}" />
									</td>
									<td align="right" class="textoEstadoCuenta">
										<h:outputText escape="false" value="#{etq.registrosPorPagina}"
											styleClass="textoResumen" />
										<h:selectOneMenu id="tamanioPagina" styleClass="textoResumen"
											value="#{calendarioEmisionesDeudaExtBean.paginaVO.registrosXPag}">
											<f:selectItem itemLabel="1" itemValue="1" />
											<f:selectItem itemLabel="2" itemValue="2" />
											<f:selectItem itemLabel="5" itemValue="5" />
											<f:selectItem itemLabel="10" itemValue="10" />
											<f:selectItem itemLabel="20" itemValue="20" />
											<f:selectItem itemLabel="50" itemValue="50" />
											<f:selectItem itemLabel="100" itemValue="100" />
											<a4j:support event="onchange"
												reRender="containerResultados,totalesConsultas,containerInfoPaginacionBitacora,tablaResultados,botonesExportar,mensajeUsuario"
												action="#{calendarioEmisionesDeudaExtBean.ejecutarConsulta}" >
                                                <f:setPropertyActionListener value="false"
                                                                             target="#{calendarioEmisionesDeudaExtBean.banderaBitacoraConsulta}" />
                                            </a4j:support>
										</h:selectOneMenu>
									</td>
								</tr>
							</table>
						</h:panelGroup>
						
						<div align="center">
						<table border="0" class="tablaGeneral" width="900px"
								cellspacing="0px" style="display:#{empty calendarioEmisionesDeudaExtBean.paginaVO.registros?'none':'inline-table'}; width: 100%;">
							<!-- ========================= ENCABEZADOS ===============================================-->
							<tr>
								<th class="tituloTabla"  rowspan='3' ><h:outputText value="#{etq.referencia}"/></th>								
								<th class="tituloTabla"  rowspan='3' ><h:outputText value="#{etq.tipoDerecho}"/></th>
								<th class="tituloTabla" ><h:outputText value="#{etq.tv} / #{etq.emisoraMinus}"/></th>								
								<th class="tituloTabla" rowspan='3' ><h:outputText value="#{etq.fechaCorteMinus}"/></th>
								<th class="tituloTabla" rowspan='3' ><h:outputText value="#{etq.fechaPago}"/></th>								
								<th class="tituloTabla" rowspan='3' ><h:outputText value="#{etq.diasMensaje}"/></th>															
								<th class="tituloTabla" rowspan='2' ><h:outputText value="#{etq.tasaPorcentaje}"/></th>
								<th class="tituloTabla" rowspan='3' ><h:outputText value="#{etq.factor}"/></th>								
								<th class="tituloTabla" rowspan='3' ><h:outputText value="#{etq.valorNominalMinus}"/></th>
								<th class="tituloTabla"  rowspan='3' ><h:outputText value="#{etq.divisaMinus}"/></th>
								<th class="tituloTabla"  rowspan='3' ><h:outputText value="#{etq.custodio}"/></th>								
								<th class="tituloTabla"  rowspan='3' ><h:outputText value="#{etq.estado}"/></th>
								
							</tr>
							<tr>
								<th class="tituloTabla" ><h:outputText value="#{etq.serieMinus} / #{etq.cuponMinus}"/></th>	
							</tr>
							<tr>
								<th class="tituloTabla" ><h:outputText value="#{etq.isin}"/></th>
								<th class="tituloTabla" ><h:outputText value="#{etq.tipoTasa}"/></th>								
							</tr>
							
							<t:dataList id="resultados"
								value="#{calendarioEmisionesDeudaExtBean.paginaVO.registros}"
								var="derecho"														
								rowIndexVar="indice">
							<tr>
							<!-- =============================== DATOS_CONSULTA ========================================= -->
								<!-- REFERENCIA Y DETALLE -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado"  rowspan='3'>
									<h:outputText value="#{derecho.referencia}" />								
								</td>
								
								<!-- TIPO_PAGO -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado"  rowspan='3'>
									<h:outputText value="#{derecho.tipoPagoCAEV.clavePago}" rendered="#{!empty derecho.tipoPagoCAEV.clavePago}" title="#{derecho.tipoPagoCAEV.descripcion}"/> 
									<h:outputText value="-" rendered="#{empty derecho.tipoPagoCAEV.clavePago}"/>
									<h:outputText value=" / " />
									<h:outputText value="#{derecho.tipoPagoCAMV.clavePago}" rendered="#{!empty derecho.tipoPagoCAMV.clavePago}" title="#{derecho.tipoPagoCAMV.descripcion}"/> 
									<h:outputText value="-" rendered="#{empty derecho.tipoPagoCAMV.clavePago}"/>
								</td>
								<!-- TIPO_VALOR / EMISORA-->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">
									<h:outputText value="#{derecho.tipoValor}" rendered="#{!empty derecho.tipoValor}" style="color:green"/>
									<h:outputText value="-" rendered="#{empty derecho.tipoValor}"/>
									<h:outputText value=" / " />
									<h:outputText value="#{derecho.emisora}" rendered="#{!empty derecho.emisora}" style="color:green"/>
									<h:outputText value="-" rendered="#{empty derecho.emisora}"/>
								</td>
								
								<!-- FECHA_CORTE -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado" rowspan='3'>
									<h:outputText value="#{derecho.fechaCorte}" rendered="#{!empty derecho.fechaCorte}"/>
									<h:outputText value="-" rendered="#{empty derecho.fechaCorte}"/>
								</td>
								<!-- FECHA_PAGO -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado" rowspan='3'>
									<h:outputText value="#{derecho.fechaPago}" rendered="#{!empty derecho.fechaPago}"/> 
									<h:outputText value="-" rendered="#{empty derecho.fechaPago}"/> 
								</td>								
								<!-- DIAS_MENSAJE -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado" rowspan='3'>
									<h:outputText value="#{derecho.diasMensaje}" rendered="#{!empty derecho.diasMensaje }"/>
									<h:outputText value="#{derecho.diasVerificacion}" rendered="#{empty derecho.diasMensaje and derecho.has566 }" style="color:green"/>
								</td>
								
								<!-- TASA -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado" rowspan='2'>
									<h:outputText value="#{derecho.tasa}" rendered="#{!empty derecho.tasa}"/> 
									<h:outputText value="#{derecho.tasaVerificacion}" rendered="#{empty derecho.tasa and derecho.has566 }" style="color:green"/>
								</td>
								<!-- FACTOR -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado" rowspan='3'>
									<h:outputText value="#{derecho.factor}" rendered="#{!empty derecho.factor}"   >
										<f:convertNumber pattern="###,###,###,###,###,##0.#######"/>
									</h:outputText> 
									<h:outputText value="#{derecho.factorVerificacion}" rendered="#{empty derecho.factor and derecho.has566 }"  style="color:green"/>
								</td>
								<!-- VALOR_NOMINAL -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado" rowspan='3'>
									<h:outputText value="#{derecho.valorNominal}" style="color:green">
										<f:convertNumber pattern="###,###,###,###,###,##0.00"/>
									</h:outputText>
								</td>								
								<!-- MONEDA -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado"  rowspan='3'>
									<h:outputText value="#{derecho.divisa}" />
								</td>
								<!-- CUSTODIO -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado"  rowspan='3'>
									<h:outputText value="#{derecho.custodio.codigoBanco}"/>
								</td>
								
								<!-- ESTADO -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado"  rowspan='3'>
									<h:outputText value="#{derecho.estado.descripcion eq 'SUSPENDIDO' ? 'EN PROCESO' : derecho.estado.descripcion}" />
								</td>								
							</tr>
							<tr>
								<!-- SERIE / CUPON -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">									
									<h:outputText value="#{derecho.serie}" rendered="#{!empty derecho.serie}" style="color:green"/>
									<h:outputText value="-" rendered="#{empty derecho.serie}"/>
									<h:outputText value=" / " />
									<h:outputText value="#{derecho.cupon}" rendered="#{!empty derecho.cupon}" style="color:green"/>
									<h:outputText value="-" rendered="#{empty derecho.cupon}"/>
								</td>	
							</tr>
							<tr>
								<!-- ISIN -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado"  >
									<h:outputText value="#{derecho.isin}" rendered="#{!empty derecho.isin}"/>
									<h:outputText value="-" rendered="#{empty derecho.isin}"/>
								</td>
								<!-- TIPO_TASA -->
								<td class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">
									<h:outputText value="#{derecho.tipoTasa}" rendered="#{!empty derecho.tipoTasa}" style="color:green"/> 
									<h:outputText value="-" rendered="#{empty derecho.tipoTasa}"/>
								</td>
							</tr>
							</t:dataList>
						</table>
						</div>
					</h:panelGroup>
					<!-- ================================= EXPORTAR ============================================================ -->
					<h:panelGroup id="totalesConsultas"
						rendered="#{not empty calendarioEmisionesDeudaExtBean.paginaVO.registros}">					
					<table cellpadding="0" cellspacing="0" border="0" align="center"
						width="900px">
						<tr align="right">
							<td align="right">
								<h:panelGroup id="botonesExportar">
									<h:panelGroup
										style="display: #{(calendarioEmisionesDeudaExtBean.consultaEjecutada and not empty calendarioEmisionesDeudaExtBean.paginaVO.registros)? 'inline' : 'none'}">

										<h:outputText value="Exportar los resultados"></h:outputText>
										
										<h:commandButton actionListener="#{calendarioEmisionesDeudaExtBean.generarReportes}"
											action="calendarioEmisionesDeudaExtPDFNormal"
											image="/images/pdf.gif"
											title="Exportar a PDF todos los resultados de la consulta"
											id="generarPdf"
											onclick="bloquearBotonesReportes(['generarExcel', 'generarPdf']);"/>
                           				&#160;&#160;

                          				<h:commandButton actionListener="#{calendarioEmisionesDeudaExtBean.generarReportes}"
                          					action="calendarioEmisionesDeudaExtXLSNormal"
                          					image="/images/excel-file.gif"
                          					title="Exportar a Excel todos los resultados de la consulta" 
                            				id="generarExcel"
                            				onclick="bloquearBotonesReportes(['generarExcel', 'generarPdf']);">
                           				</h:commandButton>
                           				<div id="monitorPeticionReporte" style="display: none;">
											<h:panelGroup id="panelMonitorPeticionReporte">
												<h:graphicImage value="/images/ajax-loader.gif" />
												&#160;&#160;
												<h:outputText value="#{etq.reporteEnProceso}" />
												<a4j:commandButton id="btnActualizarEstadoPeticion"
													image="/images/transparent.gif"
													styleClass="submit"
													actionListener="#{calendarioEmisionesDeudaExtBean.actualizarEstadoPeticion}"
													reRender="panelMonitorPeticionReporte"
													oncomplete="desbloquearBotonesReportes(#{calendarioEmisionesDeudaExtBean.peticionReporteCompleta}, ['generarExcel', 'generarPdf']);"/>
											</h:panelGroup>
										</div>
									</h:panelGroup>
								</h:panelGroup>

							</td>
						</tr>
					</table>
					</h:panelGroup>
				</h:panelGroup>
			</h:panelGroup>
		</ui:define>


	</ui:composition>


	<!-- FIN DEL DECORATE -->
</html>