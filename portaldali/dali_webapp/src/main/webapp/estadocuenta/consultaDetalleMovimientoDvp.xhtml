<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" >
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:t="http://myfaces.apache.org/tomahawk" xml:lang="es">
	


	<ui:composition template="templateConsultaDetalleMovimientoDvp.xhtml">
		

		<ui:define name="fechaActual"></ui:define>

		<ui:define name="resumenMovimiento">
			<h:outputText value="#{consultaDetalleMovimientoPosicionBean.init}"></h:outputText>

			<table width="100%" border="0" cellspacing="0px" cellpadding="0px">
				<tr>
					<td width="11%" valign="top" class="tableHeadingAltHover"
						align="center">
						<strong><h:outputText value="#{etq.fecha}"></h:outputText></strong>
					</td>
					<td width="17%" valign="top" class="tableHeadingAltHover"
						align="center">
						<strong><h:outputText value="#{etq.participante}"></h:outputText></strong>
					</td>
					<td width="18%" valign="top" class="tableHeadingAltHover"
						align="center">
						<strong><h:outputText value="#{etq.contraparte}"></h:outputText></strong>
					</td>
					<td width="28%" valign="top" class="tableHeadingAltHover"
						align="center">
						<strong><h:outputText value="#{etq.descripcion}"></h:outputText></strong>
					</td>
					<td width="16%" valign="top" class="tableHeadingAltHover"
						align="center">
						<strong><h:outputText value="#{etq.folioInstruccion}"></h:outputText></strong>
					</td>
					<td width="10%" valign="top" class="tableHeadingAltHover"
						align="center">
						<strong><h:outputText value="#{etq.entrega}"></h:outputText></strong>
					</td>
				</tr>
				<tr>
					<td align="center" valign="top" class="tableCellThree">
						<h:outputText
							value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.fecha}" styleClass="textoEstadoCuenta" >
							<f:converter converterId="formatoFechaLargaConverter" />
						</h:outputText>
					</td>
					<td valign="top" class="tableCellThree" align="center">
						<h:outputText
							value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.participante}" styleClass="textoEstadoCuenta" ></h:outputText>
					</td>
					<td valign="top" class="tableCellThree" align="center">
						<h:outputText
							value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.contraparte}" styleClass="textoEstadoCuenta"></h:outputText>
					</td>
					<td valign="top" class="tableCellThree" align="left">
						<h:outputText
							value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.descripcion}" styleClass="textoEstadoCuenta" ></h:outputText>
					</td>
					<td valign="top" class="tableCellThree" align="center">
						<h:outputText
							value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.folioOperacion}" styleClass="textoEstadoCuenta" ></h:outputText>
					</td>
					<td valign="top" class="tableCellThree" align="center">
						<h:outputText
							value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.entrega}" styleClass="textoEstadoCuenta" >
								<f:converter converterId="formatoEnteroConverter" />
							</h:outputText>
					</td>
				</tr>
			</table>
		</ui:define>

		<ui:define name="resumenRol">
			<h:panelGroup id="containerResumenRol">
				<div id="resumenDetalleRol" class="textoAzulDetalle">
					<table width="100%" align="left" cellpadding="0px"
						cellspacing="0px">
						<tr>
							<td>
								<table width="100%" border="0" cellspacing="0" cellpadding="0">
									<tr>
										<td>
											<table width="100%" border="0" cellspacing="0"
												cellpadding="0">
												<td width="28%" align="left" valign="top"
													class="tableCellFour">
													<strong><h:outputText value="#{etq.traspasante}"></h:outputText></strong>
												</td>
												<td width="6%" align="left" valign="top"
													class="tableCellFour">
													<h:outputText value="#{etq.dosPuntos}"></h:outputText>
												</td>
												<td width="66%" align="left" valign="top"
													class="tableCellFour">
													<h:outputText
														value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.traspasante}" styleClass="textoEstadoCuenta" ></h:outputText>
												</td>
											</table>
										</td>
									</tr>
									<tr>
										<td>
											<h:panelGroup
												rendered="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.participanteReceptor}">
												<table width="100%" border="0" cellspacing="0"
													cellpadding="0">
													<td width="28%" valign="top" class="tableCellFour"
														align="tableHeading">
														<strong><h:outputText value="#{etq.receptor}"></h:outputText></strong>
													</td>
													<td width="6%" valign="top" class="tableCellFour"
														align="left">
														<h:outputText value="#{etq.dosPuntos}"></h:outputText>
													</td>
													<td width="66%" valign="top" class="tableCellFour"
														align="left">
														<h:outputText
															value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.receptor}" styleClass="textoEstadoCuenta" ></h:outputText>
													</td>
												</table>
											</h:panelGroup>
										</td>
									</tr>
								</table>
							</td>
						</tr>
					</table>
				</div>
			</h:panelGroup>
		</ui:define>
 
		<ui:define name="resumenEmision">
			<h:panelGroup id="containerResumenEmision">
				<div id="resumenDetalleEmision" class="textoAzulDetalle">
					<table width="100%" align="left" cellpadding="0px"
						cellspacing="0px">
						<tr>
							<td>
								<table width="100%" border="0" cellspacing="0" cellpadding="0">
									<tr>
										<td width="27%" align="center" valign="middle"
											class="tableHeadingAltHover">
											<strong><h:outputText value="#{etq.tipoValor}"></h:outputText></strong>
										</td>
										<td width="28%" align="center" valign="middle"
											class="tableHeadingAltHover">
											<strong><h:outputText value="#{etq.emisora}"></h:outputText></strong>
										</td>
										<td width="16%" align="center" valign="middle"
											class="tableHeadingAltHover">
											<strong><h:outputText value="#{etq.serie}"></h:outputText></strong>
										</td>
										<td width="29%" align="center" valign="middle"
											class="tableHeadingAltHover">
											<strong><h:outputText value="#{etq.cupon}"></h:outputText></strong>
										</td>
									</tr>
									<tr>
										<td valign="middle" class="tableCellFour" align="center">
											<h:outputText
												value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.posicion.emision.tipoValor.claveTipoValor}" styleClass="textoEstadoCuenta" ></h:outputText>
										</td>
										<td valign="middle" class="tableCellFour" align="center">
											<h:outputText
												value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.posicion.emision.emisora.descripcion}" styleClass="textoEstadoCuenta" ></h:outputText>
										</td>
										<td valign="middle" class="tableCellFour" align="center">
											<h:outputText
												value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.posicion.emision.serie.serie}" styleClass="textoEstadoCuenta" ></h:outputText>
										</td>
										<td valign="middle" class="tableCellFour" align="center">
											<h:outputText
												value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.posicion.emision.cupon}" styleClass="textoEstadoCuenta" ></h:outputText>
										</td>
									</tr>
									<tr>
										<td colspan="2" align="center" valign="top"
											class="tableHeadingAltHover">
											<strong><h:outputText value="#{etq.tipoMercado}"></h:outputText></strong>
										</td>
										<td colspan="2" align="center" valign="middle"
											class="tableHeadingAltHover">
											<strong><h:outputText value="#{etq.isin}"></h:outputText></strong>
										</td>
									</tr>
									<tr>
										<td colspan="2" align="center" valign="top"
											class="tableCellFour">
											<h:outputText
												value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.posicion.emision.tipoValor.mercado.descripcion}" styleClass="textoEstadoCuenta" ></h:outputText>
										</td>
										<td colspan="2" align="center" valign="middle"
											class="tableCellFour">
											<h:outputText
												value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.posicion.emision.isin}" styleClass="textoEstadoCuenta" ></h:outputText>
										</td>
									</tr>
								</table>
							</td>
						</tr>
					</table>
				</div>
			</h:panelGroup>
		</ui:define>

		<ui:define name="resumenBoveda">
			<h:panelGroup id="containerResumenBoveda">
				<div id="resumenDetalleBoveda" class="textoAzulDetalle">
					<table width="100%" align="left" cellpadding="0px"
						cellspacing="0px">
						<tr>
							<td>
								<table width="100%" border="0" cellspacing="0" cellpadding="0">
									<tr>
										<td align="left" valign="top" class="tableCellFour">
											<h:outputText
												value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.posicion.boveda.descripcion}" styleClass="textoEstadoCuenta" ></h:outputText>
										</td>
									</tr>
									<tr>
										<td class="tableCellThree" align="left">
											&#160;
										</td>
									</tr>
									<tr>
										<td valign="top" class="tableCellThree" align="left">
											&#160;
										</td>
									</tr>
								</table>
							</td>
						</tr>
					</table>
				</div>
			</h:panelGroup>
		</ui:define>

		<ui:define name="resumenDetalleMovimiento">
			<table width="100%" cellspacing="0px" cellpadding="0px">
				<tr>
					<td colspan="2">
						<table width="100%" align="left" cellpadding="0px"
							cellspacing="0px">
							<tr>
								<td>
									<table width="100%" border="0" cellspacing="0" cellpadding="0">
										<tr>
											<td width="10%" align="left" valign="top"
												class="tableCellFour">
												<strong><h:outputText value="#{etq.fechaConcertacion}"></h:outputText></strong>
											</td>
											<td width="1%" align="left" valign="center"
												class="tableCellFour">
												<h:outputText value="#{etq.dosPuntos}"></h:outputText>
											</td>
											<td width="21%" align="left" valign="center"
												class="tableCellFour">
												<h:outputText
													value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.fechaConcertacion}" styleClass="textoEstadoCuenta" >
													<f:converter converterId="formatoFechaLargaConverter" />
												</h:outputText>
											</td>
											<td width="15%" align="left" valign="center"
												class="tableCellFour">
												<strong><h:outputText value="#{etq.fechaLiquidacion}"></h:outputText></strong>
											</td>
											<td width="1%" align="left" valign="center"
												class="tableCellFour">
												<h:outputText value="#{etq.dosPuntos}"></h:outputText>
											</td>
											<td width="20%" align="left" valign="center"
												class="tableCellFour">
												<h:outputText
													value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.fechaLiquidacion}" styleClass="textoEstadoCuenta" >
													<f:converter converterId="formatoFechaLargaConverter" />
												</h:outputText>
											</td>
											<td width="15%" align="left" valign="center"
												class="tableCellFour">
												<strong><h:outputText value="#{etq.fechaAplicacion}"></h:outputText></strong>
											</td>
											<td width="1%" align="left" valign="center"
												class="tableCellFour">
												<h:outputText value="#{etq.dosPuntos}"></h:outputText>
											</td>
											<td width="18%" align="left" valign="center"
												class="tableCellFour">
												<h:outputText
													value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.fechaAplicacion}" styleClass="textoEstadoCuenta" >
													<f:converter converterId="formatoFechaLargaConverter" />
												</h:outputText>
											</td>
										</tr>
										<tr>
											<td align="left" valign="center" class="tableCellThree">
												<strong><h:outputText value="#{etq.cantidad}"></h:outputText></strong>
											</td>
											<td valign="center" class="tableCellThree" align="left">
												<h:outputText value="#{etq.dosPuntos}"></h:outputText>
											</td>
											<td valign="center" class="tableCellThree" align="left">
												<h:outputText
													value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.cantidad}" styleClass="textoEstadoCuenta" >
													<f:converter converterId="formatoEnteroConverter" />
												</h:outputText>
											</td>
											<td align="left" valign="center" class="tableCellThree">
												<strong><h:outputText value="#{etq.tipoOperacion}"></h:outputText></strong>
											</td>
											<td valign="center" class="tableCellThree" align="left">
												<h:outputText value="#{etq.dosPuntos}"></h:outputText>
											</td>
											<td valign="center" class="tableCellThree" align="left">
												<h:outputText
													value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.tipoOperacion.claveTipoOperacion}" styleClass="textoEstadoCuenta" ></h:outputText>
											</td>
											<td align="left" valign="top" class="tableCellFour">
												&#160;
											</td>
											<td valign="center" class="tableCellFour" align="left">
												&#160;
											</td>
											<td valign="center" class="tableCellThree" align="left">
												&#160;
											</td>
										</tr>
									</table>
								</td>
							</tr>
						</table>
					</td>
				</tr>
				<tr>
					<td width="50%">
						<h:panelGroup
							rendered="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.participanteReceptor}">
							<table width="100%" cellspacing="0px" cellpadding="0px">
								<tr>
									<td class="tableHeading" align="center">
										<strong><h:outputText value="#{etq.bovedaEfectivo}"></h:outputText></strong>
									</td>
								</tr>
								<tr>
									<td class="tableCellFour" align="center">
										<h:outputText
													value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.descripcionBovedaEfectivo}" styleClass="textoEstadoCuenta" ></h:outputText>
									</td>
								</tr>
							</table>
						</h:panelGroup>
					</td>
					<td width="50%">
						<h:panelGroup
							rendered="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.participanteReceptor}">
							<table width="100%" cellspacing="0px" cellpadding="0px">
								<tr>
									<td class="tableHeading" align="center">
										<strong><h:outputText value="#{etq.divisa}"></h:outputText></strong>
									</td>
								</tr>
								<tr>
									<td class="tableCellFour" align="center">
										<h:outputText
													value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.descripcionDivisa}" styleClass="textoEstadoCuenta" ></h:outputText>
									</td>
								</tr>
							</table>
						</h:panelGroup>
					</td>
				</tr>
				<tr>
					<td colspan="2">
						<h:panelGroup id="containerDetalleMovimientoReceptor"
							rendered="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.participanteReceptor}">
							<t:dataTable id="tablaReceptor"
								value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.detallesParcialidad}"
								var="detalleParcialidad" styleClass="tableBorder"
								headerClass="tableHeading" width="100%" border="0"
								cellpadding="3px" cellspacing="0px" columnClasses="everyColumn"
								rowClasses="tableCellTwo,tableCellOne" footerClass="tableHeading">
								<t:column>
									<f:facet name="header">
										<h:outputText value="#{etq.folioInstruccion}" />
									</f:facet>
									<f:facet name="footer">
										<h:outputText value="#{etq.total}" />
									</f:facet>
									<h:outputText value="#{detalleParcialidad.folio}" styleClass="textoEstadoCuenta" />
								</t:column>
								<t:column>
									<f:facet name="header">
										<h:outputText value="#{etq.fechaMinus}" />
									</f:facet>
									<h:outputText value="#{detalleParcialidad.fecha}" styleClass="textoEstadoCuenta" >
										<f:converter converterId="formatoFechaLargaConverter" />
									</h:outputText>
								</t:column>
								<t:column>
									<f:facet name="header">
										<h:outputText value="#{etq.estado}" />
									</f:facet>
									<h:outputText value="#{detalleParcialidad.estado}" styleClass="textoEstadoCuenta" />
								</t:column>
								<t:column>
									<f:facet name="header">
										<h:outputText value="#{etq.afectaA}" />
									</f:facet>
									<h:outputText value="#{detalleParcialidad.afectaA}" styleClass="textoEstadoCuenta" />
								</t:column>
								<t:column footerstyle="text-align: right;" style="text-align: right;" headerstyle="text-align: center;">
									<f:facet name="header">
										<h:outputText value="#{etq.cantidadOperada}" />
									</f:facet>
									<h:outputText value="#{detalleParcialidad.totalOperacion}" styleClass="textoEstadoCuenta" >
										<f:converter converterId="formatoEnteroConverter" />
									</h:outputText>
									<f:facet name="footer">
										<h:outputText
											value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.cantidad}" >
											<f:converter converterId="formatoEnteroConverter" />
										</h:outputText>
									</f:facet>
								</t:column>
								<t:column footerstyle="text-align: right;" style="text-align: right;" headerstyle="text-align: center;">
									<f:facet name="header">
										<h:outputText value="#{etq.importeOperado}" />
									</f:facet>
									<h:outputText value="#{detalleParcialidad.importeOperado}" style="white-space: nowrap;" styleClass="textoEstadoCuenta">
										<f:converter converterId="formatoMonedaConverter" />
									</h:outputText>
									<f:facet name="footer">
										<h:outputText
											value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.importe}" style="white-space: nowrap;">
											<f:converter converterId="formatoMonedaConverter" />
										</h:outputText>
									</f:facet>
								</t:column>
							</t:dataTable>
						</h:panelGroup>
						<h:panelGroup id="containerDetalleMovimientoTraspasante"
							rendered="#{!consultaDetalleMovimientoPosicionBean.detalleMovimiento.participanteReceptor}">
							<t:dataTable id="tablaTraspasante"
								value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.detallesParcialidad}"
								var="detalleParcialidad" styleClass="tableBorder"
								headerClass="tableHeading" width="100%" border="0"
								footerClass="tableHeading" cellpadding="3px" cellspacing="0px"
								columnClasses="everyColumn" rowClasses="tableCellTwo,tableCellOne">
								<t:column>
									<f:facet name="header">
										<h:outputText value="#{etq.folio}" />
									</f:facet>
									<h:outputText styleClass="textoEstadoCuenta" value="#{detalleParcialidad.folio}" />
									<f:facet name="footer">
										<h:outputText value="#{etq.total}" />
									</f:facet>
								</t:column>
								<t:column>
									<f:facet name="header">
										<h:outputText value="#{etq.contraparte}" />
									</f:facet>
									<h:outputText styleClass="textoEstadoCuenta" value="#{detalleParcialidad.contraparte}" />
								</t:column>
								<t:column>
									<f:facet name="header">
										<h:outputText value="#{etq.fecha}" />
									</f:facet>
									<h:outputText  styleClass="textoEstadoCuenta" value="#{detalleParcialidad.fecha}">
										<f:converter converterId="formatoFechaLargaConverter" />
									</h:outputText>
								</t:column>
								<t:column>
									<f:facet name="header">
										<h:outputText value="#{etq.bovedaEfectivo}" />
									</f:facet>
									<h:outputText
										value="#{detalleParcialidad.descripcionBovedaEfectivo}" styleClass="textoEstadoCuenta" />
								</t:column>
								<t:column>
									<f:facet name="header">
										<h:outputText value="#{etq.divisa}" />
									</f:facet>
									<h:outputText styleClass="textoEstadoCuenta" value="#{detalleParcialidad.descripcionDivisa}" />
								</t:column>
								<t:column>
									<f:facet name="header">
										<h:outputText value="#{etq.totalPagado}" />
									</f:facet>
									<h:outputText styleClass="textoEstadoCuenta" value="#{detalleParcialidad.totalEntregado}">
										<f:converter converterId="formatoEnteroConverter" />
									</h:outputText>
									<f:facet name="footer">
										<h:outputText
											value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.totalEntrega}">
											<f:converter converterId="formatoEnteroConverter" />
										</h:outputText>
									</f:facet>
								</t:column>
								<t:column>
									<f:facet name="header">
										<h:outputText value="#{etq.totalRestante}" />
									</f:facet>
									<h:outputText styleClass="textoEstadoCuenta" value="#{detalleParcialidad.pendientePorEntregar}">
										<f:converter converterId="formatoEnteroConverter" />
									</h:outputText>
									<f:facet name="footer">
										<h:outputText
											value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.pendiente}">
											<f:converter converterId="formatoEnteroConverter" />
										</h:outputText>
									</f:facet>
								</t:column>
								<t:column>
									<f:facet name="header">
										<h:outputText value="#{etq.totalOperacion}" />
									</f:facet>
									<h:outputText styleClass="textoEstadoCuenta" value="#{detalleParcialidad.totalOperacion}">
										<f:converter converterId="formatoEnteroConverter" />
									</h:outputText>
									<f:facet name="footer">
										<h:outputText
											value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.cantidad}">
											<f:converter converterId="formatoEnteroConverter" />
										</h:outputText>
									</f:facet>
								</t:column>
								<t:column footerstyle="text-align: right;">
									<f:facet name="header">
										<h:outputText value="#{etq.importePagado}" />
									</f:facet>
									<div align="right">
										<h:outputText styleClass="textoEstadoCuenta" value="#{detalleParcialidad.importePagado}" style="white-space: nowrap;">
											<f:converter converterId="formatoMonedaConverter" />
										</h:outputText>
									</div>
									<f:facet name="footer">
										<h:outputText
											value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.importeTotalPagado}" style="white-space: nowrap;">
											<f:converter converterId="formatoMonedaConverter" />
										</h:outputText>
									</f:facet>
								</t:column>
								<t:column footerstyle="text-align: right;">
									<f:facet name="header">
										<h:outputText value="#{etq.importePendiente}" />
									</f:facet>
									<div align="right">
										<h:outputText styleClass="textoEstadoCuenta" value="#{detalleParcialidad.importePendiente}" style="white-space: nowrap;">
											<f:converter converterId="formatoMonedaConverter" />
										</h:outputText>
									</div>
									<f:facet name="footer">
										<h:outputText 
											value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.importeTotalPendiente}" style="white-space: nowrap;">
											<f:converter converterId="formatoMonedaConverter" />
										</h:outputText>
									</f:facet>
								</t:column>
								<t:column footerstyle="text-align: right;">
									<f:facet name="header">
										<h:outputText value="#{etq.importeOperado}" />
									</f:facet>
									<div align="right">
										<h:outputText styleClass="textoEstadoCuenta" value="#{detalleParcialidad.importeOperado}" style="white-space: nowrap;">
											<f:converter converterId="formatoMonedaConverter" />
										</h:outputText>
									</div>
									<f:facet name="footer">
										<h:outputText
											value="#{consultaDetalleMovimientoPosicionBean.detalleMovimiento.importe}" style="white-space: nowrap;">
											<f:converter converterId="formatoMonedaConverter" />
										</h:outputText>
									</f:facet>
								</t:column>
							</t:dataTable>
						</h:panelGroup>
					</td>
				</tr>
			</table>
		</ui:define>
	</ui:composition>

</html>