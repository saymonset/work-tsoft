<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:dt="http://blitzsoftware.com/jsf/datetag"
	xmlns:cvt="http://indeval.com/jsf/converters"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:indeval="http://indeval.com/indeval"
	xmlns:t="http://myfaces.apache.org/tomahawk" xml:lang="es" lang="es">


<ui:composition template="/layoutConsultasVR.xhtml">
	
	<ui:define name="head">
		<script language="javascript" type="text/javascript"
			src="#{facesContext.externalContext.requestContextPath}/js/reportos.js"></script>
	</ui:define>
	
	<ui:define name="tituloSeccion">
		<h:outputText value="#{etq.vencimientoReportos}" />
	</ui:define>
	<ui:define name="subtituloSeccion">
		<h:outputText value="#{etq.consultaReportos}" />
	</ui:define>
	
	<!-- SECCION CRITERIOS -->
	<ui:define name="criterios">
		<a4j:keepAlive beanName="reportosController"/>
		<h:outputText value="#{reportosController.init}" />
		
		<rich:messages id="mmc" warnClass="warning"
			infoClass="info" errorClass="error" ajaxRendered="true"
			showDetail="false" showSummary="true" layout="list">
			<f:facet name="infoMarker">
				<h:panelGroup>
					<h:graphicImage url="/images/accept.png" />&#160;
				</h:panelGroup>
			</f:facet>
			<f:facet name="errorMarker">
				<h:panelGroup>
					<h:graphicImage url="/images/warning.gif" />&#160;
				</h:panelGroup>
			</f:facet>
		</rich:messages>
		<h:panelGroup id="panelCriterios">
			<h:inputHidden value="#{reportosController.consultaEjecutada}"></h:inputHidden>
			
			<div style='display:#{reportosController.consultaEjecutada?"none":"inline"}' id="divCriterios">
			<table width="100%" border="0" cellpadding="0px" cellspacing="5px"> 
				<tr>
					<!-- PARTICIPANTE / CONTRAPARTE -->
					<td class="recuadroTabla">
						<table width="100%" border="0">
							<tr>
								<!-- PARTICIPANTE -->
								<td width="50%">
									<table class="tablaCriterios" border="0" width="100%">
										<tr>
											<td align="center" colspan="2">
												<div align="center">
													<b><h:outputText styleClass="texto" value="#{etq.participanteMinus}" /> </b>
												</div>
											</td>
										</tr>
										<tr>
											<td width="50%" nowrap="true" align="center">
												<h:outputText styleClass="texto" value="#{etq.participanteMinus}" />&#160;
											</td>
											<td width="50%" nowrap="true" align="center">
												<h:outputText styleClass="texto" value="#{etq.cuentaMinus}" />
											</td>
										</tr>
										<tr>
											<td width="50%" align="center">
												<h:inputText autocomplete="off"  id="idFolioParticipante" size="5" maxlength="5"
													value="#{reportosController.criterio.institucionParticipante}" styleClass='campoNumericoAsterisco textoControles #{!matchEstatusBean.usuarioIndeval? "readonly" : "" }'/>
												<rich:suggestionbox selectValueClass="autoCompleteSeleccionado"  for="idFolioParticipante"
													suggestionAction="#{reportosController.buscarParticipante}"
													var="coincidencia" fetchValue="#{coincidencia.claveTipoInstitucion}#{coincidencia.folioInstitucion}"
													minChars="1" width="450" nothingLabel="Sin coincidencias" eventsQueue="folioTraspQueue" ignoreDupResponses="true" requestDelay="300">
													<h:column>
														<h:outputText value="#{coincidencia.claveTipoInstitucion}#{coincidencia.folioInstitucion}" /> - <h:outputText value="#{coincidencia.nombreCorto}" />
													</h:column>
												</rich:suggestionbox>
											</td>
											<td width="50%" align="center">
												<h:inputText autocomplete="off" id="cuentaParticipante" size="5" maxlength="4"
													value="#{reportosController.criterio.cuentaParticipante}"
													styleClass="campoNumericoAsterisco textoControles"></h:inputText>
												<h:message for="cuentaParticipante" />
												<rich:suggestionbox selectValueClass="autoCompleteSeleccionado"  for="cuentaParticipante"
													suggestionAction="#{reportosController.buscarCuentasParticipantePorPrefijo}"
													var="coincidencia" fetchValue="#{coincidencia.cuenta}"
													minChars="1" width="80" nothingLabel="Sin coincidencias" eventsQueue="cuentaTraspQueue" ignoreDupResponses="true"  requestDelay="300">
													<h:column>
														<h:outputText value="#{coincidencia.cuenta}" />
													</h:column>
												</rich:suggestionbox>
													
											</td>
										</tr>
									</table>
								</td>
								<!-- CONTRAPARTE -->
								<td>
									<table class="tablaCriterios" border="0" width="100%">
										<tr>
											<td align="center" colspan="2">
												<div align="center">
														<b><h:outputText styleClass="texto" value="#{etq.contraparteMinus}" /> </b>
												</div>
											</td>
										</tr>
										<tr>
											<td nowrap="true" align="center">
												<h:outputText styleClass="texto" value="#{etq.participanteMinus}" />&#160;
											</td>
											<td nowrap="true" align="center">
												<h:outputText styleClass="texto" value="#{etq.cuentaMinus}" />
											</td>
										</tr>
										<tr>
											<td width="50%" align="center">
												<h:inputText autocomplete="off"  id="idFolioContraparte" size="5" maxlength="5"
													value="#{reportosController.criterio.institucionContraparte}" styleClass='campoNumericoAsterisco textoControles '/>
												<rich:suggestionbox selectValueClass="autoCompleteSeleccionado"  for="idFolioContraparte"
													suggestionAction="#{reportosController.buscarParticipante}"
													var="coincidencia" fetchValue="#{coincidencia.claveTipoInstitucion}#{coincidencia.folioInstitucion}"
													minChars="1" width="450" nothingLabel="Sin coincidencias" eventsQueue="folioRecepQueue" ignoreDupResponses="true" requestDelay="300">
													<h:column>
														<h:outputText value="#{coincidencia.claveTipoInstitucion}#{coincidencia.folioInstitucion}" /> - <h:outputText value="#{coincidencia.nombreCorto}" />
													</h:column>
												</rich:suggestionbox>
											</td>
											<td width="50%" align="center">
												<h:inputText autocomplete="off" id="cuentaContraparte" size="5"
													value="#{reportosController.criterio.cuentaContraparte}"
													 maxlength="4"
													styleClass="textoControles campoNumericoAsterisco" />
												<rich:suggestionbox selectValueClass="autoCompleteSeleccionado"  for="cuentaContraparte"
													suggestionAction="#{reportosController.buscarCuentasContrapartePorPrefijo}"
													var="coincidencia" fetchValue="#{coincidencia.cuenta}"
													minChars="1" width="80" nothingLabel="Sin coincidencias" eventsQueue="cuentaRecepQueue" ignoreDupResponses="true" requestDelay="300">
													<h:column>
														<h:outputText value="#{coincidencia.cuenta}" />
													</h:column>
												</rich:suggestionbox>
											</td>
										</tr>
									</table>
								</td>
							</tr>
						</table> 
					</td>
					<td class="recuadroTabla">
						<table class="tablaCriterios" border="0">
							<tr>
								<td colspan="3" align="center">
									<div align="center">
										<b><h:outputText styleClass="texto" value="#{etq.claveValor}" /> </b>
									</div>
								</td>
							</tr>
							<tr>
								<td align="center">
									<h:outputText styleClass="texto" value="#{etq.tv}" />
								</td>
								<td align="center">
									<h:outputText styleClass="texto" value="#{etq.emisoraMinus}" />
								</td>
								<td align="center">
									<h:outputText styleClass="texto" value="#{etq.serieMinus}" />
								</td> 
							</tr>
							<tr>
								<td align="center" nowrap="nowrap">
									<h:inputText autocomplete="off" id="tv" size="2" maxlength="5"
										value="#{reportosController.criterio.tipoValor}"
										styleClass="textoControles campoAlphaNumericoAsterisco textoTipoValor" />
									<rich:suggestionbox selectValueClass="autoCompleteSeleccionado"  for="tv"
										suggestionAction="#{reportosController.buscarTiposValorPorPrefijo}"
										var="coincidencia"
										fetchValue="#{coincidencia.claveTipoValor}" minChars="0"
										width="300" immediate="false"
										nothingLabel="Sin coincidencias" eventsQueue="tvQueue" ignoreDupResponses="true" requestDelay="300">
										<h:column>
											<h:outputText value="#{coincidencia.claveTipoValor}" /> - <h:outputText value="#{coincidencia.descripcion}" />
										</h:column>
									</rich:suggestionbox>
								</td>
								<td align="center" nowrap="nowrap">
									<h:inputText autocomplete="off" id="emisora" size="8" maxlength="20"
										styleClass="textoControles  campoAlphaNumericoEmisora" 
										value="#{reportosController.criterio.emisora}" />
									<rich:suggestionbox selectValueClass="autoCompleteSeleccionado"  for="emisora"
										suggestionAction="#{reportosController.buscarEmisorasPorPrefijo}"
										var="coincidencia" fetchValue="#{coincidencia.descripcion}"
										minChars="0" width="300" immediate="false"
										nothingLabel="Sin coincidencias" eventsQueue="emisQueue" ignoreDupResponses="true" requestDelay="300">
										<h:column>
											<h:outputText value="#{coincidencia.descripcion}" />
										</h:column>
									</rich:suggestionbox>
								</td>
								<td align="center">
									<h:inputText autocomplete="off" id="serie" size="4" maxlength="6"
										styleClass="textoControles campoAlphaNumericoSerie"
										value="#{reportosController.criterio.serie}" />
								</td>
							</tr>
						</table>
					</td>
					<!-- FECHA DE VENCIMIENTO --> 
					<td class="recuadroTabla">
						<table class="tablaCriterios" border="0" align="center" width="100%">	
							<tr>
								<td align="center"><h:outputText styleClass="texto" value="#{etq.fechaMinus}" /></td>
								<td align="center"> <h:outputText styleClass="texto" value="#{etq.fechaMinus}" /></td>
							</tr>
							<tr>
								<!-- FECHA MIN -->
								<td align="center"> 
									<h:outputText styleClass="texto" value="#{etq.reportoIni}" />
								</td>
								<!-- FECHA MAX -->
								<td align="center"> 
									<h:outputText styleClass="texto" value="#{etq.reportoFin}" />
								</td>
							</tr>
							<tr>
								<!-- FECHA MIN -->
								<td align="center">
									<rich:calendar id="fecha" 
										value="#{reportosController.criterio.fechaReportoIni}"
										datePattern="dd/MM/yyyy"
										inputSize="11"
										inputClass="textoControles"
										inputStyle="background-color: #ffffe6;"
										isDayEnabled="isDayEnabled" />
								</td>
								<!-- FECHA MAX -->
								<td align="center">
									<rich:calendar id="fechaLiquidacion" 
										value="#{reportosController.criterio.fechaReportoFin}"
										datePattern="dd/MM/yyyy"
										inputSize="11"
										inputClass="textoControles"
										inputStyle="background-color: #ffffe6;" 
										isDayEnabled="isDayEnabled" />
								</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
			</div>
			
			<!-- PANEL RESUMEN -->
			<h:panelGroup id="panelResumen">
				<div style='display:#{reportosController.consultaEjecutada?"inline":"none"}' id="divResumen" >
					<table width="900px" border="0" cellpadding="0px" cellspacing="5px">
						<tr>
							<td class="recuadroTabla">
								<table width="100%" cellpadding="0">
									<tr>
										<!-- participante -->
										<td align="center"><h:outputText styleClass="texto" value="#{etq.participanteMinus}" /></td>
										<!-- cuenta participante -->
										<td align="center"><h:outputText styleClass="texto" value="#{etq.cuentaParticipante}" /></td>
										<!-- contraparte -->
										<td align="center"><h:outputText styleClass="texto" value="#{etq.contraparteMinus}" /></td>
										<!-- cuenta contraparte -->
										<td align="center"><h:outputText styleClass="texto" value="#{etq.cuentaContraparte}" /></td>
										<!-- Clave valor -->
										<td align="center"><h:outputText styleClass="texto" value="#{etq.claveValor}" /></td>
										<!-- fecha vencimiento Ini -->
										<td align="center"><h:outputText styleClass="texto" value="#{etq.fechaReportoIni}" /></td>
										<!-- fecha vencimiento Fin -->
										<td align="center"><h:outputText styleClass="texto" value="#{etq.fechaReportoFin}" /></td>
									</tr>
									<tr class="textoResumen">
										<!-- participante -->
										<td align="center">
											<h:outputText value="#{reportosController.criterio.institucionParticipante}"/>
										</td>
										<!-- cuenta participante -->
										<td align="center">
											<h:outputText
												value="#{empty reportosController.criterio.cuentaParticipante? 'TODAS' : reportosController.criterio.cuentaParticipante}"
												title="#{reportosController.criterio.cuentaParticipante}" />
										</td>
										<!-- contraparte -->
										<td align="center">
											<h:outputText value="#{reportosController.criterio.institucionContraparte}" />
										</td>
										<!-- cuenta contraparte -->
										<td align="center">
											<h:outputText
												value="#{empty reportosController.criterio.cuentaContraparte? 'TODAS' : reportosController.criterio.cuentaContraparte}"
												title="#{reportosController.criterio.cuentaContraparte}" />
										</td>
										<!-- Clave valor -->
										<td align="center">
											<h:outputText styleClass="textoTipoValor"
												value="#{empty reportosController.criterio.tipoValor ? 'TODAS' : reportosController.criterio.tipoValor}"  />
											&#160;
											<h:outputText value="#{etq.pipe}"></h:outputText>
											&#160;
											<h:outputText styleClass="textoEmisora"
												value='#{empty reportosController.criterio.emisora ? "TODAS" : reportosController.criterio.emisora}' />
											&#160;
											<h:outputText value="#{etq.pipe}"></h:outputText>
											&#160;
											<h:outputText styleClass="textoSerie"
												value='#{empty reportosController.criterio.serie? "TODAS" : reportosController.criterio.serie}' />
										</td>
										<!-- fecha vencimiento ini -->
										<td align="center">
											<h:outputText value="#{reportosController.criterio.fechaReportoIni}">
												<f:converter converterId="formatoFechaCortoConverter" />
											</h:outputText>
										</td>
										<!-- fecha vencimiento fin -->
										<td align="center">
											<h:outputText value="#{reportosController.criterio.fechaReportoFin}">
												<f:converter converterId="formatoFechaCortoConverter" />
											</h:outputText>
										</td>
									</tr>
								</table>
							</td>
						</tr>
					</table>
				</div>
			</h:panelGroup><!-- /PANEL RESUMEN -->
		</h:panelGroup><!-- /panelCriterios -->
	</ui:define><!-- criterios -->
	
	<!-- BOTONES -->
	<ui:define name="botones">
		<h:panelGroup id="panelBotones">
			<!-- BUSCANDO . . . -->
			<div class="refrescar" style="float: left;">
				<a4j:status id="commonStatus">
					<f:facet name="start">
						<h:panelGroup>
							<h:graphicImage value="/images/ajax-loader.gif" />
							<h:outputText value="#{etq.buscando}"></h:outputText>
						</h:panelGroup>
					</f:facet>
				</a4j:status>
			</div>
			<br />
			<!-- LIMPIAR -->
			<div class="limpiar">
				<h:commandButton id="btnLimpiar" image="/images/transparent.gif" styleClass="submit"
					actionListener="#{reportosController.limpiar}"  tabindex="250" >
				</h:commandButton>
			</div>
			<!-- BUSCAR -->
			<div class="buscar" style="float: right;">
				<a4j:commandButton id="btnBuscar" type="image" value="Buscar"
					action="#{reportosController.buscarReportos}"
					styleClass="submit"
					onclick="buscarRegistros();"
					oncomplete="presentarResumen();"
					reRender="panelResumen, panelBotones, panelResultados"
					src="/images/transparent.gif" alt="Buscar" title="Buscar" >
				</a4j:commandButton>
			</div>
			<!-- EDITAR -->
			<div class="editar" style="display:#{reportosController.consultaEjecutada?'inline':'none'};float:right;" id="botonEditarCriterios" >
				<input id="btnEditar" type="image" class="submit"
					src="#{facesContext.externalContext.requestContextPath}/images/transparent.gif"
					alt="Editar Criterios" title="Editar Criterios"
					onclick="setTimeout('presentarCriterios()',1000);return false;" />
			</div>
		</h:panelGroup>
	</ui:define>
	
	<!-- CONTENIDO -->
	<ui:define name="seccionContenido">
		<a4j:keepAlive beanName="reportosController"/>

		<h:panelGroup id="panelResultados">
			<div style="display:#{reportosController.consultaEjecutada?'inline':'none'}; width:900px;">
			<br />
			<!-- PAGINADOR -->
			<table cellpadding="0" cellspacing="0" border="0" align="left"
				width="900px" style="display:#{empty reportosController.resultados?'none':'inline'}">
				<tr>
					<td colspan="2">
						<div style="display:#{reportosController.paginacion.irAlPrimero?'inline':'none'}">
							<a4j:commandLink
								actionListener="#{reportosController.navegarPorResultados}"
								id="control_posicion_primero" reRender="panelResultados"
								onclick="buscarRegistros();"
								oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" limitToList="true">
								<img src="#{facesContext.externalContext.requestContextPath}/images/control_primero.png" order="0" />
								<f:attribute name="navegacion" value="irAlPrincipio" />
							</a4j:commandLink>
						</div>
						<div style="display:#{reportosController.paginacion.retrocederRapido?'inline':'none'}" >
							<a4j:commandLink
								actionListener="#{reportosController.navegarPorResultados}"
								id="control_consulta_atras_fast" reRender="panelResultados"
								onclick="buscarRegistros();"
								oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" limitToList="true">
								<img src="#{facesContext.externalContext.requestContextPath}/images/control_atras_fast.png" border="0" />
								<f:attribute name="navegacion" value="retrocederPaginasRapido" />
							</a4j:commandLink>
						</div>
						<div style="display:#{reportosController.paginacion.retroceder?'inline':'none'}" >
							<a4j:commandLink
								actionListener="#{reportosController.navegarPorResultados}"
								id="control_consulta_atras" reRender="panelResultados"
								onclick="buscarRegistros();"
								oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" limitToList="true">
								<img src="#{facesContext.externalContext.requestContextPath}/images/control_atras.png" border="0" />
								<f:attribute name="navegacion" value="retrocederPagina" />
							</a4j:commandLink>
						</div>
						<div style="display:#{reportosController.paginacion.avanzar?'inline':'none'}" >
							<a4j:commandLink
								actionListener="#{reportosController.navegarPorResultados}"
								id="control_consulta_adelante" reRender="panelResultados"
								onclick="buscarRegistros();"
								oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" limitToList="true">
								<img src="#{facesContext.externalContext.requestContextPath}/images/control_adelante.png" border="0" />
								<f:attribute name="navegacion" value="avanzarPagina" />
							</a4j:commandLink>
						</div>
						<div style="display:#{reportosController.paginacion.avanzarRapido?'inline':'none'}"  >
							<a4j:commandLink
								actionListener="#{reportosController.navegarPorResultados}"
								id="control_consulta_adelante_fast" reRender="panelResultados"
								onclick="buscarRegistros();"
								oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" limitToList="true">
								<img src="#{facesContext.externalContext.requestContextPath}/images/control_adelante_fast.png" border="0" />
								<f:attribute name="navegacion" value="avanzarPaginasRapido" />
							</a4j:commandLink>
						</div>
						<div  style="display:#{reportosController.paginacion.irAlUltimo?'inline':'none'}" >
							<a4j:commandLink
								actionListener="#{reportosController.navegarPorResultados}"
								id="control_consulta_ultimo" reRender="panelResultados"
								onclick="buscarRegistros();"
								oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" limitToList="true">
								<img src="#{facesContext.externalContext.requestContextPath}/images/control_ultimo.png" border="0" />
								<f:attribute name="navegacion" value="irAlUltimo" />
							</a4j:commandLink>
						</div>
					</td>
				</tr>
				<tr>
					<td align="left" width="450px">
						<h:outputText escape="false" styleClass="textoResumen"
									value="#{etq.mostrandoPagina}"></h:outputText>
						<h:outputText escape="false" styleClass="textoResumen"
									value="#{etq.abrir}"></h:outputText>
						<h:outputText escape="false" styleClass="textoResumen"
									value="#{reportosController.paginacion.numeroPagina}"></h:outputText>
						<h:outputText escape="false" styleClass="textoResumen"
									value="#{etq.de}"></h:outputText>
						<h:outputText escape="false" styleClass="textoResumen"
									value="#{reportosController.paginacion.totalPaginas}"></h:outputText>
						<h:outputText escape="false" styleClass="textoResumen"
									value="#{etq.entre}"></h:outputText>
						<h:outputText escape="false" styleClass="textoResumen"
							value="#{reportosController.paginacion.totalResultados}"></h:outputText>
								&#160;
						<h:outputText escape="false" styleClass="textoResumen"
									value="#{etq.registrosEncontrados}" />
					</td>
					<td align="right" width="450px">
						<h:outputText escape="false" styleClass="textoResumen"
									value="#{etq.registrosPorPagina}" />
						<h:selectOneMenu
									value="#{reportosController.paginacion.registrosPorPagina}"
									styleClass="textoControles">
							<f:selectItem itemValue="1" itemLabel="1" />
							<f:selectItem itemValue="5" itemLabel="5" />
							<f:selectItem itemValue="10" itemLabel="10" />
							<f:selectItem itemValue="20" itemLabel="20" />
							<f:selectItem itemValue="50" itemLabel="50" />
							<f:selectItem itemValue="100" itemLabel="100" />
							<a4j:support reRender="panelResultados" event="onchange"
								limitToList="true"
								action="#{reportosController.buscarReportos}"
								onchange="buscarRegistros();"
								oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" >
					<!-- <a4j:actionparam name="navCuentaiDebeBitacorear"  value="false" assignTo="#{matchEstatusBean.debeDejarBitacora}" />-->
							</a4j:support>
						</h:selectOneMenu>
						<h:inputHidden value="#{reportosController.paginacion.numeroPagina}" />
						<h:inputHidden value="#{reportosController.paginacion.totalResultados}" />
						<h:inputHidden value="#{reportosController.paginacion.totalPaginas}" />
					</td>
				</tr>
			</table>
			<br />
			
			<!-- WHEN NO DATA -->
			<table border="0"  width="900px" class="tablaGeneral" cellspacing="0px" style="display:#{empty reportosController.resultados?'inline':'none'}">
				<tr>
					<td class="tituloTabla" width="900px" ><h:outputText value="#{etq.sinResultados}" /> </td>
				</tr>
			</table>
			
			<!-- WHEN DATA -->
			<table id="tblResultado" border="0" class="tablaGeneral" width="900px" cellspacing="0px" style="display:#{empty reportosController.resultados?'none':'inLine'}">
				<tr>
					<td colspan="20" ><img src="#{facesContext.externalContext.requestContextPath}/images/blank.gif" width="900px" height="0px"  style="height: 1px" /></td>
				</tr>
				<tr>
					<!-- estatus -->
					<th rowspan="2" class="tituloTabla wordWrap" width="46px">
						<h:outputText value="#{etq.estatus}"></h:outputText>
					</th>
					<!-- folio control -->
					<th colspan="2" class="tituloTabla wordWrap">
						<h:outputText value="#{etq.folioControl}"></h:outputText>
					</th>
					<!-- folio usuario -->
					<th colspan="2" class="tituloTabla wordWrap">
						<h:outputText value="#{etq.folioUsuario}"></h:outputText>
					</th>
					<!-- Fecha Registro -->
					<th colspan="1" class="tituloTabla wordWrap">
						<h:outputText value="#{etq.fechaRegistro}"></h:outputText>
					</th>
					<!-- Clave Valor -->
					<th colspan="1" nowrap="true" class="tituloTabla">
						<h:outputText value="#{etq.tvEmisoraSerieCupon}"></h:outputText>
					</th>
					<!-- Fecha reporto -->
					<th colspan="2" class="tituloTabla wordWrap" width="90px">
						<h:outputText value="#{etq.fechaReporto}"></h:outputText>
					</th>
					<!-- Cantidad Operada-->
					<th colspan="2" class="tituloTabla wordWrap">
						<h:outputText value="#{etq.cantidadOperada}"></h:outputText>
					</th>
					<!-- Monto Operado -->
					<th colspan="1" nowrap="true" class="tituloTabla wordWrap">
						<h:outputText value="#{etq.montoOperado}"></h:outputText>
					</th>
					<!-- Botones -->
					<th rowspan="2" class="tituloTabla wordWrap">
						<h:outputText value="#{etq.vencimientoAnticipado}"></h:outputText>
					</th>
					
				</tr>
				<tr>
					<!-- Institucion Vendedora -->
					<th colspan="1" class="tituloTabla wordWrap" width="92px" >
						<h:outputText value="#{etq.instVendedor}"></h:outputText>
					</th>
					<!-- Cuenta Vendedora -->
					<th colspan="1" class="tituloTabla wordWrap" width="92px" >
						<h:outputText value="#{etq.cuentaVendedor}"></h:outputText>
					</th>
					<!-- Institucion Compradora -->
					<th colspan="1" class="tituloTabla wordWrap">
						<h:outputText value="#{etq.instComprador}"></h:outputText>
					</th>
					<!-- Cuenta Compradora -->
					<th colspan="1" class="tituloTabla wordWrap">
						<h:outputText value="#{etq.cuentaCompradora}"></h:outputText>
					</th>
					<!-- fecha liquidacion -->
					<th colspan="1" class="tituloTabla wordWrap">
						<h:outputText value="#{etq.fechaLiquidacionMinus}"></h:outputText>
					</th>
					<!-- ISIN -->
					<th colspan="1" class="tituloTabla wordWrap">
						<h:outputText value="#{etq.isin}"></h:outputText>
					</th>
					<!-- Boveda Valores -->
					<!-- 
					<th colspan="1" nowrap="true" class="tituloTabla wordWrap">
						<h:outputText value="#{etq.boveda}"></h:outputText>
					</th>-->
					<!-- Precio Titulo -->
					<th colspan="1" class="tituloTabla wordWrap">
						<h:outputText value="#{etq.precioTitulo}"></h:outputText>
					</th>
					<!-- tasa -->
					<th colspan="1" class="tituloTabla wordWrap">
						<h:outputText value="#{etq.tasaPorcentaje}"></h:outputText>
					</th>
					<!-- plazo -->
					<th colspan="1" class="tituloTabla wordWrap" width="40px">
						<h:outputText value="#{etq.plazo}"></h:outputText>
					</th>
					<!-- premio -->
					<th colspan="1" class="tituloTabla wordWrap">
						<h:outputText value="#{etq.premio}"></h:outputText>
					</th>
					<!-- moneda -->
					<th colspan="1" class="tituloTabla wordWrap" width="45px">
						<h:outputText value="#{etq.moneda}"></h:outputText>
					</th>
					<!-- Boveda  Efectivo -->
					<!-- 
					<th colspan="1" nowrap="true" class="tituloTabla wordWrap">
						<h:outputText value="#{etq.bovedaEfectivo}"></h:outputText>
					</th>-->
				</tr>
				
				<!-- DATA -->
				<t:dataList id="t_dataList" value="#{reportosController.resultados}" var="operacion" rowIndexVar="indice">
					<tr>
						<!-- Estatus -->
						<td rowspan="2" class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">
							<h:outputText value="#{operacion.claveEstadoInstruccionCat}" />
						</td>
						<!-- Folio Control -->
						<td colspan="2" class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado" >
							<h:outputText value="#{operacion.folioControl}" />
						</td>
						<!-- Folio Usuario -->
						<td colspan="2" class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">
							<h:outputText value="#{operacion.folioControl}" />&#160;
						</td>
						<!-- Fecha Concertacion -->
						<td colspan="1" nowrap="true" class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'}  centrado">
							<h:outputText value="#{operacion.fechaConcertacion}">
								<cvt:simpleDateConverter pattern="dd/MM/yyyy HH:mm:ss" />
							</h:outputText>&#160;
						</td>
						<!-- Clave Valor -->
						<td colspan="1" nowrap="true"
							title="#{etq.descripcion_emisoria_serie_cupon}"
							class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'}  centrado">
							<h:outputText value="#{operacion.tv}" />
							<h:outputText value="#{etq.pipe}"></h:outputText>
							<h:outputText value="#{operacion.emisora}" />
							<h:outputText value="#{etq.pipe}"></h:outputText>
							<h:outputText value="#{operacion.serie}" />
							<h:outputText value="#{etq.pipe}"></h:outputText>
							<h:outputText value="#{operacion.cupon}" />
						</td>
						<!-- fecha reporto -->
						<td colspan="2" nowrap="true" class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'} centrado">
							<h:outputText value="#{operacion.fechaVencimiento }" >
								<cvt:simpleDateConverter pattern="dd/MM/yyyy" />
							</h:outputText>&#160;
						</td>
						<!-- Cantidad Operada -->
						<td colspan="2" class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'}  derecha">
							<h:outputText value="#{operacion.cantidadTitulos}" converter="formatoEnteroConverter" />&#160;
						</td>
						<!-- Monto Operado -->
						<td colspan="1" nowrap="true" class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'}  derecha ">
							<h:outputText value="#{operacion.importe}" converter="formatoMonedaConverter" />&#160;
						</td>
						<!-- Botones -->
						<td rowspan="2" class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'}  centrado ">
								
							<!-- NUEVA Solicitud -->
							<h:panelGroup
								rendered="#{ reportosController.facultadEscritura
											and operacion.posibleVencerAnticipadamente 
											and operacion.idVencimientoAnticipado == null }">
								<h:commandLink action="#{reportosController.toNuevaSolicitud}" 
									title="#{etq.modalSolicitudNueva}" alt="#{etq.modalSolicitudNueva}">
									<f:param name="idInstruccion" value="#{operacion.idInstruccionOperacion}"></f:param>
									<h:graphicImage value="/images/vencer.gif" title="#{etq.modalSolicitudNueva}" height="16" width="16" />
								</h:commandLink>
							</h:panelGroup>
							
							<!-- CONSULTA solicitud -->
							<h:panelGroup rendered="#{ operacion.idVencimientoAnticipado != null 
													and (operacion.idInstitucionAutoriza != reportosController.idInstitucionActual
														and operacion.idInstitucionSolicitud != reportosController.idInstitucionIndeval )
													and not (reportosController.usuarioIndeval and reportosController.facultadEscritura) }">
								<h:commandLink action="#{reportosController.toDetalleSolicitud}"
									title="#{etq.modalConsultaSolicitud}" alt="#{etq.modalConsultaSolicitud}">
									<f:param name="idVencimiento" value="#{operacion.idVencimientoAnticipado}" ></f:param>
									<f:param name="consulta" value="true" ></f:param>
									<h:graphicImage value="/images/search.png" title="#{etq.modalConsultaSolicitud}" height="16" width="16" />
								</h:commandLink>
							</h:panelGroup> 
							
							<!-- AUTORIZA SOLICITUD -->
							<h:panelGroup rendered="#{ reportosController.facultadEscritura 
													and operacion.idVencimientoAnticipado != null
													and ( operacion.idInstitucionAutoriza == reportosController.idInstitucionActual 
															or reportosController.usuarioIndeval 
															or operacion.idInstitucionSolicitud == reportosController.idInstitucionIndeval) }">
								<h:commandLink action="#{reportosController.toDetalleSolicitud}"
									title="#{etq.modalSolicitudPendiente}" alt="#{etq.modalSolicitudPendiente}">
									<f:param name="idVencimiento" value="#{operacion.idVencimientoAnticipado}" ></f:param>
									<f:param name="consulta" value="false" ></f:param>
									<h:graphicImage value="/images/accept.png" title="#{etq.modalSolicitudPendiente}" height="16" width="16" />
								</h:commandLink>
							</h:panelGroup>&#160;
						</td>
					</tr>
					<tr>
						<!-- Institucion vendedora -->
						<td colspan="1" title="#{operacion.nombreCortoInstitTraspasante}"
							class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'}  centrado">
							<h:outputText value="#{operacion.idFolioInstitucionTraspasante}" /><br/>
							<h:outputText value="#{operacion.nombreCortoInstitTraspasante}" />
						</td>
						<!-- Cuenta vendedora -->
						<td colspan="1" title="#{operacion.nombreCuentaTraspasante}"
							class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'}  centrado">
							<h:outputText value="#{operacion.cuentaTraspasante}" />&#160;
						</td>
						<!-- Institucion Compradora -->
						<td colspan="1" title="#{operacion.nombreCortoInstitReceptora}"
							class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'}  centrado">
							<h:outputText value="#{operacion.idFolioInstitucionReceptora}" /><br/>
							<h:outputText value="#{operacion.nombreCortoInstitReceptora}" />
						</td>
						<!-- Cuenta Compradora -->
						<td colspan="1" title="#{operacion.nombreCuentaReceptora}"
							class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'}  centrado">
							<h:outputText value="#{operacion.cuentaReceptora}" />&#160;
						</td>
						<!-- Fecha Liquidacion-->
						<td colspan="1" nowrap="true" class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'}  centrado">
							<h:outputText value="#{operacion.fechaLiquidacion}" >
								<cvt:simpleDateConverter pattern="dd/MM/yyyy" />	
							</h:outputText>	
						</td>
						<!-- ISIN -->
						<td colspan="1" class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'}  centrado">
							<h:outputText value="#{operacion.isin}" />&#160;
						</td>
						<!-- Boveda Valores -->
						<!-- 
						<td colspan="1" class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'}  centrado" title=" " >
								<h:outputText value="#{empty operacion.bovedaValores ? '' : operacion.bovedaValores}" />
						</td>-->
						<!-- Precio titulo-->
						<td colspan="1" class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'}  derecha">
							<h:outputText value="#{operacion.precioTitulo}" converter="formatoLargoMonedaConverter"  />&#160;
						</td>
						<!-- Tasa -->
						<td colspan="1" class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} derecha">
							<h:outputText value="#{operacion.tasaNegociada}" converter="formatoPorcentajeConverter" />
							<h:outputText value="#{etq.porcentaje}"></h:outputText>&#160;
						</td>
						<!-- Plazo -->
						<td colspan="1" class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">
							<h:outputText value="#{operacion.plazoReporto}"/>&#160;
						</td>
						<!-- Premio -->
						<td colspan="1" class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">
							<h:outputText value="#{operacion.interesesGenerados}" converter="formatoMonedaConverter"></h:outputText>
						</td>
						<!-- Divisa -->
						<td colspan="1" title="#{operacion.claveDivisa }" class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'} centrado">
							<h:outputText value="#{operacion.claveDivisa}" />&#160;
						</td>
						<!-- Boveda Efectivo -->
						<!-- 
						<td colspan="1" nowrap="true" class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'} ">
							<h:panelGroup>
								<h:outputText value="#{empty operacion.bovedaEfectivo ? '' : operacion.bovedaEfectivo}" />
							</h:panelGroup>
						</td>-->
					</tr>
				</t:dataList>
			</table>
			
			<!-- PAGER -->
			<table cellpadding="0" cellspacing="0" border="0" align="left" width="900px">
				<tr>
					<td>
						<div style="display:#{reportosController.paginacion.irAlPrimero?'inline':'none'}">
							<a4j:commandLink
								actionListener="#{reportosController.navegarPorResultados}"
								id="control_consulta_primero2" reRender="panelResultados"
								onclick="buscarRegistros();"
								oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" limitToList="true">
								<img src="#{facesContext.externalContext.requestContextPath}/images/control_primero.png"
									border="0" />
								<f:attribute name="navegacion" value="irAlPrincipio" />
							</a4j:commandLink>
						</div>
						<div style="display:#{reportosController.paginacion.retrocederRapido?'inline':'none'}" >
							<a4j:commandLink
								actionListener="#{reportosController.navegarPorResultados}"
								id="control_consulta_atras_fast2" reRender="panelResultados"
								onclick="buscarRegistros();"
								oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" limitToList="true">
								<img src="#{facesContext.externalContext.requestContextPath}/images/control_atras_fast.png"
									border="0" />
								<f:attribute name="navegacion" value="retrocederPaginasRapido" />
							</a4j:commandLink>
						</div>
						<div style="display:#{reportosController.paginacion.retroceder?'inline':'none'}" >
							<a4j:commandLink
								actionListener="#{reportosController.navegarPorResultados}"
								id="control_consulta_atras2" reRender="panelResultados"
								onclick="buscarRegistros();"
								oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" limitToList="true">
								<img src="#{facesContext.externalContext.requestContextPath}/images/control_atras.png" border="0" />
								<f:attribute name="navegacion" value="retrocederPagina" />
							</a4j:commandLink>
						</div>
						<div style="display:#{reportosController.paginacion.avanzar?'inline':'none'}" >
							<a4j:commandLink
								actionListener="#{reportosController.navegarPorResultados}"
								id="control_consulta_adelante2" reRender="panelResultados"
								onclick="buscarRegistros();"
								oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" limitToList="true">
								<img src="#{facesContext.externalContext.requestContextPath}/images/control_adelante.png" border="0" />
								<f:attribute name="navegacion" value="avanzarPagina" />
							</a4j:commandLink>
						</div>
						<div style="display:#{reportosController.paginacion.avanzarRapido?'inline':'none'}"  >
							<a4j:commandLink
								actionListener="#{reportosController.navegarPorResultados}"
								id="control_consulta_adelante_fast2"
								reRender="panelResultados" onclick="buscarRegistros();"
								oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" limitToList="true">
								<img src="#{facesContext.externalContext.requestContextPath}/images/control_adelante_fast.png" border="0" />
								<f:attribute name="navegacion" value="avanzarPaginasRapido" />
							</a4j:commandLink>
						</div>
						<div  style="display:#{reportosController.paginacion.irAlUltimo?'inline':'none'}" >
							<a4j:commandLink
								actionListener="#{reportosController.navegarPorResultados}"
								id="control_consulta_ultimo2" reRender="panelResultados"
								onclick="buscarRegistros();"
								oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" limitToList="true">
								<img src="#{facesContext.externalContext.requestContextPath}/images/control_ultimo.png" border="0" />
								<f:attribute name="navegacion" value="irAlUltimo" />
							</a4j:commandLink>
						</div>
					</td>
				</tr>
			</table>
			</div>
		</h:panelGroup>
	</ui:define>

</ui:composition>
</html>