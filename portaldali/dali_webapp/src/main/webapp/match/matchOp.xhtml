<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:dt="http://blitzsoftware.com/jsf/datetag"
	xmlns:cvt="http://indeval.com/jsf/converters"	
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:indeval="http://indeval.com/indeval"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xml:lang="es" lang="es">
	<ui:composition
		template="/layoutConsultas.xhtml">
		<ui:define name="tituloSeccion">
			<h:outputText value="#{etq.estatusOp}" />
		</ui:define>
		<ui:define name="subtituloSeccion">
			<h:outputText value="#{etq.matchYOpValores}" />
		</ui:define>
		<ui:define name="head">
         
            <script language="javascript" type="text/javascript"
                src="#{facesContext.externalContext.requestContextPath}/js/matchOp.js"></script>
           
            <script language="javascript" type="text/javascript"
                src="#{facesContext.externalContext.requestContextPath}/js/date.js"></script>
           
           <script language="javascript" type="text/javascript"
				src="#{facesContext.externalContext.requestContextPath}/js/mostrarFondeo.js"></script>
           
           <script language="javascript" type="text/javascript"
                src="#{facesContext.externalContext.requestContextPath}/js/mostrarFirmaDigital.js"></script>
        </ui:define>
		
		<ui:define name="criterios">
			<a4j:keepAlive beanName="matchEstatusBean"/>
			<h:outputText value="#{matchEstatusBean.init}" />
			
			<h:panelGroup id="panelCriterios">
				<h:inputHidden value="#{matchEstatusBean.consultaEjecutada}"></h:inputHidden>
				<h:inputHidden id="matchIdOperacionesConfirmar"/>
				<h:inputHidden id="matchIdOperacionesCancelar" />
								
				<div style='display:#{matchEstatusBean.consultaEjecutada?"inline":"inline"}' id="divCriterios">
					<table width="100%" border="0" cellpadding="0px" cellspacing="5px"> 
						<tr>
							<td class="recuadroTabla">
								<table width="100%" border="0">
									<tr>
										<td width="50%">
											<table class="tablaCriterios" border="0" width="100%">
												<tr>
													<td align="center" colspan="2">
														<div align="center">
															<b><h:outputText styleClass="texto"
																	value="#{etq.participanteMinus}" /> </b>
														</div>
													</td>
												</tr>
												<tr>
													<td width="50%" nowrap="true" align="center">
														<h:outputText styleClass="texto"
															value="#{etq.participanteMinus}" />&#160;
															
													</td>
													<td width="50%" nowrap="true" align="center">
														<h:outputText styleClass="texto"
															value="#{etq.cuentaMinus}" />
													</td>
												</tr>
												<tr>
													<td width="50%" align="center">
														<h:inputText autocomplete="off"  id="idFolioParticipante" size="5" maxlength="5"
														value="#{matchEstatusBean.institucionParticipante}" styleClass='campoNumericoAsterisco textoControles #{!matchEstatusBean.usuarioIndeval? "readonly" : "" }'/>
														<rich:suggestionbox selectValueClass="autoCompleteSeleccionado"  for="idFolioParticipante"
															suggestionAction="#{matchEstatusBean.buscarParticipante}"
															var="coincidencia" fetchValue="#{coincidencia.claveTipoInstitucion}#{coincidencia.folioInstitucion}"
															minChars="1" width="450" nothingLabel="Sin coincidencias" eventsQueue="folioTraspQueue" ignoreDupResponses="true" requestDelay="300"
															>
															<h:column>
																<h:outputText value="#{coincidencia.claveTipoInstitucion}#{coincidencia.folioInstitucion}" /> - <h:outputText
																	value="#{coincidencia.nombreCorto}" />
															</h:column>
														</rich:suggestionbox>
													</td>
													<td width="50%" align="center">
														<h:inputText autocomplete="off" id="cuentaParticipante" size="5" maxlength="4"
															value="#{matchEstatusBean.criterio.cuentaParticipante}"
															converter="cuentaCuentaConverter"
															styleClass="campoNumericoAsterisco textoControles"></h:inputText>
														<h:message for="cuentaParticipante" />
														<rich:suggestionbox selectValueClass="autoCompleteSeleccionado"  for="cuentaParticipante"
															suggestionAction="#{matchEstatusBean.buscarCuentasParticipantePorPrefijo}"
															var="coincidencia" fetchValue="#{coincidencia.cuenta}"
															minChars="1" width="80" nothingLabel="Sin coincidencias" eventsQueue="cuentaTraspQueue" ignoreDupResponses="true"  requestDelay="300"
															>
															<h:column>
																<h:outputText value="#{coincidencia.cuenta}" />
															</h:column>
														</rich:suggestionbox>
													
													</td>
												</tr>
											</table>
										</td>
										<td >
											<table class="tablaCriterios" border="0" width="100%">
											<tr>
												<td align="center" colspan="2">
													<div align="center">
														<b><h:outputText styleClass="texto"
																value="#{etq.contraparteMinus}" /> </b>
													</div>
												</td>
											</tr>
											<tr>
												<td nowrap="true" align="center">
													<h:outputText styleClass="texto"
														value="#{etq.participanteMinus}" />&#160;
												</td>
												<td nowrap="true" align="center">
													<h:outputText styleClass="texto"
														value="#{etq.cuentaMinus}" />
												</td>
											</tr>
											<tr>
												<td width="50%" align="center">
													<h:inputText autocomplete="off"  id="idFolioContraparte" size="5" maxlength="5"
													value="#{matchEstatusBean.institucionContraparte}" styleClass="textoControles campoNumericoAsterisco"/>
													<rich:suggestionbox selectValueClass="autoCompleteSeleccionado"  for="idFolioContraparte"
														suggestionAction="#{matchEstatusBean.buscarParticipante}"
														var="coincidencia" fetchValue="#{coincidencia.claveTipoInstitucion}#{coincidencia.folioInstitucion}"
														minChars="1" width="450" nothingLabel="Sin coincidencias" eventsQueue="folioRecepQueue" ignoreDupResponses="true" requestDelay="300"
														>
														<h:column>
															<h:outputText value="#{coincidencia.claveTipoInstitucion}#{coincidencia.folioInstitucion}" /> - <h:outputText
																value="#{coincidencia.nombreCorto}" />
														</h:column>
													</rich:suggestionbox>
												</td>
												<td width="50%" align="center">
													<h:inputText autocomplete="off" id="cuentaContraparte" size="5"
														value="#{matchEstatusBean.cuentaContraparte}"
														 maxlength="4"
														styleClass="textoControles campoNumericoAsterisco" />
													<rich:suggestionbox selectValueClass="autoCompleteSeleccionado"  for="cuentaContraparte"
														suggestionAction="#{matchEstatusBean.buscarCuentasContrapartePorPrefijo}"
														var="coincidencia" fetchValue="#{coincidencia.cuenta}"
														minChars="1" width="80" nothingLabel="Sin coincidencias" eventsQueue="cuentaRecepQueue" ignoreDupResponses="true" requestDelay="300"
														>
														<h:column>
															<h:outputText value="#{coincidencia.cuenta}" />
														</h:column>
													</rich:suggestionbox>
												</td>
											</tr>
										</table>
										</td>
									</tr>
								</table> 
							</td> 
							<td class="recuadroTabla">
								<table class="tablaCriterios" border="0" align="center" width="100%">	
									<tr>
										<td align="center" colspan="4" height="17px">											 
										</td>
										<td align="center"> <h:outputText styleClass="texto" value="#{etq.fechaMinus}" />  
										</td>
										<td align="center"> <h:outputText styleClass="texto" value="#{etq.fechaMinus}" />  
										</td>
										<td align="center">											 
										</td>
									</tr>								 
									<tr> 
										<td align="center">
											<h:outputText styleClass="texto" value="#{etq.mercadoMinus}" />
										</td>
										<td align="center">
											<h:outputText styleClass="texto" value="#{etq.papelMinus}" />
										</td>
										<td align="center">
											<h:outputText styleClass="texto" value="#{etq.estatus}" />
										</td>
										<td align="center">
											<h:outputText styleClass="texto" value="#{etq.instruccionMinus}" />
										</td>
										<td align="center"> 
											<h:outputText styleClass="texto" value="#{etq.registro}" />
										</td>
										<td align="center"> 
											<h:outputText styleClass="texto" value="#{etq.liquidacion}" />
										</td>
										<td align="center">
											<h:outputText styleClass="texto" value="#{etq.rolMinus}" />
										</td>
									</tr>
									<tr>
										<td align="center">
											<h:selectOneMenu value="#{matchEstatusBean.papelMercado}" styleClass="textoControles" id="selectPapelMercado">
												<f:selectItems value="#{matchEstatusBean.consultaCatalogos.selectItemsPapelMercado}"/>
												<a4j:support event="onchange" reRender="selectMercado" />
											</h:selectOneMenu>
										</td>
										<td align="center">
											<h:selectOneMenu value="#{matchEstatusBean.criterio.mercado}"
												styleClass="textoControles" converter="mercadoConverter"
												id="selectMercado">
												<f:selectItems
													value="#{matchEstatusBean.selectItemsMercado}" />
												
											</h:selectOneMenu>
										</td>
										<td align="center">
											<h:inputText autocomplete="off" id="selectEstatus" size="4" maxlength="2"
												styleClass="textoControles campoAlphaAsterisco"
												value="#{matchEstatusBean.estadoInstruccion}"
												title="#{matchEstatusBean.criterio.estadoInstruccion.descripcion}"/>
											<rich:suggestionbox selectValueClass="autoCompleteSeleccionado"  for="selectEstatus"
												suggestionAction="#{matchEstatusBean.buscarEstadoInstruccionPorPrefijo}"
												var="coincidencia" fetchValue="#{coincidencia.claveEstadoInstruccion}"
												minChars="0" width="450" nothingLabel="Sin coincidencias" eventsQueue="tipoInstrucQueue" ignoreDupResponses="true" requestDelay="300"
												>
												<h:column>
													<h:outputText value="#{coincidencia.claveEstadoInstruccion}" /> - <h:outputText
														value="#{coincidencia.descripcion}" />
												</h:column>
											</rich:suggestionbox>
										</td>
										<td align="center">
											<h:inputText autocomplete="off" id="tipoOp" size="4" maxlength="10"
												styleClass="textoControles campoAlphaAsterisco"
												alt="#{matchEstatusBean.criterio.tipoInstruccion.descripcion}"
												value="#{matchEstatusBean.tipoInstruccion}"
												style="width: 83px"/>
											<rich:suggestionbox selectValueClass="autoCompleteSeleccionado"  for="tipoOp"
												suggestionAction="#{matchEstatusBean.buscarTipoInstruccionPorPrefijo}"
												var="coincidencia" fetchValue="#{coincidencia.nombreCorto}"
												minChars="0" width="450" nothingLabel="Sin coincidencias" eventsQueue="tipoInstrucQueue" ignoreDupResponses="true" requestDelay="300"
												>
												<h:column>
													<h:outputText value="#{coincidencia.nombreCorto}" /> - <h:outputText
														value="#{coincidencia.instruccion}" />
												</h:column>
											</rich:suggestionbox>
										</td>
										<td align="center">
											<rich:calendar id="fecha" 
												value="#{matchEstatusBean.criterio.fechaConcertacion}"
												datePattern="dd/MM/yyyy"
												inputSize="11"
												inputClass="textoControles"
												inputStyle="background-color: #ffffe6;"
												isDayEnabled="isDayEnabled" />
										</td>
										<td align="center">
											<rich:calendar id="fechaLiquidacion" 
												value="#{matchEstatusBean.criterio.fechaLiquidacion}"
												datePattern="dd/MM/yyyy"
												inputSize="11"
												inputClass="textoControles"
												inputStyle="background-color: #ffffe6;" 
												isDayEnabled="isDayEnabled" />
										</td>
										<td align="center">
											<h:selectOneMenu value="#{matchEstatusBean.criterio.rol}"
												id="selectRol" styleClass="textoControles">
												<f:selectItem itemLabel="AMBOS" itemValue="0" />
												<f:selectItem itemLabel="TRASPASANTE" itemValue="1" />
												<f:selectItem itemLabel="RECEPTOR" itemValue="2" />
											</h:selectOneMenu>
											<h:message for="selectRol" />
										</td>  
									</tr>
								</table>
							</td>
						</tr>
						<tr valign="bottom">
							<td class="recuadroTabla">
								<table class="tablaCriterios" border="0">
									<tr>
										<td colspan="4" align="center">
											<div align="center">
												<b><h:outputText styleClass="texto"
														value="#{etq.claveValor}" /> </b>
											</div>
										</td>
									</tr>
									<tr>
										<td align="center">
											<h:outputText styleClass="texto" value="#{etq.tv}" />
										</td>
										<td align="center">
											<h:outputText styleClass="texto" value="#{etq.emisoraMinus}" />
										</td>
										<td align="center">
											<h:outputText styleClass="texto" value="#{etq.serieMinus}" />
										</td> 
									</tr>
									<tr>
										<td align="center" nowrap="nowrap">
											<h:inputText autocomplete="off" id="tv" size="2" maxlength="5"
												value="#{matchEstatusBean.tipoValor}"
												styleClass="textoControles campoAlphaNumericoAsterisco textoTipoValor" />
											<rich:suggestionbox selectValueClass="autoCompleteSeleccionado"  for="tv"
												suggestionAction="#{matchEstatusBean.buscarTiposValorPorPrefijo}"
												var="coincidencia"
												fetchValue="#{coincidencia.claveTipoValor}" minChars="0"
												width="300" immediate="false"
												nothingLabel="Sin coincidencias" eventsQueue="tvQueue" ignoreDupResponses="true" requestDelay="300"
												>
												<h:column>
													<h:outputText value="#{coincidencia.claveTipoValor}" /> - <h:outputText
														value="#{coincidencia.descripcion}" />
												</h:column>
											</rich:suggestionbox>
										</td>
										<td align="center" nowrap="nowrap">
											<h:inputText autocomplete="off" id="emisora" size="8" maxlength="20"
												styleClass="textoControles  campoAlphaNumericoEmisora" 
												value="#{matchEstatusBean.emisora}" />
											<rich:suggestionbox selectValueClass="autoCompleteSeleccionado"  for="emisora"
												suggestionAction="#{matchEstatusBean.buscarEmisorasPorPrefijo}"
												var="coincidencia" fetchValue="#{coincidencia.descripcion}"
												minChars="0" width="300" immediate="false"
												nothingLabel="Sin coincidencias" eventsQueue="emisQueue" ignoreDupResponses="true" requestDelay="300"
												>
												<h:column>
													<h:outputText value="#{coincidencia.descripcion}" />
												</h:column>
											</rich:suggestionbox>
										</td>
										<td align="center">
											<h:inputText autocomplete="off" id="serie" size="4" maxlength="6"
												styleClass="textoControles campoAlphaNumericoSerie"
												value="#{matchEstatusBean.serie}" />
										</td>										
									</tr>
									<tr>
										<td align="center" colspan="3" >
											<h:outputText styleClass="texto" value="#{etq.bovedaValores}" />
										</td>
									</tr> 
									<tr>										
										<td align="center" colspan="3" >
											 <h:selectOneMenu value="#{matchEstatusBean.criterio.bovedaValores}"
			                                    id="boveda" converter="bovedaConverter" styleClass="textoControles">
			                                    <f:selectItems value="#{seleccionarEmisionBean.bovedasValor}" /> 
			                                 </h:selectOneMenu>
										</td>
									</tr>
								</table>

							</td>
							<td class="recuadroTabla" valign="bottom">
								<table class="tablaCriterios" border="0" width="100%">
									<tr>
										<td colspan="10" align="center" height="10px"> 
										</td>
									</tr>
									<tr>
										<td>
											<table border="0">
												<tr valign="bottom">
													<td align="center">
														<h:outputText styleClass="texto" value="#{etq.folioUsuario}" /><br/>
													</td>
													<td align="center" colspan="2">
														<h:outputText styleClass="texto" value="#{etq.mensajeMinus}" /><br/>
													</td>
													<td align="center">
														<h:outputText styleClass="texto" value="#{etq.remitente}" /><br/>
													</td>
													<td align="center">
														<h:outputText styleClass="texto" value="#{etq.origen}" /><br/>
													</td>
													<td align="center">
														<h:outputText styleClass="texto" value="#{etq.error}" /><br/>
													</td> 
													<td align="center">
														<h:outputText styleClass="texto" value="#{etq.cantidadMinus}" /><br/>
													</td>
													<td align="center">
														<h:outputText styleClass="texto" value="#{etq.monto}" /><br/>
													</td>
												</tr>
												<tr>
													<td align="center">
														<h:inputText autocomplete="off" id="folioUsuario" size="15" maxlength="16"
														   
															value="#{matchEstatusBean.criterio.folioUsuario}"
															styleClass="textoControles campoNumerico" />
													</td>
													<td align="center" colspan="2">
														<h:panelGroup id="containerSelectTipoMensaje">
															<h:selectOneMenu
																value="#{matchEstatusBean.criterio.tipoMensaje}"
																styleClass="textoControles" converter="tipoMensajeConverter" title="#{matchEstatusBean.criterio.tipoMensaje.descripcion}"
																id="selectTipoMensaje">
																<f:selectItems
																	value="#{matchEstatusBean.consultaCatalogos.selectItemsTiposMensaje}" />
																<a4j:support event="onchange" reRender="containerSelectTipoMensaje" actionListener="#{matchEstatusBean.cambioTipoMensaje}"/>
															</h:selectOneMenu>
														</h:panelGroup>
													</td>
													<td align="center">
														<h:selectBooleanCheckbox id="remitente"
															value="#{matchEstatusBean.criterio.remitente}"
															styleClass="textoControles"></h:selectBooleanCheckbox>
													</td>
													<td align="center">
														<h:inputText autocomplete="off" id="origen" maxlength="3"
															value="#{matchEstatusBean.criterio.origen}" size="6"
															styleClass="textoControles campoNumericoAsterisco" />
														<rich:suggestionbox selectValueClass="autoCompleteSeleccionado"  for="origen"
															suggestionAction="#{matchEstatusBean.buscarOrigenPorPrefijo}"
															var="coincidencia" fetchValue="#{coincidencia}"
															minChars="0" width="120" immediate="false"
															nothingLabel="Sin coincidencias" eventsQueue="origenQueue" ignoreDupResponses="true" requestDelay="300">
															<h:column>
																<h:outputText value="#{coincidencia}" />
															</h:column>
														</rich:suggestionbox>
													</td>
													<td align="center">
														<h:panelGroup id="containerSelectError">
															<h:selectOneMenu
																value="#{matchEstatusBean.criterio.error.claveError}"
																styleClass="textoControles" title="#{matchEstatusBean.criterio.error.descripcion}"
																id="error">
																<f:selectItems
																	value="#{matchEstatusBean.consultaCatalogos.selectItemsErrorDali}" />
																<a4j:support event="onchange" reRender="containerSelectError" actionListener="#{matchEstatusBean.cambioSelectError}"/>
															</h:selectOneMenu>
														</h:panelGroup>
													</td> 
													<td align="center">
														<h:inputText autocomplete="off" id="cantidad" size="10"
														
															value="#{matchEstatusBean.criterio.cantidad}"
															styleClass="textoControles campoNumerico" />
													</td>
													<td align="center">
														<h:inputText autocomplete="off" id="monto" size="10"
															value="#{matchEstatusBean.criterio.monto}"
															styleClass="textoControles campoNumericoDecimalDosDecimales"
															converter="formatoMonedaConverter">
			                                        	</h:inputText>
													</td>
												</tr>
												<tr>
													<td align="center" colspan="2">
														<h:outputText styleClass="texto" value="#{etq.divisa}" /><br/>
													</td>
													<td align="center" colspan="3">
														<h:outputText styleClass="texto" value="#{etq.bovedaEfectivo}" /><br/>
													</td>
													<td align="center" colspan="1">
														<h:outputText styleClass="texto" value="#{etq.folioControl}" /><br/>
													</td>
													<td align="center" colspan="2">
														<h:outputText styleClass="texto" value="#{etq.folioOrigen}" /><br/>
													</td>
												</tr>
												<tr>										
													<td align="center" colspan="2">
														<h:selectOneMenu value="#{matchEstatusBean.criterio.divisa}" id="divisa" 
						                                    converter="divisaConverter" styleClass="textoControles">  
			                                    			<f:selectItems value="#{catalogosBean.opcionesComboDivisa}" /> 
						                                 </h:selectOneMenu>
													</td>
													<td align="center" colspan="3">
														 <h:selectOneMenu value="#{matchEstatusBean.criterio.bovedaEfectivo}"
						                                    id="bovedaEfectivo" converter="bovedaConverter" styleClass="textoControles">
						                                    <f:selectItems value="#{seleccionarEmisionBean.bovedasEfectivo}" /> 
						                                 </h:selectOneMenu>
													</td>
													<td align="center" colspan="1">
														<h:inputText autocomplete="off" id="folioControl" size="8" maxlength="16"
															value="#{matchEstatusBean.criterio.folioControl}"
															styleClass="textoControles campoNumerico" />
													</td> 
													<td align="center" colspan="2">
														<h:inputText autocomplete="off" id="referenciaPaquete" size="18" maxlength="16"
															value="#{matchEstatusBean.criterio.referenciaPaquete}"
															styleClass="textoControles campoAlphaNumerico" />
													</td> 
												</tr>
											</table>
										</td>
									</tr>	 
									
								</table>
							</td>
						</tr>
					</table>
				</div>
				<h:panelGroup id="panelResumen">
						
						<div style='display:#{matchEstatusBean.consultaEjecutada?"inline":"none"}' id="divResumen"   >  
							<table width="900px" border="0" cellpadding="0px" cellspacing="5px">
								<tr>
									<td class="recuadroTabla">
										<table width="100%" cellpadding="0">
											<tr>
												<td align="center">
													<h:outputText styleClass="texto"
														value="#{etq.participanteMinus}" />
												</td>
												<td align="center">
													<h:outputText styleClass="texto"
														value="#{etq.cuentaParticipante}" />
												</td>
												<td align="center">
													<h:outputText styleClass="texto"
														value="#{etq.contraparteMinus}" />
												</td>
												<td align="center">
													<h:outputText styleClass="texto"
														value="#{etq.cuentaContraparte}" />
												</td> 
												<td align="center">
													<h:outputText styleClass="texto" value="#{etq.mercadoMinus}" />
												</td>
												<td align="center">
													<h:outputText styleClass="texto" value="#{etq.papelMinus}" />
												</td>
												<td align="center">
													<h:outputText styleClass="texto" value="#{etq.estatus}" />
												</td>
												<td align="center">
													<h:outputText styleClass="texto" value="#{etq.instruccionMinus}" />
												</td>
												<td align="center">
													<h:outputText styleClass="texto"
														value="#{etq.fechaRegistro}" />
												</td>
												<td align="center">
													<h:outputText styleClass="texto"
														value="#{etq.fechaLiquidacionMinus}" />
												</td>
												<td align="center">
													<h:outputText styleClass="texto" value="#{etq.rolMinus}" />
												</td>
											</tr>
											<tr class="textoResumen">
												<td align="center">
													<h:outputText
														value="#{matchEstatusBean.institucionParticipante}"/>
												</td>
												<td align="center">
													<h:outputText
														value="#{empty matchEstatusBean.criterio.cuentaParticipante.cuenta? 'TODAS' : matchEstatusBean.criterio.cuentaParticipante.cuenta}"
														title="#{matchEstatusBean.criterio.cuentaParticipante.nombreCuenta}" />
												</td>
												<td align="center">
													<h:outputText
														value="#{matchEstatusBean.institucionContraparte}" />
												</td>
												<td align="center">
													<h:outputText
														value="#{empty matchEstatusBean.criterio.cuentaContraparte.cuenta? 'TODAS' : matchEstatusBean.criterio.cuentaContraparte.cuenta}"
														title="#{matchEstatusBean.criterio.cuentaContraparte.nombreCuenta}" />
												</td> 
												<td align="center">
													<h:outputText
														value="#{matchEstatusBean.descripcionPapelMercado}"/>
												</td>
												<td align="center">
													<h:outputText
														value="#{matchEstatusBean.descripcionPapelMercado2}"
														title="#{matchEstatusBean.descripcionPapelMercadoTitle2}" />
												</td>
												<td align="center">
													<h:outputText
														value="#{matchEstatusBean.estadoInstruccion}" />
												</td>
												<td align="center">
													<h:outputText
														value='#{empty matchEstatusBean.tipoInstruccion ? "TODOS" : matchEstatusBean.tipoInstruccion}'
														title="#{matchEstatusBean.criterio.tipoInstruccion.descripcion}" />
												</td>
												<td align="center">
													<h:outputText value="#{matchEstatusBean.criterio.fechaConcertacion}">
														<f:converter converterId="formatoFechaCortoConverter" />
													</h:outputText>
												</td>
												<td align="center">
													<h:outputText value="#{matchEstatusBean.criterio.fechaLiquidacion}">
														<f:converter converterId="formatoFechaCortoConverter" />
													</h:outputText>
												</td>
												<td align="center">
													<h:outputText
														value="#{matchEstatusBean.criterio.descripcionRol}">
		
													</h:outputText>
												</td>
											</tr>
										</table>
									</td>
								</tr>
								<tr>
									<td class="recuadroTabla">
										<table width="100%" cellpadding="0" cellspacing="0">
											<tr>
												<td align="center">
													<h:outputText styleClass="texto" value="#{etq.claveValor}" />
												</td>
												<td align="center">
													<h:outputText styleClass="texto" value="#{etq.bovedaMinus}" />
												</td>
												<td align="center">
													<h:outputText styleClass="texto" value="#{etq.folioUsuario}" />
												</td>
												<td align="center">
													<h:outputText styleClass="texto" value="#{etq.mensajeMinus}" />
												</td>
												<td align="center">
													<h:outputText styleClass="texto" value="#{etq.remitente}" />
												</td>
												<td align="center">
													<h:outputText styleClass="texto" value="#{etq.origen}" />
												</td>
												<td align="center">
													<h:outputText styleClass="texto" value="#{etq.error}" />
												</td>
												<td align="center">
													<h:outputText styleClass="texto" value="#{etq.cantidadMinus}" />
												</td>
												<td align="center">
													<h:outputText styleClass="texto" value="#{etq.monto}" />
												</td>
												<td align="center">
													<h:outputText styleClass="texto" value="#{etq.divisa}" />
												</td>
												<td align="center">
													<h:outputText styleClass="texto" value="#{etq.bovedaEfectivo}" />
												</td>
												<td align="center">
													<h:outputText styleClass="texto" value="#{etq.folioControl}" />
												</td>
												<td align="center">
													<h:outputText styleClass="texto" value="#{etq.folioOrigen}" /><br/>
												</td>
											</tr>
											<tr class="textoResumen">
												<td align="center">
													<h:outputText styleClass="textoTipoValor"
														value="#{empty matchEstatusBean.tipoValor ? 'TODAS' : matchEstatusBean.tipoValor}"
														title="#{matchEstatusBean.criterio.emision.tipoValor.descripcion}" />
													&#160;
													<h:outputText value="#{etq.pipe}"></h:outputText>
													&#160;
													<h:outputText styleClass="textoEmisora"
														value='#{empty matchEstatusBean.emisora ? "TODAS" : matchEstatusBean.emisora}' />
													&#160;
													<h:outputText value="#{etq.pipe}"></h:outputText>
													&#160;
													<h:outputText styleClass="textoSerie"
														value='#{empty matchEstatusBean.serie? "TODAS" : matchEstatusBean.serie}' />
												</td>
												<td align="center">
													<h:outputText
														value="#{empty  matchEstatusBean.criterio.bovedaValores.nombreCorto ? 'TODAS' : matchEstatusBean.criterio.bovedaValores.nombreCorto }"/>
												</td>
												<td align="center">
													<h:outputText
														value="#{matchEstatusBean.criterio.folioUsuario}" />
												</td>
												<td align="center">
													<h:outputText
														value="#{empty matchEstatusBean.criterio.tipoMensaje.claveTipoMensaje? 'TODOS' : matchEstatusBean.criterio.tipoMensaje.claveTipoMensaje}"
														title="#{matchEstatusBean.criterio.tipoMensaje.descripcion}" />
												</td>
												<td align="center">
													<h:outputText value="#{matchEstatusBean.criterio.remitente}">
														<f:converter converterId="booleanConverter" />
													</h:outputText>
												</td>
												<td align="center">
													<h:outputText value="#{matchEstatusBean.criterio.origen}" />
												</td>
												<td align="center">
													<h:outputText value="#{matchEstatusBean.criterio.error.claveError}" />
												</td>
												<td align="center">
													<h:outputText value="#{matchEstatusBean.criterio.cantidad}" />
												</td>
												<td align="center">
													<h:outputText value="#{matchEstatusBean.criterio.monto}" converter="formatoMonedaConverter" />
												</td>
												<td align="center">
													<h:outputText
														value="#{empty matchEstatusBean.criterio.divisa.claveAlfabetica  ? 'TODAS' : matchEstatusBean.criterio.divisa.claveAlfabetica}" />
												</td>
												<td align="center">
													<h:outputText
														value="#{empty matchEstatusBean.criterio.bovedaEfectivo.nombreCorto ? 'TODAS' : matchEstatusBean.criterio.bovedaEfectivo.nombreCorto}" />
												</td>
												<td align="center">
													<h:outputText 
														value="#{matchEstatusBean.criterio.folioControl}" />
												</td>
												<td align="center">
													<h:outputText 
														value="#{matchEstatusBean.criterio.referenciaPaquete}" />
												</td>
											</tr>
										</table>
									</td>
								</tr>
							</table>
						</div>
						
				</h:panelGroup>
			</h:panelGroup>
		</ui:define>
		<ui:define name="botones">
			<h:panelGroup id="panelBotones">
				<div class="refrescar" style="float: left;">
					<a4j:status id="commonStatus">
						<f:facet name="start">
							<h:panelGroup>
								<h:graphicImage value="/images/ajax-loader.gif" />
								<h:outputText value="#{etq.buscando}"></h:outputText>
							</h:panelGroup>
						</f:facet>
					</a4j:status>
				</div>
								<br />
				<div class="limpiar">
	                	<h:commandButton id="btnLimpiar" image="/images/transparent.gif" styleClass="submit"
							
							actionListener="#{matchEstatusBean.limpiar}"  tabindex="250" >
						</h:commandButton>
                	</div>
				<div class="buscar" style="float: right;">
					<a4j:commandButton id="btnBuscar" type="image" value="Buscar"
						action="#{matchEstatusBean.buscarMatchYOperaciones}"
						styleClass="submit"
						onclick="limpiarMatch();removeApplet();buscarRegistros();"
						oncomplete="presentarResumen();"
						reRender="panelResumen, panelBotones, panelResultados"
						src="/images/transparent.gif" alt="Buscar" title="Buscar" >
						<a4j:actionparam name="navCuentaiDebeBitacorear"  value="true" 
											assignTo="#{matchEstatusBean.debeDejarBitacora}" />	
					</a4j:commandButton>
					<!-- input type="image" class="submit" src="#{facesContext.externalContext.requestContextPath}/images/transparent.gif" alt="Buscar" title="Buscar" onclick='javascript:presentarResumen();return false;' /-->
				</div>
				<div class="editar" style="display:#{matchEstatusBean.consultaEjecutada?'inline':'none'};float:right;" id="botonEditarCriterios" >
					<input id="btnEditar" type="image" class="submit"
						src="#{facesContext.externalContext.requestContextPath}/images/transparent.gif"
						alt="Editar Criterios" title="Editar Criterios"
						onclick="setTimeout('presentarCriterios()',1000);return false;" />
				</div>
			</h:panelGroup>
		</ui:define>
		<ui:define name="seccionContenido">
			<h:panelGroup id="panelResultados">
				<div style="display:#{matchEstatusBean.consultaEjecutada?'inline':'none'}; width:900px;">
					<br />
					<table cellpadding="0" cellspacing="0" border="0" align="left"
						width="900px" style="display:#{empty matchEstatusBean.resultados?'none':'inline'}">
						<tr>
							<td colspan="2">
								<div style="display:#{matchEstatusBean.paginacion.irAlPrimero?'inline':'none'}">
									<a4j:commandLink
										actionListener="#{matchEstatusBean.navegarPorResultados}"
										id="control_posicion_primero" reRender="panelResultados"
										onclick="buscarRegistros();"
										oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" limitToList="true">
										<img
											src="#{facesContext.externalContext.requestContextPath}/images/control_primero.png"
											border="0" />
										<f:attribute name="navegacion" value="irAlPrincipio" />
									</a4j:commandLink>
								</div>
								<div style="display:#{matchEstatusBean.paginacion.retrocederRapido?'inline':'none'}" >
									<a4j:commandLink
										actionListener="#{matchEstatusBean.navegarPorResultados}"
										id="control_consulta_atras_fast" reRender="panelResultados"
										onclick="buscarRegistros();"
										oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" limitToList="true">
										<img
											src="#{facesContext.externalContext.requestContextPath}/images/control_atras_fast.png"
											border="0" />
										<f:attribute name="navegacion" value="retrocederPaginasRapido" />
									</a4j:commandLink>
								</div>
								<div style="display:#{matchEstatusBean.paginacion.retroceder?'inline':'none'}" >
									<a4j:commandLink
										actionListener="#{matchEstatusBean.navegarPorResultados}"
										id="control_consulta_atras" reRender="panelResultados"
										onclick="buscarRegistros();"
										oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" limitToList="true">
										<img
											src="#{facesContext.externalContext.requestContextPath}/images/control_atras.png"
											border="0" />
										<f:attribute name="navegacion" value="retrocederPagina" />
									</a4j:commandLink>
								</div>
								<div style="display:#{matchEstatusBean.paginacion.avanzar?'inline':'none'}" >
									<a4j:commandLink
										actionListener="#{matchEstatusBean.navegarPorResultados}"
										id="control_consulta_adelante" reRender="panelResultados"
										onclick="buscarRegistros();"
										oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" limitToList="true">
										<img
											src="#{facesContext.externalContext.requestContextPath}/images/control_adelante.png"
											border="0" />
										<f:attribute name="navegacion" value="avanzarPagina" />
									</a4j:commandLink>
								</div>
								<div style="display:#{matchEstatusBean.paginacion.avanzarRapido?'inline':'none'}"  >
									<a4j:commandLink
										actionListener="#{matchEstatusBean.navegarPorResultados}"
										id="control_consulta_adelante_fast" reRender="panelResultados"
										onclick="buscarRegistros();"
										oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" limitToList="true">
										<img
											src="#{facesContext.externalContext.requestContextPath}/images/control_adelante_fast.png"
											border="0" />
										<f:attribute name="navegacion" value="avanzarPaginasRapido" />
									</a4j:commandLink>
								</div>
								<div  style="display:#{matchEstatusBean.paginacion.irAlUltimo?'inline':'none'}" >
									<a4j:commandLink
										actionListener="#{matchEstatusBean.navegarPorResultados}"
										id="control_consulta_ultimo" reRender="panelResultados"
										onclick="buscarRegistros();"
										oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" limitToList="true">
										<img
											src="#{facesContext.externalContext.requestContextPath}/images/control_ultimo.png"
											border="0" />
										<f:attribute name="navegacion" value="irAlUltimo" />
									</a4j:commandLink>
								</div>
							</td>
						</tr>
						<tr>
							<td align="left" width="450px">
								<h:outputText escape="false" styleClass="textoResumen"
									value="#{etq.mostrandoPagina}"></h:outputText>
								<h:outputText escape="false" styleClass="textoResumen"
									value="#{etq.abrir}"></h:outputText>
								<h:outputText escape="false" styleClass="textoResumen"
									value="#{matchEstatusBean.paginacion.numeroPagina}"></h:outputText>
								<h:outputText escape="false" styleClass="textoResumen"
									value="#{etq.de}"></h:outputText>
								<h:outputText escape="false" styleClass="textoResumen"
									value="#{matchEstatusBean.paginacion.totalPaginas}"></h:outputText>
								<h:outputText escape="false" styleClass="textoResumen"
									value="#{etq.entre}"></h:outputText>
								<h:outputText escape="false" styleClass="textoResumen"
									value="#{matchEstatusBean.paginacion.totalResultados}"></h:outputText>
								&#160;
								<h:outputText escape="false" styleClass="textoResumen"
									value="#{etq.registrosEncontrados}" />
							</td>
							<td align="right" width="450px">
								<h:outputText escape="false" styleClass="textoResumen"
									value="#{etq.registrosPorPagina}" />
								<h:selectOneMenu
									value="#{matchEstatusBean.paginacion.registrosPorPagina}"
									styleClass="textoControles">
									<f:selectItem itemValue="1" itemLabel="1" />
									<f:selectItem itemValue="5" itemLabel="5" />
									<f:selectItem itemValue="10" itemLabel="10" />
									<f:selectItem itemValue="20" itemLabel="20" />
									<f:selectItem itemValue="50" itemLabel="50" />
									<f:selectItem itemValue="100" itemLabel="100" />
									<a4j:support reRender="panelResultados" event="onchange"
										limitToList="true"
										action="#{matchEstatusBean.buscarMatchYOperaciones}"
										onchange="buscarRegistros();"
										oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" >
										<a4j:actionparam name="navCuentaiDebeBitacorear"  value="false" 
											assignTo="#{matchEstatusBean.debeDejarBitacora}" />
									</a4j:support>
								</h:selectOneMenu>
								<h:inputHidden
									value="#{matchEstatusBean.paginacion.numeroPagina}" />
								<h:inputHidden
									value="#{matchEstatusBean.paginacion.totalResultados}" />
								<h:inputHidden
									value="#{matchEstatusBean.paginacion.totalPaginas}" />
							</td>
						</tr>
					</table>
					<br />
					<table border="0"  width="900px" class="tablaGeneral" cellspacing="0px" style="display:#{empty matchEstatusBean.resultados?'inline':'none'}">
						<tr>
							<td class="tituloTabla" width="900px" >
		                    	<h:outputText value="#{etq.sinResultados}" /> 
							</td>
						</tr>
					</table>
					<table id="tblResultado" border="0" class="tablaGeneral" width="900px" 
						cellspacing="0px" style="display:#{empty matchEstatusBean.resultados?'none':'inLine'}">
						<tr>
							<td colspan="20" ><img src="#{facesContext.externalContext.requestContextPath}/images/blank.gif" width="900px" height="0px"  style="height: 1px"/></td>
						</tr>
						<tr>
							<th colspan="2" class="tituloTabla wordWrap">
								<h:outputText value="#{etq.folioControl}"></h:outputText>
							</th>
							<th class="tituloTabla wordWrap">
								<h:outputText value="#{etq.folioUsuario}"></h:outputText>
							</th>
							<th colspan="2" class="tituloTabla wordWrap">
								<h:outputText value="#{etq.folioOrigen}"></h:outputText>
							</th>
							<th class="tituloTabla wordWrap">
								<h:outputText value="#{etq.ti}"></h:outputText>
							</th>
							<th class="tituloTabla wordWrap">
							 <h:outputText value="#{etq.origenTR}"></h:outputText>
							</th>
							<th nowrap="true" class="tituloTabla">
								<h:outputText value="#{etq.tvEmisoraSerieCupon}"></h:outputText>
							</th>
							<th colspan="2" nowrap="true" class="tituloTabla wordWrap">
								<h:outputText value="#{etq.boveda}"></h:outputText>
							</th>
							<th colspan="3" class="tituloTabla wordWrap">
								<h:outputText value="#{etq.isin}"></h:outputText>
							</th>
						</tr>
						<tr>
							<th rowspan="3" class="tituloTabla wordWrap" width="46px">
								<h:outputText value="#{etq.estatus}"></h:outputText>
							</th>
							<th class="tituloTabla wordWrap" width="92px" >
								<h:outputText value="#{etq.instVendedor}"></h:outputText>
							</th>
							<th class="tituloTabla wordWrap" width="92px" >
								<h:outputText value="#{etq.cuentaVendedor}"></h:outputText>
							</th>
							<th class="tituloTabla wordWrap">
								<h:outputText value="#{etq.instComprador}"></h:outputText>
							</th>
							<th class="tituloTabla wordWrap">
								<h:outputText value="#{etq.cuentaCompradora}"></h:outputText>
							</th>
							<th class="tituloTabla wordWrap" width="50px">
								<h:outputText value="#{etq.mensajeMinus}"></h:outputText>
							</th>
							<th class="tituloTabla wordWrap">
								<h:outputText value="#{etq.fechaRegistro}">								
								</h:outputText>
							</th>
							<th class="tituloTabla wordWrap">
								<h:outputText value="#{etq.fechaLiquidacionMinus}"></h:outputText>
							</th>
							<th colspan="2" class="tituloTabla wordWrap">
								<h:outputText value="#{etq.cantidadOperada}"></h:outputText>
							</th>
							<th colspan="2" nowrap="true" class="tituloTabla wordWrap">
								<h:outputText value="#{etq.montoOperado}"></h:outputText>
							</th>
							<th colspan="1" nowrap="true" class="tituloTabla wordWrap">
								<h:outputText value="#{etq.bovedaEfectivo}"></h:outputText>
							</th>
						</tr>
						<tr>
							<th class="tituloTabla wordWrap">
								<h:outputText value="#{etq.fechaConcertacionVendedora}"></h:outputText>
							</th>
							<th rowspan="2" class="tituloTabla wordWrap">
								<h:outputText value="#{etq.institucionRemitente}"></h:outputText>
							</th>
							<th class="tituloTabla wordWrap">
								<h:outputText value="#{etq.fechaConcertacionCompradora}"></h:outputText>
							</th>
							<th rowspan="2" class="tituloTabla wordWrap">
								<h:outputText value="#{etq.precioTitulo}"></h:outputText>
							</th>
							<th rowspan="2" class="tituloTabla wordWrap" width="90px">
								<h:outputText value="#{etq.fechaReporto}"></h:outputText>
							</th>
							<th rowspan="2" class="tituloTabla wordWrap">
								<h:outputText value="#{etq.tasaPorcentaje}"></h:outputText>
							</th>
							<th rowspan="2" class="tituloTabla">
								<h:outputText value="#{etq.tasaVariable}"></h:outputText>
							</th>
							<th rowspan="2" class="tituloTabla wordWrap" width="40px">
								<h:outputText value="#{etq.plazo}"></h:outputText>
							</th>
							<th rowspan="2" class="tituloTabla wordWrap">
								<h:outputText value="#{etq.premio}"></h:outputText>
							</th>
							<th rowspan="2" class="tituloTabla wordWrap" width="45px">
								<h:outputText value="#{etq.moneda}"></h:outputText>
							</th>
							<th rowspan="2" class="tituloTabla wordWrap" width="40px">
								<h:outputText value="#{etq.error}"></h:outputText>
							</th>
							<th rowspan="2" class="tituloTabla wordWrap" width="60px">
								<h:outputText value="#{etq.plazoFV}"></h:outputText>
							</th>
						</tr>
						<tr>
							<th class="tituloTabla wordWrap">
								<h:outputText value="#{etq.fechaEncolamientoVendedora}"></h:outputText>
							</th>
							<th class="tituloTabla wordWrap">
								<h:outputText value="#{etq.fechaEncolamientoCompradora}"></h:outputText>
							</th>
						</tr>
						<t:dataList id="t_dataList" value="#{matchEstatusBean.resultados}" var="operacion" rowIndexVar="indice">
							<tr>
								<td colspan="2"
									class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado" >
									<h:panelGroup rendered="#{operacion.tieneParcialidades}">
										<a title="Ver detalle de parcialidades"
											href="javascript:mostrarDetalle('Detalle de Parcialidades','#{facesContext.externalContext.requestContextPath}/match/detalleParcialidades.faces?folioInstruccionLiquidacion=#{operacion.idInstruccionOperacionVal}&amp;height=350&amp;width=925&amp;traspasante=#{operacion.institucionTraspasante.claveTipoInstitucion}#{operacion.institucionTraspasante.folioInstitucion}&amp;receptor=#{operacion.institucionReceptora.claveTipoInstitucion}#{operacion.institucionReceptora.folioInstitucion}')">
											<h:outputText value="#{operacion.folioControl}" /> </a>
									</h:panelGroup>
									<h:panelGroup rendered="#{!operacion.tieneParcialidades}">
										<h:outputText value="#{operacion.folioControl}" />
									</h:panelGroup>
									&#160;
								</td>
								<td
									class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">
									<h:outputText value="#{operacion.folioUsuario}" />
									&#160;
								</td>
								<td colspan="2"
									class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">
									<h:panelGroup rendered="#{operacion.porPaquete}">
									<a title="#{etq.verDetallePaquete}"
										href="javascript:mostrarDetalle('Detalle de traspasos en paquete','#{facesContext.externalContext.requestContextPath}/match/detalleLiquidacionPaquetes.faces?referenciaPaquete=#{operacion.referenciaPaquete}&amp;totalOperacionesPaquete=#{operacion.totalOperacionesPaquete}&amp;numeroOperacionPaquete=#{operacion.numeroOperacionPaquete}&amp;totalTitulosPaquete=#{operacion.totalTitulosPaquete}&amp;totalImportePaquete=#{operacion.totalImportePaquete}&amp;folioControl=#{operacion.folioControl}')">
		                            	<h:outputText value="#{operacion.referenciaPaquete}"></h:outputText>&#160; 
									</a>
									</h:panelGroup>
									<h:panelGroup rendered="#{!operacion.porPaquete}">
										<h:outputText value="#{operacion.folioOrigen}"></h:outputText>&#160;
									</h:panelGroup>
								</td>
								<td title="#{operacion.tipoInstruccion.descripcion}"
									class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'} centrado">
									<h:panelGroup rendered="#{operacion.conMiscelaneaFiscal}">
										<a title="#{etq.verDetalleMiscelaneaFiscal}"
											href="javascript:mostrarDetalle('Detalle de Miscelanea Fiscal','#{facesContext.externalContext.requestContextPath}/match/detalleMiscelaneaFiscal.faces?folioInstruccionLiquidacion=#{operacion.idInstruccionOperacionVal}&amp;idBitacoraMatch=#{operacion.idBitacoraMatch}&amp;height=350&amp;width=925');">
											<h:outputText value="#{operacion.tipoInstruccion.nombreCorto}" /> </a>
									</h:panelGroup>
									<h:panelGroup rendered="#{!operacion.conMiscelaneaFiscal}">
										<h:outputText value="#{operacion.tipoInstruccion.nombreCorto}" />
									</h:panelGroup>
									
								</td>
								<td
									class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'}  centrado">
									<h:outputText value="#{operacion.origen}" />
									&#160;
								</td>
								<td nowrap="true"
									title="#{etq.descripcion_emisoria_serie_cupon}"
									class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'}  centrado">
									<h:outputText
										value="#{operacion.emision.tipoValor.claveTipoValor}" />
									<h:outputText value="#{etq.pipe}"></h:outputText>
									<h:outputText value="#{operacion.emision.emisora.descripcion}" />
									<h:outputText value="#{etq.pipe}"></h:outputText>
									<h:outputText value="#{operacion.emision.serie.serie}" />
									<h:outputText value="#{etq.pipe}"></h:outputText>
									<h:outputText value="#{operacion.cupon.claveCupon}" />
								</td>
								<td colspan="2" class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'}  centrado"
									title=" " >
									<h:outputText value="#{empty operacion.boveda ? '' : operacion.boveda}" />
								</td>
								<td colspan="3" 
									class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'}  centrado">
									<h:outputText value="#{operacion.emision.isin}" />
									&#160;
								</td>
							</tr>
							<tr>
								<td rowspan="3"
									title="#{operacion.estadoInstruccion.descripcion}"
									class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'}  centrado">
									<h:panelGroup rendered="#{operacion.puedeConfirmar and not matchEstatusBean.usuarioIndeval
										and ((operacion.emision.tipoValor.mercado.id > 1 and (!empty sessionScope.roles['MD_APERTURA_SISTEMA_DALI'] or !empty sessionScope.roles['MD_MAESTROI_DALI']) and (operacion.tipoInstruccion.nombreCorto == 'TLAT' or operacion.tipoInstruccion.nombreCorto == 'TLAR'))
											 or (operacion.emision.tipoValor.mercado.id > 1 and (!empty sessionScope.roles['MD_CAPT_Y_CONSULTA_DALI'] or !empty sessionScope.roles['MD_MAESTROI_DALI']) and operacion.tipoInstruccion.nombreCorto != 'TLAT' and operacion.tipoInstruccion.nombreCorto != 'TLAR')
											 or (operacion.emision.tipoValor.mercado.id == 1 and !empty sessionScope.roles['CAP_CAPT_CONS_DALI'] )
											 )}">
										<div id="conf_#{operacion.idBitacoraMatch}" >
											<input id="chk_conf_#{operacion.idBitacoraMatch}"	type="checkbox"	onclick="agregaConfirmar('chk_conf_#{operacion.idBitacoraMatch}',false)" />																					
											<a4j:commandButton id="img_conf" title="Confirmar" image="/images/accept.png" onclick="limpiarFechaHoraConcertacion();#{rich:component('confirmarModal')}.show(); removeApplet();agregaConfirmar('chk_conf_#{operacion.idBitacoraMatch}',true); return false;"/>																																				 											 											
										</div>	
									</h:panelGroup>
									<h:panelGroup rendered="#{operacion.puedeCancelar and not matchEstatusBean.usuarioIndeval
										and ((operacion.emision.tipoValor.mercado.id > 1 and (!empty sessionScope.roles['MD_APERTURA_SISTEMA_DALI'] or !empty sessionScope.roles['MD_MAESTROI_DALI']) and (operacion.tipoInstruccion.nombreCorto == 'TLAT' or operacion.tipoInstruccion.nombreCorto == 'TLAR'))
											 or (operacion.emision.tipoValor.mercado.id > 1 and (!empty sessionScope.roles['MD_CAPT_Y_CONSULTA_DALI'] or !empty sessionScope.roles['MD_MAESTROI_DALI']) and operacion.tipoInstruccion.nombreCorto != 'TLAT' and operacion.tipoInstruccion.nombreCorto != 'TLAR')
											 or (operacion.emision.tipoValor.mercado.id == 1 and !empty sessionScope.roles['CAP_CAPT_CONS_DALI'] )
											 )}">
										<div id="canc_#{operacion.idBitacoraMatch}" >
											<input id="chk_canc_#{operacion.idBitacoraMatch}"	type="checkbox"	onclick="agregaCancelar('chk_canc_#{operacion.idBitacoraMatch}',false)" />										
											<a4j:commandButton
												title="Cancelar"
												ajaxSingle="true"
												image="/images/cancel.png"
												reRender="panelFirma, mensajesConsulta"
												limitToList="true"
												action="#{matchEstatusBean.cancelarOperacionMatch}"
												oncomplete="#{empty sessionScope.facultades['CON_CERTIFICADO'] ? 'deshabilitarCancelar();':' '} window.scrollTo(0,0);"
												onclick="removeApplet();agregaCancelar('chk_canc_#{operacion.idBitacoraMatch}',true)" >
												<f:param name="firma" value="#{!empty sessionScope.facultades['CON_CERTIFICADO']}"/>											 
											</a4j:commandButton>
										</div>
									</h:panelGroup>
									<h:outputText rendered="#{!(operacion.errorDali.idErrorDali==1 and operacion.estadoInstruccion.idEstadoInstruccion == 3 and matchEstatusBean.institucionActual.idFolio == operacion.institucionTraspasante.idFolio)}"
										value="#{operacion.estadoInstruccion.claveEstadoInstruccion}" />
									<a href="javascript:mostrarFondeo(#{operacion.idInstruccionOperacionVal})" 
										style="display: #{ (operacion.errorDali.idErrorDali==1 and operacion.estadoInstruccion.idEstadoInstruccion == 3 and matchEstatusBean.institucionActual.idFolio == operacion.institucionTraspasante.idFolio) ?'inline':'none'}" 
										title="Fondeo de valores"
										>
										<h:outputText
											value="#{operacion.estadoInstruccion.claveEstadoInstruccion}" />
									</a>
								</td>
								<td title="#{operacion.institucionTraspasante.nombreCorto}"
									class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'}  centrado">
									<h:outputText
										value="#{operacion.institucionTraspasante.claveTipoInstitucion}" />
									<h:outputText
										value="#{operacion.institucionTraspasante.folioInstitucion}" /><br/>
									<h:outputText
										value="#{operacion.institucionTraspasante.nombreCorto}" />
								</td>
								<td 
									title="#{operacion.cuentaNombradaTraspasante.nombreCuenta}"
									class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'}  centrado">
									<h:outputText
										value="#{operacion.cuentaNombradaTraspasante.cuenta}" />
									&#160;
								</td>
								<td title="#{operacion.institucionReceptora.nombreCorto}"
									class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'}  centrado">
									<h:outputText
										value="#{operacion.institucionReceptora.claveTipoInstitucion}" />
									<h:outputText
										value="#{operacion.institucionReceptora.folioInstitucion}" />
									<br/>
									<h:outputText
										value="#{operacion.institucionReceptora.nombreCorto}" />
								</td>
								<td title="#{operacion.cuentaNombradaReceptora.nombreCuenta}"
									class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'}  centrado">
									<h:outputText
										value="#{operacion.cuentaNombradaReceptora.cuenta}" />
									&#160;
								</td>
								<td title="#{operacion.tipoMensaje.descripcion}"
									class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'}  centrado">
									<h:outputText value="#{operacion.tipoMensaje.claveTipoMensaje}" />
									&#160;
								</td>
								<td nowrap="true"
									class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'}  centrado">
									<h:outputText value="#{operacion.fechaConcertacion}">
										<cvt:simpleDateConverter pattern="dd/MM/yyyy HH:mm:ss" />								
									</h:outputText>										
									&#160;
								</td>
								<td nowrap="true"
									class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'}  centrado">
									<h:outputText value="#{operacion.fechaLiquidacion}" >
										<cvt:simpleDateConverter pattern="dd/MM/yyyy HH:mm:ss" />	
									</h:outputText>	
								</td>
								<td colspan="2"
									class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'}  derecha">
									<h:outputText value="#{operacion.cantidadTitulos}"
										converter="formatoEnteroConverter" />
									&#160;
								</td>
								<td colspan="2" nowrap="true"
									class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'}  derecha ">
									<h:outputText value="#{operacion.importe}" converter="formatoMonedaConverter" />
									&#160;
								</td>
								<td nowrap="true" class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'} ">
									<h:panelGroup rendered="#{operacion.puedeConfirmar and not matchEstatusBean.usuarioIndeval and operacion.tieneBovedaEfectivo
															and (operacion.emision.tipoValor.mercado.id > 1 and (!empty sessionScope.roles['MD_APERTURA_SISTEMA_DALI'] or !empty sessionScope.roles['MD_MAESTROI_DALI'])
															or (operacion.emision.tipoValor.mercado.id > 1 and (!empty sessionScope.roles['MD_CAPT_Y_CONSULTA_DALI'] or !empty sessionScope.roles['MD_MAESTROI_DALI']) and operacion.tipoInstruccion.nombreCorto != 'TLAT' and operacion.tipoInstruccion.nombreCorto != 'TLAR')
															or (operacion.emision.tipoValor.mercado.id == 1 and !empty sessionScope.roles['CAP_CAPT_CONS_DALI'] )
															)}">
										<div id="bovEfec_#{operacion.idBitacoraMatch}">
											<h:selectOneMenu  styleClass="bovedaEfectivoClass_#{operacion.idBitacoraMatch}" 
												rendered="#{!empty matchEstatusBean.bovedasPorDivisaTipoInstruccion[operacion.llaveTipoInstruccionDivisa]}"
			                                    converter="formatoEnteroConverter" onchange="cambiarBoveda('chk_conf_#{operacion.idBitacoraMatch}',this)" >
			                                    <f:selectItems value="#{matchEstatusBean.bovedasPorDivisaTipoInstruccion[operacion.llaveTipoInstruccionDivisa]}" />
		                                	</h:selectOneMenu>											
										</div>	
									</h:panelGroup>
									<h:panelGroup rendered="#{!(operacion.puedeConfirmar and not matchEstatusBean.usuarioIndeval and operacion.tieneBovedaEfectivo
										and ((operacion.emision.tipoValor.mercado.id > 1 and (!empty sessionScope.roles['MD_APERTURA_SISTEMA_DALI'] or !empty sessionScope.roles['MD_MAESTROI_DALI']) and (operacion.tipoInstruccion.nombreCorto == 'TLAT' or operacion.tipoInstruccion.nombreCorto == 'TLAR'))
											 or (operacion.emision.tipoValor.mercado.id > 1 and (!empty sessionScope.roles['MD_CAPT_Y_CONSULTA_DALI'] or !empty sessionScope.roles['MD_MAESTROI_DALI']) and operacion.tipoInstruccion.nombreCorto != 'TLAT' and operacion.tipoInstruccion.nombreCorto != 'TLAR')
											 or (operacion.emision.tipoValor.mercado.id == 1 and !empty sessionScope.roles['CAP_CAPT_CONS_DALI'] )
											 ))}">
										<h:outputText value="#{empty operacion.bovedaEfectivo ? '' : operacion.bovedaEfectivo}" />
									</h:panelGroup>
								</td>
							</tr>
							<tr>
								<td
									class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'}  centrado">
									&#160;
									 <h:outputText value="#{operacion.fechaHoraCierreOperTra}">
									 	<cvt:simpleDateConverter pattern="dd/MM/yyyy HH:mm:ss" />	
									 </h:outputText>
									
								</td>
								<td  rowspan="2"
									class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'}  centrado">
									&#160;
									 <h:outputText value="#{operacion.institucionReceptora.nombreCorto}"></h:outputText>
									
								</td>
								<td
									class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'}  centrado">
									&#160;
									 <h:outputText value="#{operacion.fechaHoraCierreOperRec}">
									 	<cvt:simpleDateConverter pattern="dd/MM/yyyy HH:mm:ss" />	
									 </h:outputText>
									
								</td>
								<td rowspan="2"
									class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'}  derecha">
									<h:outputText value="#{operacion.precioTitulo}" converter="formatoLargoMonedaConverter"  />
									&#160;
								</td>
								<td nowrap="true" rowspan="2"
									class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'} centrado">
									<h:outputText value="#{operacion.fechaReporto}"
										converter="formatoFechaCortoConverter" />
									&#160;
								</td>
								<td rowspan="2"
									class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} derecha">
									<h:outputText value="#{operacion.tasaNegociada}"
										converter="formatoPorcentajeConverter" /><h:outputText value="#{etq.porcentaje}"></h:outputText> 
									&#160;
								</td>
								<td  rowspan="2"
									class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'} centrado">
									<font color="RED"><h:outputText value="#{etq.nd}"></h:outputText>
									</font>
								</td>
								<td rowspan="2"
									class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">
									<h:outputText value="#{operacion.plazoReporto}"/>
									&#160;
								</td>
								<td rowspan="2"
									class="#{indice%2 == 0 ?'renglonTablaUno':'renglonTablaDos'} centrado">
									<h:outputText value="#{operacion.interesesGenerados}" converter="formatoMonedaConverter"></h:outputText>
								</td>
								<td title="#{operacion.divisa }" rowspan="2"
									class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'} centrado">
									<h:outputText value="#{operacion.divisa}" />
									&#160;
								</td>
								<td rowspan="2"
									class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'} centrado">
									<h:outputText  value="#{operacion.errorDali.claveError}" 
										title="#{operacion.errorDali.descripcion}"
										rendered="#{!(operacion.errorDali.idErrorDali==1 and operacion.estadoInstruccion.idEstadoInstruccion == 3 and matchEstatusBean.institucionActual.idFolio == operacion.institucionTraspasante.idFolio)}"/>
									
									<a href="javascript:mostrarFondeo(#{operacion.idInstruccionOperacionVal})" 
										style="display: #{ (operacion.errorDali.idErrorDali==1 and operacion.estadoInstruccion.idEstadoInstruccion == 3 and matchEstatusBean.institucionActual.idFolio == operacion.institucionTraspasante.idFolio) ?'inline':'none'}" 
										title="Fondeo de valores">
										<h:outputText
											value="#{operacion.errorDali.claveError}" 
											title="#{operacion.errorDali.descripcion}"/>
									</a>
									&#160;
								</td>
								<td rowspan="2"
									class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'} centrado">
									<font color="RED"><h:outputText value="#{etq.nd}"></h:outputText>
									</font>
								</td>
							</tr>
							<tr>
								<td
									class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'}  centrado">
									&#160;
									 <h:outputText value="#{operacion.fechaHoraEncolamientoTra}">
									 	<cvt:simpleDateConverter pattern="dd/MM/yyyy HH:mm:ss" />	
									 </h:outputText>									
								</td>
								<td
									class="#{indice%2 == 0 ?'renglonTablaUno wordWrap':'renglonTablaDos wordWrap'}  centrado">
									&#160;
									 <h:outputText value="#{operacion.fechaHoraEncolamientoRec}">
									 	<cvt:simpleDateConverter pattern="dd/MM/yyyy HH:mm:ss" />	
									 </h:outputText>
								
								</td>								
							</tr>
						</t:dataList>
						<tr>
							<td colspan="14" align="center" class="renglonTablaUno">
								<table width="95%" cellpadding="0" cellspacing="0" style="margin: 0px">
									<tr>
										<td class="tituloTabla wordWrap">
											<h:outputText value="#{etq.titulosTraspasante}"></h:outputText>
										</td>
										<td class="tituloTabla wordWrap">
											<h:outputText value="#{etq.titulosReceptor}"></h:outputText>
										</td>
										<td class="tituloTabla wordWrap">
											<h:outputText value="#{etq.netoTitulos}"></h:outputText>
										</td>
										<td class="tituloTabla wordWrap">
											<h:outputText value="#{etq.montoTraspasante}"></h:outputText>
										</td>
										<td class="tituloTabla wordWrap">
											<h:outputText value="#{etq.montoReceptor}"></h:outputText>
										</td>
										<td class="tituloTabla wordWrap">
											<h:outputText value="#{etq.netoMonto}"></h:outputText>
										</td>
									</tr>
									<tr>
										<td align="right" class="renglonTablaUno">
											<h:outputText value="#{matchEstatusBean.titulosTraspasante}"  converter="formatoEnteroConverter"/>
										</td>
										<td align="right" class="renglonTablaUno">
											<h:outputText value="#{matchEstatusBean.titulosReceptor}" converter="formatoEnteroConverter"/>
										</td>
										<td align="right" class="renglonTablaUno">
											<h:outputText value="#{matchEstatusBean.netoTitulos}" converter="formatoEnteroConverter"/>
										</td>
										<td align="right" class="renglonTablaUno">
											<h:outputText value="#{matchEstatusBean.montoTraspasante}"
												converter="formatoMonedaConverter" />
										</td>
										<td align="right" class="renglonTablaUno">
											<h:outputText value="#{matchEstatusBean.montoReceptor}"
												converter="formatoMonedaConverter" />
										</td>
										<td align="right" class="renglonTablaUno">
											<h:outputText value="#{matchEstatusBean.netoMonto}"
												converter="formatoMonedaConverter" />
										</td>
									</tr>
								</table>
							</td>
						</tr>
					</table>
									
					<table cellpadding="0" cellspacing="0" border="0" align="left"
						width="900px">
						<tr>
							<td>
								<div style="display:#{matchEstatusBean.paginacion.irAlPrimero?'inline':'none'}">
									<a4j:commandLink
										actionListener="#{matchEstatusBean.navegarPorResultados}"
										id="control_consulta_primero2" reRender="panelResultados"
										onclick="removeApplet();buscarRegistros();"
										oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" limitToList="true">
										<img
											src="#{facesContext.externalContext.requestContextPath}/images/control_primero.png"
											border="0" />
										<f:attribute name="navegacion" value="irAlPrincipio" />
									</a4j:commandLink>
								</div>
								<div style="display:#{matchEstatusBean.paginacion.retrocederRapido?'inline':'none'}" >
									<a4j:commandLink
										actionListener="#{matchEstatusBean.navegarPorResultados}"
										id="control_consulta_atras_fast2" reRender="panelResultados"
										onclick="removeApplet();buscarRegistros();"
										oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" limitToList="true">
										<img
											src="#{facesContext.externalContext.requestContextPath}/images/control_atras_fast.png"
											border="0" />
										<f:attribute name="navegacion" value="retrocederPaginasRapido" />
									</a4j:commandLink>
								</div>
								<div style="display:#{matchEstatusBean.paginacion.retroceder?'inline':'none'}" >
									<a4j:commandLink
										actionListener="#{matchEstatusBean.navegarPorResultados}"
										id="control_consulta_atras2" reRender="panelResultados"
										onclick="removeApplet();buscarRegistros();"
										oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" limitToList="true">
										<img
											src="#{facesContext.externalContext.requestContextPath}/images/control_atras.png"
											border="0" />
										<f:attribute name="navegacion" value="retrocederPagina" />
									</a4j:commandLink>
								</div>
								<div style="display:#{matchEstatusBean.paginacion.avanzar?'inline':'none'}" >
									<a4j:commandLink
										actionListener="#{matchEstatusBean.navegarPorResultados}"
										id="control_consulta_adelante2" reRender="panelResultados"
										onclick="removeApplet();buscarRegistros();"
										oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" limitToList="true">
										<img
											src="#{facesContext.externalContext.requestContextPath}/images/control_adelante.png"
											border="0" />
										<f:attribute name="navegacion" value="avanzarPagina" />
									</a4j:commandLink>
								</div>
								<div style="display:#{matchEstatusBean.paginacion.avanzarRapido?'inline':'none'}"  >
									<a4j:commandLink
										actionListener="#{matchEstatusBean.navegarPorResultados}"
										id="control_consulta_adelante_fast2"
										reRender="panelResultados" onclick="removeApplet();buscarRegistros();"
										oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" limitToList="true">
										<img
											src="#{facesContext.externalContext.requestContextPath}/images/control_adelante_fast.png"
											border="0" />
										<f:attribute name="navegacion" value="avanzarPaginasRapido" />
									</a4j:commandLink>
								</div>
								<div  style="display:#{matchEstatusBean.paginacion.irAlUltimo?'inline':'none'}" >
									<a4j:commandLink
										actionListener="#{matchEstatusBean.navegarPorResultados}"
										id="control_consulta_ultimo2" reRender="panelResultados"
										onclick="removeApplet();buscarRegistros();"
										oncomplete="presentarResumen(); javascript:window.scrollTo(0,0);" limitToList="true">
										<img
											src="#{facesContext.externalContext.requestContextPath}/images/control_ultimo.png"
											border="0" />
										<f:attribute name="navegacion" value="irAlUltimo" />
									</a4j:commandLink>
								</div>
							</td>
							<td align="right">
								<div style="display:#{empty matchEstatusBean.resultados?'none':'inline'}">
									<h:commandButton id="generarExcel"
										action="matchOpEfectivoXls"
										actionListener="#{matchEstatusExportacion.generarReportes}"
										image="/images/excel-file.gif"
										title="Exportar a Excel todos los resultados de la consulta"
										onclick="bloquearBotonesReportes(['generarExcel', 'generarPdf']);" />
									&#160;
									<h:commandButton id="generarPdf"
										action="matchOpEfectivoPdf"
										actionListener="#{matchEstatusExportacion.generarReportes}"
										image="/images/pdf.gif"
										title="Exportar a PDF todos los resultados de la consulta"
										onclick="bloquearBotonesReportes(['generarExcel', 'generarPdf']);" />
                                    
									<div id="monitorPeticionReporte" style="display: none;">
										<h:panelGroup id="panelMonitorPeticionReporte">
											<h:graphicImage value="/images/ajax-loader.gif" />
											&#160;&#160;
											<h:outputText value="#{etq.reporteEnProceso}" />
											<a4j:commandButton id="btnActualizarEstadoPeticion"
												image="/images/transparent.gif"
												styleClass="submit"
												actionListener="#{matchEstatusBean.actualizarEstadoPeticion}"
												reRender="panelMonitorPeticionReporte"
												oncomplete="desbloquearBotonesReportes(#{matchEstatusBean.peticionReporteCompleta}, ['generarExcel', 'generarPdf']);"/>
										</h:panelGroup>
									</div>
                                    
								</div>
							</td>
						</tr>
					</table>
				</div>
			</h:panelGroup>
			
			
			<h:panelGroup id="panelConfirmarModal">
				<rich:modalPanel id="confirmarModal" minHeight="300" minWidth="300">
					<f:facet name="header">
				        <h:outputText value="#{etq.modalConfirmacionTitulo}" />
				    </f:facet>
					<h:panelGrid columns="1" width="100%" id="datosConfirmacion" style="margin-bottom: 180px">
						<h:panelGroup>
		                    <h:outputText value="#{etq.fechaHoraCierreOperMinus}" styleClass="texto" />
		                </h:panelGroup>
		                <rich:calendar id="fechaHoraCierreOper" 
							value="#{matchEstatusBean.fechaHoraCierreOper}"
							datePattern="dd/MM/yyyy HH:mm"
							inputSize="20"
							inputStyle="background-color: #ffffe6;"
							isDayEnabled="isDayEnabled" 
							zindex="10004"/>
					</h:panelGrid>				
					<h:panelGroup>
						<a4j:commandButton id="btnAceptarConfirmar" value="Aceptar" reRender="panelFirma, mensajesConsulta, panelConfirmarModal" limitToList="true" style="margin-right:10px"
						action="#{matchEstatusBean.confirmaOperacionMatch}" oncomplete="#{empty sessionScope.facultades['CON_CERTIFICADO'] ? 'deshabilitarConfirmar();window.scrollTo(0,0);':'window.scrollTo(0,0);'} " onclick="#{rich:component('confirmarModal')}.hide();" >
							<f:param name="firma" value="#{!empty sessionScope.facultades['CON_CERTIFICADO']}"/>																																			 											 
						</a4j:commandButton>
						
						<a4j:commandButton value="Cancelar" onclick="#{rich:component('confirmarModal')}.hide(); return false;" style="margin-left:10px"/>
					</h:panelGroup>
				</rich:modalPanel>
			</h:panelGroup>
			
					
					<!-- La facultad debe reflejar el valor de SeguridadConstants.FACULTAD_FIRMA_OPERACION -->
						<indeval:authorizeFaculty userInFaculty="CON_CERTIFICADO">
							<h:panelGroup id="panelFirma">								
								<h:panelGroup
									rendered="#{not empty matchEstatusBean.isosSinFirmar}">
																		
									<div style="display: none">
										<t:dataList value="#{matchEstatusBean.isosSinFirmar}"
											rowIndexVar="indice" var="iso">
				
											<textarea id="isoSinFirmar#{indice+1}"
												name="isoSinFirmar#{indice+1}">#{matchEstatusBean.isosSinFirmar[indice]}</textarea>
				
											
				
										</t:dataList>
										<textarea  id="numeroSerie" name="numeroSerie"></textarea>
										<textarea  id="numeroSerieUsuario" name="numeroSerieUsuario">#{sessionScope.usuario.numeroSerieCertificado}</textarea>										
										<textarea name="totalOperaciones"  id="totalOperaciones">#{matchEstatusBean.totalOperaciones}</textarea>
									</div>
				
									<script><!--
									function firmarOperacion(){
										var sonConfirmaciones='#{matchEstatusBean.confirmacion}';										   
										var idsConfirmar=null;
										var divItems=null;
																		   
										if(sonConfirmaciones.toLowerCase() == 'true'){
											idsConfirmar=document.getElementById('daliForm:matchIdOperacionesConfirmar').value;
											var ids=idsConfirmar.split(',');										
											var idSep = ids[1].split('-');		   
											divItems=document.getElementById('conf_'+idSep[0]).childNodes;
											removeApplet();
											document.getElementById('daliForm:btnAceptarConfirmar').click();
											deshabilitarConfirmar();
										}
										else{
											idsConfirmar=document.getElementById('daliForm:matchIdOperacionesCancelar').value;
											var ids=idsConfirmar.split(',');											
											var idSep = ids[1].split('-');
											divItems=document.getElementById('canc_'+idSep[0]).childNodes;
											removeApplet();
											divItems[1].click();
											deshabilitarCancelar();
										}  										   	
									} 
																												
				                    --></script>
				
									<div id="firmaId">
									<ui:decorate template="/firmaDigitalMultipleCompress.xhtml"></ui:decorate>
									</div>	
								</h:panelGroup>
							</h:panelGroup>
						</indeval:authorizeFaculty>					
				

		</ui:define>
	</ui:composition>
</html>
	