<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xml:lang="es" lang="es">
	<ui:composition template="/layoutConsultas.xhtml">
		
		<ui:define name="tituloSeccion">
			<h:outputText value="#{etq.tesoreria}" />
		</ui:define>
		
		<ui:define name="subtituloSeccion">
			<h:outputText value="#{etq.estadoCuentaDecretos}" />
		</ui:define>
		
		<ui:define name="head">
            <script type="text/javascript" src="#{facesContext.externalContext.requestContextPath}/js/mostrarPosiciones.js" />
            <script type="text/javascript" src="#{facesContext.externalContext.requestContextPath}/js/date.js" />
            <script type="text/javascript" src="#{facesContext.externalContext.requestContextPath}/js/estadoCuentaLiqDecretos.js" />
        </ui:define>
		
		<ui:define name="criterios">
			<a4j:keepAlive beanName="consultaEstadoCuentaLiqDecretosController"/>
			<h:outputText value="#{consultaEstadoCuentaLiqDecretosController.init}"/>
			<h:panelGroup id="panelCriterios">
				<div id="divCriterios">
				<table width="100%" border="0" cellpadding="0px" cellspacing="5px">
						<tr>
							<td class="recuadroTabla">
								<table class="tablaCriterios" border="0"
									style="text-align: center">
									<tr>
										<td>
											<h:outputText styleClass="texto" value="#{etq.fechaInicialSinPuntos}" />
										</td>
										<td>
											<h:outputText styleClass="texto" value="#{etq.fechaFinalSinPuntos}" />
										</td>
										<td>
											<h:outputText styleClass="texto" value="#{etq.tipoEjercicio}" />
										</td>
										<td>
											<h:outputText styleClass="texto" value="#{etq.divisa}" />
										</td>
										<td>
											<h:outputText styleClass="texto" value="#{etq.consulta}" />
										</td>
									</tr>
									<tr>
										<td colspan="10"></td>
									</tr>
									<tr>
										<td align="center">
											<rich:calendar id="fechaInicial" 
												value="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.fechaIni}"
												datePattern="dd/MM/yyyy"
												inputSize="11"
												inputClass="textoControles"
												inputStyle="background-color: #ffffe6;"
												isDayEnabled="isDayEnabled" />
										</td>
										<td align="center">
											<rich:calendar id="fechaFinal" 
												value="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.fechaFin}"
												datePattern="dd/MM/yyyy"
												inputSize="11"
												inputClass="textoControles"
												inputStyle="background-color: #ffffe6;"
												isDayEnabled="isDayEnabled" />
										</td>
										<td>
											<h:selectOneMenu value="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.tipoEjercicio}" 
												id="ejercicio" styleClass="textoControles" tabindex="3">
												<f:selectItem id="vacio" itemValue="-1" itemLabel="TODOS"/>
												<f:selectItems id="ejercicios" value="#{consultaEstadoCuentaLiqDecretosController.tipoEjercicio}" />
											</h:selectOneMenu>
										</td>
										<td>
											<h:selectOneMenu id="divisa" styleClass="textoControles" tabindex="4"
												value="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.tipoMoneda}">
												<f:selectItems value="#{consultaEstadoCuentaLiqDecretosController.divisas}" />
											</h:selectOneMenu>
										</td>
										<td>
											<h:selectOneRadio tabindex="5"
												value="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.tipoConsulta}"
												id="tipoConsulta" 
												name="tipoConsulta" 
												onclick="ocultarCampoCuenta();" >
												<f:selectItem itemValue="COBROS" itemLabel="Cobros" />
												<f:selectItem itemValue="PAGOS" itemLabel="Pagos" />
											</h:selectOneRadio>
										</td>
									</tr>	
								</table>
							</td>
						</tr>
						<tr>
							<td class="recuadroTabla">
								<table class="tablaCriterios" border="0"
									style="text-align: center">
									<tr>
										<td>
											<h:outputText styleClass="texto" value="#{etq.participante}" />
										</td>
										<td>
											<h:outputText styleClass="texto" value="#{etq.cuentaMinus}" />
										</td>
										<td>
										</td>
										<td>
											<h:outputText styleClass="texto" value="#{etq.tv}" />
										</td>
										<td>
											<h:outputText styleClass="texto" value="#{etq.emisora}" />
										</td>
										<td>
											<h:outputText styleClass="texto" value="#{etq.serie}" />
										</td>
										<td>
											<h:outputText styleClass="texto" value="#{etq.cupon}" />
										</td>
										<td rowspan="3">
												<a href="javascript: mostrarPosiciones('Ambos');" tabindex="110"> <h:graphicImage
                                                value="/images/search.png"></h:graphicImage> <h:outputText
                                                value="#{etq.buscarPosicionMinus}" styleClass="texto" /> </a><br/>
												<a href="javascript:limpiarDatosPosicion();" tabindex="120"> <h:graphicImage value="/images/page_refresh.png"></h:graphicImage>
                                            <h:outputText value="#{etq.limpiarPosicionMinus}" styleClass="texto" /> </a>
										</td>
									</tr>
									<tr>
										<td colspan="7"></td>
									</tr>
									<tr>
										<td>
											<h:inputText autocomplete="off"
												id="idFolioTraspasante" size="4" maxlength="5" tabindex="10"
												styleClass="#{consultaEstadoCuentaLiqDecretosController.usuarioIndeval ? 'campoNumericoAsterisco' : 'readonly'}"
		                                        value="#{consultaEstadoCuentaLiqDecretosController.idFolioParticipante}" />
		
		                                    <rich:suggestionbox selectValueClass="autoCompleteSeleccionado"  for="idFolioTraspasante"
		                                        suggestionAction="#{seleccionarCuentaBean.buscarParticipante}" var="coincidencia"
		                                        fetchValue="#{coincidencia.claveTipoInstitucion}#{coincidencia.folioInstitucion}"
		                                        minChars="1" width="200" immediate="false" nothingLabel="Sin coincidencias">
		                                        <h:column>
		                                            <h:outputText
		                                                value="#{coincidencia.claveTipoInstitucion}#{coincidencia.folioInstitucion}" /> - <h:outputText
		                                                value="#{coincidencia.nombreCorto}" />
		                                        </h:column>		                                        
		                                    </rich:suggestionbox>
										</td>
										<td>
											<h:inputText autocomplete="off" id="cuentaTraspasante" size="3" maxlength="4"
			                                    styleClass="campoNumericoAsterisco textoControles" readonly="false"
			                                    value="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.agente.cuenta}"
			                                    tabindex="20" />
		                                    <input type="hidden" id="nombre_id_folio_traspasante" name="nombre_id_folio_traspasante"
		                                        value="daliForm:idFolioTraspasante" />
		                                    <rich:suggestionbox selectValueClass="autoCompleteSeleccionado"  for="cuentaTraspasante"
		                                    	ignoreDupResponses="true"
												eventsQueue="folioCuentaTraspasanteQueue"
												requestDelay ="#{inicioSesionBean.delay}"
		                                        suggestionAction="#{seleccionarCuentaBean.buscarCuentaTraspasante}" var="coincidencia"
		                                        fetchValue="#{coincidencia.cuenta}" minChars="1" width="80" immediate="false"
		                                        nothingLabel="Sin coincidencias">
		                                        <h:column>
		                                            <h:outputText value="#{coincidencia.cuenta}" />
		                                        </h:column>
		                                    </rich:suggestionbox>
										</td>
										<td>
										</td>
										<td>
											<h:inputText autocomplete="off" id="tipoValor" size="7" maxlength="4"
	                                    		styleClass="textoTipoValor textoControles"
		                                        value="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.emision.idTipoValor}"
		                                        tabindex="30" />
		                                    <rich:suggestionbox selectValueClass="autoCompleteSeleccionado"  for="tipoValor"
		                                    	ignoreDupResponses="true"
												eventsQueue="folioTipoValorQueue"
												requestDelay ="#{inicioSesionBean.delay}"
		                                        suggestionAction="#{seleccionarEmisionAmbosBean.buscarTiposValorPorPrefijo}" var="coincidencia"
		                                        fetchValue="#{coincidencia.claveTipoValor}" minChars="1" width="300" immediate="false"
		                                        nothingLabel="Sin coincidencias">
		                                        <h:column>
		                                            <h:outputText value="#{coincidencia.claveTipoValor}" /> - <h:outputText value="#{coincidencia.descripcion}" />
		                                        </h:column>
		                                    </rich:suggestionbox>
										</td>
										<td>
											<h:inputText autocomplete="off" id="emisora" size="7" maxlength="7"
				                            	styleClass="textoEmisora campoAlphaNumericoEmisora textoControles"
		                                        value="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.emision.emisora}"
		                                        readonly="false" required="false" tabindex="40" />
				                            <rich:suggestionbox selectValueClass="autoCompleteSeleccionado"  for="emisora"
												ignoreDupResponses="true"
												eventsQueue="folioEmisoraQueue"
												requestDelay ="#{inicioSesionBean.delay}"
		                                        suggestionAction="#{seleccionarEmisionBean.buscarEmisorasPorPrefijo}" var="coincidencia"
		                                        fetchValue="#{coincidencia.descripcion}" minChars="1" width="300" immediate="false"
		                                        nothingLabel="Sin coincidencias">
		                                        <h:column>
		                                            <h:outputText value="#{coincidencia.descripcion}" />
		                                        </h:column>
		                                    </rich:suggestionbox>
										</td>
										<td>
											<h:inputText autocomplete="off" id="serie" size="7" maxlength="6" tabindex="50"
		                                    	styleClass="campoAlphaNumericoSerie textoControles" 
		                                    	value="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.emision.serie}" />
										</td>
										<td>
											<h:inputText autocomplete="off" id="cupon" size="7" maxlength="4"  tabindex="60"
												value="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.emision.cupon}"
												styleClass="campoNumerico textoControles" />
										</td>
									</tr>									
								</table>
							</td>
						</tr>
					</table>
				</div>
			</h:panelGroup>

			<h:panelGroup id="panelResumen">
				<h:panelGroup rendered="#{consultaEstadoCuentaLiqDecretosController.consultaEjecutada}">
					<div style='display: #{ consultaEstadoCuentaLiqDecretosController . consultaEjecutada ? "inline" : "none"}' id="divResumen">
						<table width="100%" border="0" cellpadding="0px" cellspacing="5px">
							<tr>
								<td class="recuadroTabla">
									<table class="tablaCriterios texto" border="0"
										style="text-align: center">
										<tr>
											<td>
												<h:outputText styleClass="texto"
													value="#{etq.fechaInicialSinPuntos}" />
											</td>
											<td>
												<h:outputText styleClass="texto"
													value="#{etq.fechaFinalSinPuntos}" />
											</td>
											<td>
												<h:outputText styleClass="texto"
													value="#{etq.tipoEjercicio}" />
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{etq.divisa}" />
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{etq.consulta}" />
											</td>
										</tr>
										<tr>
											<td colspan="10">
											</td>

										</tr>
										<tr>
											<td align="center">
												<h:outputText 	value="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.fechaIni}"
													converter="formatoFechaCortoConverter" />

											</td>
											<td align="center">
												
													<h:outputText 	value="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.fechaFin}"
													converter="formatoFechaCortoConverter" />
											</td>
											<td>
											
													<h:outputText 	value="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.tipoEjercicio}" rendered="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.tipoEjercicio ne '-1'}"	/>
													<h:outputText 	value="TODOS" rendered="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.tipoEjercicio eq '-1'}"	/>
												
											</td>
											<td>
													<h:outputText 	value="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.tipoMoneda}"	/>
											</td>
											<td>
													<h:outputText 	value="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.tipoConsulta}"	/>
												

											</td>
										</tr>
									</table>
								</td>
							</tr>
							<tr>
								<td class="recuadroTabla">
									<table class="tablaCriterios texto" border="0"
										style="text-align: center" >
										<tr>
											<td>
												<h:outputText styleClass="texto" value="#{etq.participante}" />
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{etq.cuentaMinus}" />
											</td>
											<td>
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{etq.tv}" />
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{etq.emisora}" />
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{etq.serie}" />
											</td>
											<td>
												<h:outputText styleClass="texto" value="#{etq.cupon}" />
											</td>
											<td rowspan="3">
												
											</td>
										</tr>
										<tr>
											<td colspan="7">
											</td>
										</tr>
										<tr>
											<td>
												<h:outputText 	value="#{consultaEstadoCuentaLiqDecretosController.idFolioParticipante}"	/>
												
											</td>
											<td>
												<h:outputText 	value="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.agente.cuenta}"	/>
												
											</td>
											<td>
											</td>
											<td>
												<h:outputText 	value="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.emision.idTipoValor}"	/>
												
											</td>
											<td>
												<h:outputText 	value="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.emision.emisora}"	/>
												
											</td>
											<td>
												<h:outputText 	value="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.emision.serie}"	/>
												
											</td>
											<td>
												<h:outputText 	value="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.emision.cupon}"	/>
												
											</td>


										</tr>
									</table>
								</td>
							</tr>
						</table>

					</div>
				</h:panelGroup>
			
			</h:panelGroup>


		</ui:define>
		
		<ui:define name="botones">
			<h:panelGroup id="panelBotones">			
				<div class="refrescar" style="float: left;">
					<a4j:status id="commonStatus">
						<f:facet name="start">
							<h:panelGroup>
								<h:graphicImage value="/images/ajax-loader.gif" />
								<h:outputText value="#{etq.buscando}"></h:outputText>
							</h:panelGroup>
						</f:facet>
					</a4j:status>
				</div>
				
				
				<div class="limpiar">
	                	<h:commandButton id="btnLimpiar" image="/images/transparent.gif" styleClass="submit"
							
							actionListener="#{consultaEstadoCuentaLiqDecretosController.limpiar}"  tabindex="250" >
						</h:commandButton>
                	</div>
				<div class="buscar" style="float: right;">
					<a4j:commandButton type="image" value="Buscar"
						action="#{consultaEstadoCuentaLiqDecretosController.buscar}"
						styleClass="submit" tabindex="130"
						oncomplete='$j("#divCriterios").css("display","none");'
						reRender="panelResumen,panelBotones,panelResultados"
						src="/images/transparent.gif" alt="Buscar" title="Buscar">
						<a4j:actionparam name="navCuentaiDebeBitacorear" value="true" 
							assignTo="#{consultaEstadoCuentaLiqDecretosController.debeDejarBitacora}" />
							
						<a4j:actionparam name="comboPaginacion"  value="" 
							assignTo="#{consultaEstadoCuentaLiqDecretosController.comboPaginacion}" />
					</a4j:commandButton>
					<!-- input type="image" class="submit" src="#{facesContext.externalContext.requestContextPath}/images/transparent.gif" alt="Buscar" title="Buscar" onclick='javascript:presentarResumen();return false;' /-->
				</div>
				<div class="editar" style="display:#{consultaEstadoCuentaLiqDecretosController.consultaEjecutada?'inline':'none'};float:right;" id="botonEditarCriterios" >
					<input type="image" class="submit" tabindex="140"
						src="#{facesContext.externalContext.requestContextPath}/images/transparent.gif"
						alt="Editar Criterios" title="Editar Criterios"
						onclick='javascript:presentarCriterios();return false;' />
				</div>
			</h:panelGroup>
		</ui:define>
		<ui:define name="seccionContenido">
			<h:panelGroup id="panelResultados"> 
				<h:panelGroup rendered="#{consultaEstadoCuentaLiqDecretosController.consultaEjecutada and not empty consultaEstadoCuentaLiqDecretosController.resultados}">
				
				
					<h:panelGrid columns="6" cellspacing="5" styleClass="recuadroTabla">
						<a4j:commandButton rendered="#{(consultaEstadoCuentaLiqDecretosController.indiceTipoDerechoActual ge 1) and (consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.tipoEjercicio eq '-1')}"
							value="#{etq.menorQue}"  actionListener="#{consultaEstadoCuentaLiqDecretosController.tipoDerechoAnterior}"
							reRender="panelResultados" image="/images/control_atras.png"
						/>
						<h:panelGrid columns="2" columnClasses="columnaCentral"  >
							<t:outputText styleClass="tablaItem" value="Tipo de Ejercicio"/>
							<t:outputText styleClass="granTotal" value="[#{consultaEstadoCuentaLiqDecretosController.tipoDerechoActual}]"/>
						</h:panelGrid>
						<a4j:commandButton rendered="#{consultaEstadoCuentaLiqDecretosController.indiceTipoDerechoActual lt (consultaEstadoCuentaLiqDecretosController.totalTiposDerecho-1) and (consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.tipoEjercicio eq '-1')}"
							value="#{etq.mayorQue}"  actionListener="#{consultaEstadoCuentaLiqDecretosController.tipoDerechoSiguiente}"
							reRender="panelResultados" image="/images/control_adelante.png"
						/>
						
						<a4j:commandButton rendered="#{(consultaEstadoCuentaLiqDecretosController.indiceInstitucionActual ge 1) and (empty consultaEstadoCuentaLiqDecretosController.idFolioParticipante)}"
							value="#{etq.menorQue}"  actionListener="#{consultaEstadoCuentaLiqDecretosController.institucionAnterior}"
							reRender="panelResultados" image="/images/control_atras.png"
						/>
						<h:panelGrid columns="2" columnClasses="columnaCentral"  >
							<t:outputText styleClass="tablaItem" value="#{etq.institucionMinus}"/>
							<t:outputText styleClass="granTotal" value="[#{consultaEstadoCuentaLiqDecretosController.idFolioInstitucionActual}]"/>
						</h:panelGrid>
						<a4j:commandButton rendered="#{consultaEstadoCuentaLiqDecretosController.indiceInstitucionActual lt (consultaEstadoCuentaLiqDecretosController.totalInstituciones-1) and (empty consultaEstadoCuentaLiqDecretosController.idFolioParticipante)}"
							value="#{etq.mayorQue}"  actionListener="#{consultaEstadoCuentaLiqDecretosController.institucionSiguiente}"
							reRender="panelResultados" image="/images/control_adelante.png"
						/>
					</h:panelGrid>
					
					<t:outputText value="" rendered="#{empty consultaEstadoCuentaLiqDecretosController.idFolioParticipante}"/>
			
				</h:panelGroup>
				<br/>
				
			
				<h:panelGroup rendered="#{consultaEstadoCuentaLiqDecretosController.consultaEjecutada and empty consultaEstadoCuentaLiqDecretosController.resultados}">
					<br/>
					<table border="0" class="tablaGeneral" cellspacing="0px"
									width="900px" >
									<tr>
										<td colspan="20" ><img src="#{facesContext.externalContext.requestContextPath}/images/blank.gif" width="900px" height="0px"  style="height: 1px"/></td>
									</tr>
									<tr>
										<th class="tituloTabla" width="900px">
											<h:outputText value="#{etq.sinResultados}" />
										</th>
									</tr>
					</table>
				</h:panelGroup>
				
				<table cellpadding="0" cellspacing="0" border="0" align="left"
						width="900px" style="display:#{empty consultaEstadoCuentaLiqDecretosController.resultados?'none':'inline'}">
						<tr>
							<td colspan="2">
								<div style="display:#{consultaEstadoCuentaLiqDecretosController.paginacion.irAlPrimero?'inline':'none'}">
									<a4j:commandLink
										actionListener="#{consultaEstadoCuentaLiqDecretosController.navegarPorResultados}"
										id="control_posicion_primero" reRender="panelResultados"
										onclick="buscarRegistros();"
										oncomplete="presentarResultados(); javascript:window.scrollTo(0,0);" limitToList="true">
										<img
											src="#{facesContext.externalContext.requestContextPath}/images/control_primero.png"
											border="0" />
										<f:attribute name="navegacion" value="irAlPrincipio" />
									</a4j:commandLink>
								</div>
								<div style="display:#{consultaEstadoCuentaLiqDecretosController.paginacion.retrocederRapido?'inline':'none'}" >
									<a4j:commandLink
										actionListener="#{consultaEstadoCuentaLiqDecretosController.navegarPorResultados}"
										id="control_consulta_atras_fast" reRender="panelResultados"
										onclick="buscarRegistros();"
										oncomplete="presentarResultados(); javascript:window.scrollTo(0,0);" limitToList="true">
										<img
											src="#{facesContext.externalContext.requestContextPath}/images/control_atras_fast.png"
											border="0" />
										<f:attribute name="navegacion" value="retrocederPaginasRapido" />
									</a4j:commandLink>
								</div>
								<div style="display:#{consultaEstadoCuentaLiqDecretosController.paginacion.retroceder?'inline':'none'}" >
									<a4j:commandLink
										actionListener="#{consultaEstadoCuentaLiqDecretosController.navegarPorResultados}"
										id="control_consulta_atras" reRender="panelResultados"
										onclick="buscarRegistros();"
										oncomplete="presentarResultados(); javascript:window.scrollTo(0,0);" limitToList="true">
										<img
											src="#{facesContext.externalContext.requestContextPath}/images/control_atras.png"
											border="0" />
										<f:attribute name="navegacion" value="retrocederPagina" />
									</a4j:commandLink>
								</div>
								<div style="display:#{consultaEstadoCuentaLiqDecretosController.paginacion.avanzar?'inline':'none'}" >
									<a4j:commandLink
										actionListener="#{consultaEstadoCuentaLiqDecretosController.navegarPorResultados}"
										id="control_consulta_adelante" reRender="panelResultados"
										onclick="buscarRegistros();"
										oncomplete="presentarResultados(); javascript:window.scrollTo(0,0);" limitToList="true">
										<img
											src="#{facesContext.externalContext.requestContextPath}/images/control_adelante.png"
											border="0" />
										<f:attribute name="navegacion" value="avanzarPagina" />
									</a4j:commandLink>
								</div>
								<div style="display:#{consultaEstadoCuentaLiqDecretosController.paginacion.avanzarRapido?'inline':'none'}"  >
									<a4j:commandLink
										actionListener="#{consultaEstadoCuentaLiqDecretosController.navegarPorResultados}"
										id="control_consulta_adelante_fast" reRender="panelResultados"
										onclick="buscarRegistros();"
										oncomplete="presentarResultados(); javascript:window.scrollTo(0,0);" limitToList="true">
										<img
											src="#{facesContext.externalContext.requestContextPath}/images/control_adelante_fast.png"
											border="0" />
										<f:attribute name="navegacion" value="avanzarPaginasRapido" />
									</a4j:commandLink>
								</div>
								<div  style="display:#{consultaEstadoCuentaLiqDecretosController.paginacion.irAlUltimo?'inline':'none'}" >
									<a4j:commandLink
										actionListener="#{consultaEstadoCuentaLiqDecretosController.navegarPorResultados}"
										id="control_consulta_ultimo" reRender="panelResultados"
										onclick="buscarRegistros();"
										oncomplete="presentarResultados(); javascript:window.scrollTo(0,0);" limitToList="true">
										<img
											src="#{facesContext.externalContext.requestContextPath}/images/control_ultimo.png"
											border="0" />
										<f:attribute name="navegacion" value="irAlUltimo" />
									</a4j:commandLink>
								</div>
							</td>
						</tr>
						<tr>
							<td align="left" width="450px">
								<h:outputText escape="false" styleClass="textoResumen"
									value="#{etq.mostrandoPagina}"></h:outputText>
								<h:outputText escape="false" styleClass="textoResumen"
									value="#{etq.abrir}"></h:outputText>
								<h:outputText escape="false" styleClass="textoResumen"
									value="#{consultaEstadoCuentaLiqDecretosController.paginacion.numeroPagina}"></h:outputText>
								<h:outputText escape="false" styleClass="textoResumen"
									value="#{etq.de}"></h:outputText>
								<h:outputText escape="false" styleClass="textoResumen"
									value="#{consultaEstadoCuentaLiqDecretosController.paginacion.totalPaginas}"></h:outputText>
								<h:outputText escape="false" styleClass="textoResumen"
									value="#{etq.entre}"></h:outputText>
								<h:outputText escape="false" styleClass="textoResumen"
									value="#{consultaEstadoCuentaLiqDecretosController.paginacion.totalResultados}"></h:outputText>
								&#160;
								<h:outputText escape="false" styleClass="textoResumen"
									value="#{etq.registrosEncontrados}" />
							</td>
							<td align="right" width="450px">
								<h:outputText escape="false" styleClass="textoResumen"
									value="#{etq.registrosPorPagina}" />
								<h:selectOneMenu
									value="#{consultaEstadoCuentaLiqDecretosController.paginacion.registrosPorPagina}"
									styleClass="textoControles">
									<f:selectItem itemValue="1" itemLabel="1" />
									<f:selectItem itemValue="5" itemLabel="5" />
									<f:selectItem itemValue="10" itemLabel="10" />
									<f:selectItem itemValue="20" itemLabel="20" />
									<f:selectItem itemValue="50" itemLabel="50" />
									<f:selectItem itemValue="100" itemLabel="100" />
									<a4j:support reRender="panelResultados" event="onchange"
										limitToList="true"
										action="#{consultaEstadoCuentaLiqDecretosController.cambiarRegistrosPorPagina}">								 	
								 	<!-- <f:attribute name="comboPaginacion" value="consultaSinCalculos" /> -->
								 		<a4j:actionparam name="comboPaginacion"  value="consultaSinCalculos" 
											assignTo="#{consultaEstadoCuentaLiqDecretosController.comboPaginacion}" />
											
								 	</a4j:support>
								</h:selectOneMenu>
								<h:inputHidden
									value="#{consultaEstadoCuentaLiqDecretosController.paginacion.numeroPagina}" />
								<h:inputHidden
									value="#{consultaEstadoCuentaLiqDecretosController.paginacion.totalResultados}" />
								<h:inputHidden
									value="#{consultaEstadoCuentaLiqDecretosController.paginacion.totalPaginas}" />
							</td>
						</tr>
					</table>
				
			
				<h:dataTable id="tablaResultados"  rendered="#{consultaEstadoCuentaLiqDecretosController.consultaEjecutada and not empty consultaEstadoCuentaLiqDecretosController.resultados}"
									value="#{consultaEstadoCuentaLiqDecretosController.resultados}"
									var="resultado" styleClass="tablaGeneral"
					     			headerClass="tituloTabla" width="900px"
									footerClass="tituloTabla" border="0" cellpadding="3px"
									cellspacing="0px" columnClasses="everyColumn columnaTexto"
									rowClasses="renglonTablaUno, renglonTablaDos"  >
									
									<h:column>
										<f:facet name="header">
											<h:outputText value="#{etq.tipoEjer}"/>
										</f:facet>
										<h:outputText value="#{resultado.tipoDerecho}"/>
									</h:column>
									
									<h:column>
										<f:facet name="header">
											<h:outputText value="#{etq.participanteMinus}"/>
										</f:facet>
										<h:outputText value="#{resultado.idInst}#{resultado.folioInst}"/>
									</h:column>
									<h:column>
										<f:facet name="header">
											<h:outputText value="#{etq.cuentaMinus}"/>
										</f:facet>
										<h:outputText value="#{resultado.cuenta}"/>
									</h:column>
									<h:column>
										<f:facet name="header">
											<h:outputText value="#{etq.tv}"/>
										</f:facet>
										<h:outputText value="#{resultado.tv}"/>
									</h:column>
									<h:column>
										<f:facet name="header">
											<h:outputText value="#{etq.emisoraMinus}"/>
										</f:facet>
										<h:panelGroup rendered="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.tipoConsulta eq 'COBROS'}">
											<a title="Ver Detalle"
												href="javascript:mostrarDetalle('Detalle de Cobros','#{facesContext.externalContext.requestContextPath}/tesoreria/estadoCuentaLiquidacionDecretosDetalle.faces?id=#{resultado.idInst}&amp;folio=#{resultado.folioInst}&amp;cuenta=#{resultado.cuenta}&amp;folioFija=#{resultado.folioFija}&amp;folioVariable=#{resultado.folioVariable}&amp;idDerecho=#{resultado.idDerecho}&amp;idTipoDerecho=#{resultado.idTipoDerecho}&amp;idTipoEjercicio=#{resultado.idTipoEjercicio}&amp;height=350&amp;width=925');">
												<h:outputText value="#{resultado.emisora}" /> </a>
										</h:panelGroup>
										<h:outputText value="#{resultado.emisora}" rendered="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.tipoConsulta ne 'COBROS'}"/>
									</h:column>
									<h:column>
										<f:facet name="header">
											<h:outputText value="#{etq.serieMinus}"/>
										</f:facet>
										<h:outputText value="#{resultado.serie}"/>
									</h:column>
									<h:column>
										<f:facet name="header">
											<h:outputText value="#{etq.cuponMinus}"/>
										</f:facet>
										<h:outputText value="#{resultado.cupon}"/>
									</h:column>
									<h:column>
										<f:facet name="header">
											<h:outputText value="#{etq.isin}"/>
										</f:facet>
										<h:outputText value="#{resultado.isin}"/>
										<f:facet name="footer">
											<h:panelGroup styleClass="columnaMoneda">
												<div class="columnaMoneda">
												<h:outputText value="#{etq.subtotal}"/><br/>
												<h:outputText value="#{etq.granTotal}"/>
												</div>
											</h:panelGroup>
										</f:facet>
									</h:column>
									<h:column >
										<f:facet name="header">
											<h:panelGroup>
												<h:outputText value="#{etq.importeACobrar}" rendered="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.tipoConsulta eq 'COBROS'}"/>
												<h:outputText value="#{etq.importeAPagar}" rendered="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.tipoConsulta ne  'COBROS'}"/>
											</h:panelGroup>
											
										</f:facet>
										<div class="columnaMoneda">																						
											<h:outputText value="#{resultado.importeACobrar}" converter="formatoMonedaConverter" />
										</div>
										<f:facet name="footer">
											<h:panelGroup styleClass="columnaMoneda">
												<div class="columnaMoneda">
													<h:outputText value = "#{consultaEstadoCuentaLiqDecretosController.subTotalImporteACobrar}" converter="formatoMonedaConverter"/><br/>
													<h:outputText value = "#{consultaEstadoCuentaLiqDecretosController.totalImporteACobrar}" converter="formatoMonedaConverter"/>
												</div>
											</h:panelGroup>
											
										</f:facet>
									</h:column>

									<h:column>
										<f:facet name="header">
											<h:panelGroup>
												<div class="columnaTexto">
													<h:outputText value="#{etq.importeCobrado}" rendered="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.tipoConsulta eq 'COBROS'}"/>
													<h:outputText value="#{etq.importePagado}" rendered="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.tipoConsulta ne  'COBROS'}"/>
												</div>
											</h:panelGroup>
										</f:facet>
										
										<h:panelGroup rendered="#{consultaEstadoCuentaLiqDecretosController.cobro}">
											<div class="columnaMoneda">
												<h:panelGroup rendered="#{(resultado.tipoDerecho eq 'AMT' or resultado.tipoDerecho eq 'AMP' or resultado.tipoDerecho eq 'AMA')}">
													<a title="Ver Detalle de Amortizaci&#243;n"
														href="javascript:mostrarDetalle('Detalle de Amortizacion', '#{facesContext.externalContext.requestContextPath}/tesoreria/estadoCuentaLiquidacionDecretosDetalleAmortizacion.faces?id=#{resultado.idInst}&amp;folio=#{resultado.folioInst}&amp;cuenta=#{resultado.cuenta}&amp;folioFija=#{resultado.folioFija}&amp;folioVariable=#{resultado.folioVariable}&amp;idDerecho=#{resultado.idDerecho}&amp;idTipoDerecho=#{resultado.idTipoDerecho}&amp;idTipoEjercicio=#{resultado.idTipoEjercicio}&amp;tipoEjercicio=#{resultado.tipoDerecho}&amp;height=350&amp;width=925');">
														<h:outputText value="#{resultado.importeCobrado}" converter="formatoMonedaConverter" />
										 			</a>
												</h:panelGroup>
												<h:panelGroup rendered="#{not(resultado.tipoDerecho eq 'AMT' or resultado.tipoDerecho eq 'AMP' or resultado.tipoDerecho eq 'AMA')}">
													<h:outputText value="#{resultado.importeCobrado}" converter="formatoMonedaConverter" />
												</h:panelGroup>
										 	</div>
										</h:panelGroup>
										<h:panelGroup rendered="#{not consultaEstadoCuentaLiqDecretosController.cobro}">
											<div class="columnaMoneda">
												<h:outputText value="#{resultado.importeCobrado}" converter="formatoMonedaConverter" />
											</div>
										</h:panelGroup>
										<f:facet name="footer">
											<h:panelGroup styleClass="columnaMoneda">
												<div class="columnaMoneda">
													<h:outputText value = "#{consultaEstadoCuentaLiqDecretosController.subTotalImporteCobrado}" converter="formatoMonedaConverter"/><br/>
													<h:outputText value = "#{consultaEstadoCuentaLiqDecretosController.totalImporteCobrado}" converter="formatoMonedaConverter"/>
												</div>
												
											</h:panelGroup>
										</f:facet>
									</h:column>
									
									<h:column>
										<f:facet name="header">
											<h:outputText value="#{etq.importeRemanente}"/>
										</f:facet>
										<div class="columnaMoneda">
											<h:outputText value="#{resultado.remanente}" converter="formatoMonedaConverter" />
										</div>
										<f:facet name="footer">
											<h:panelGroup styleClass="columnaMoneda">
												<div class="columnaMoneda">
													<h:outputText value = "#{consultaEstadoCuentaLiqDecretosController.subTotalRemanente}" converter="formatoMonedaConverter"/><br/>
													<h:outputText value = "#{consultaEstadoCuentaLiqDecretosController.totalRemanente}" converter="formatoMonedaConverter"/>
												</div>
												
											</h:panelGroup>
										</f:facet>
									</h:column>
									<h:column rendered="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.tipoConsulta ne  'COBROS'}">
										<f:facet name="header">
											<h:outputText value="#{etq.fechaVencimiento}"/>
										</f:facet>
										
											<h:outputText value="#{resultado.fechaVencimientoEmision}"  />
										
									</h:column>
									<h:column>
										<f:facet name="header">
											<h:panelGroup>
												<h:outputText value="#{etq.fechaLiqCorto}" rendered="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.tipoConsulta eq 'COBROS'}"/>
												<h:outputText value="#{etq.fechaPago}" rendered="#{consultaEstadoCuentaLiqDecretosController.edoCtaLiqParams.tipoConsulta ne  'COBROS'}"/>
											</h:panelGroup>
											
										</f:facet>
										<h:outputText value="#{resultado.fechaLiq}" converter="formatoFechaCortoConverter"/>
									</h:column>
									
									<h:column>
										<f:facet name="header">
											<h:outputText value="#{etq.boveda}"/>											
										</f:facet>
										<h:outputText value="#{resultado.descBoveda}" />
										
									</h:column>
									
									
									<h:column >
										<f:facet name="header">
											<h:outputText value="#{etq.divisaPago}"/>
										</f:facet>
										
											<h:outputText value="#{resultado.divisaPago}"  />
										
									</h:column>
			 </h:dataTable>
			 <table cellpadding="0" cellspacing="0" border="0" 
						 style="display:#{empty consultaEstadoCuentaLiqDecretosController.resultados?'none':'inline'}">
						<tr>
							<td width="900px">
								<div style="display:#{consultaEstadoCuentaLiqDecretosController.paginacion.irAlPrimero?'inline':'none'}">
									<a4j:commandLink
										actionListener="#{consultaEstadoCuentaLiqDecretosController.navegarPorResultados}"
										id="control_posicion_primero2" reRender="panelResultados"
										onclick="buscarRegistros();"
										oncomplete="presentarResultados(); javascript:window.scrollTo(0,0);" limitToList="true">
										<img
											src="#{facesContext.externalContext.requestContextPath}/images/control_primero.png"
											border="0" />
										<f:attribute name="navegacion" value="irAlPrincipio" />
									</a4j:commandLink>
								</div>
								<div style="display:#{consultaEstadoCuentaLiqDecretosController.paginacion.retrocederRapido?'inline':'none'}" >
									<a4j:commandLink
										actionListener="#{consultaEstadoCuentaLiqDecretosController.navegarPorResultados}"
										id="control_consulta_atras_fast2" reRender="panelResultados"
										onclick="buscarRegistros();"
										oncomplete="presentarResultados(); javascript:window.scrollTo(0,0);" limitToList="true">
										<img
											src="#{facesContext.externalContext.requestContextPath}/images/control_atras_fast.png"
											border="0" />
										<f:attribute name="navegacion" value="retrocederPaginasRapido" />
									</a4j:commandLink>
								</div>
								<div style="display:#{consultaEstadoCuentaLiqDecretosController.paginacion.retroceder?'inline':'none'}" >
									<a4j:commandLink
										actionListener="#{consultaEstadoCuentaLiqDecretosController.navegarPorResultados}"
										id="control_consulta_atras2" reRender="panelResultados"
										onclick="buscarRegistros();"
										oncomplete="presentarResultados(); javascript:window.scrollTo(0,0);" limitToList="true">
										<img
											src="#{facesContext.externalContext.requestContextPath}/images/control_atras.png"
											border="0" />
										<f:attribute name="navegacion" value="retrocederPagina" />
									</a4j:commandLink>
								</div>
								<div style="display:#{consultaEstadoCuentaLiqDecretosController.paginacion.avanzar?'inline':'none'}" >
									<a4j:commandLink
										actionListener="#{consultaEstadoCuentaLiqDecretosController.navegarPorResultados}"
										id="control_consulta_adelante2" reRender="panelResultados"
										onclick="buscarRegistros();"
										oncomplete="presentarResultados(); javascript:window.scrollTo(0,0);" limitToList="true">
										<img
											src="#{facesContext.externalContext.requestContextPath}/images/control_adelante.png"
											border="0" />
										<f:attribute name="navegacion" value="avanzarPagina" />
									</a4j:commandLink>
								</div>
								<div style="display:#{consultaEstadoCuentaLiqDecretosController.paginacion.avanzarRapido?'inline':'none'}"  >
									<a4j:commandLink
										actionListener="#{consultaEstadoCuentaLiqDecretosController.navegarPorResultados}"
										id="control_consulta_adelante_fast2" reRender="panelResultados"
										onclick="buscarRegistros();"
										oncomplete="presentarResultados(); javascript:window.scrollTo(0,0);" limitToList="true">
										<img
											src="#{facesContext.externalContext.requestContextPath}/images/control_adelante_fast.png"
											border="0" />
										<f:attribute name="navegacion" value="avanzarPaginasRapido" />
									</a4j:commandLink>
								</div>
								<div  style="display:#{consultaEstadoCuentaLiqDecretosController.paginacion.irAlUltimo?'inline':'none'}" >
									<a4j:commandLink
										actionListener="#{consultaEstadoCuentaLiqDecretosController.navegarPorResultados}"
										id="control_consulta_ultimo2" reRender="panelResultados"
										onclick="buscarRegistros();"
										oncomplete="presentarResultados(); javascript:window.scrollTo(0,0);" limitToList="true">
										<img
											src="#{facesContext.externalContext.requestContextPath}/images/control_ultimo.png"
											border="0" />
										<f:attribute name="navegacion" value="irAlUltimo" />
									</a4j:commandLink>
								</div>
							</td>
						</tr>
						<tr>
							<td width="100%" align="right">
								<div style="display:#{empty consultaEstadoCuentaLiqDecretosController.resultados?'none':'inline'}">									
									<h:commandButton id="generarExcel"
										actionListener="#{consultaEstadoCuentaLiqDecretosExportacionController.generarReportes}"
										action="liquidacionDecretosXls"
										image="/images/excel-file.gif"
										title="Exportar a Excel todos los resultados de la consulta"
										onclick="bloquearBotonesReportes(['generarExcel', 'generarPdf', 'generarTxt']);" />
									&#160;
									<h:commandButton id="generarPdf"
										action="liquidacionDecretosPdf"
										actionListener="#{consultaEstadoCuentaLiqDecretosExportacionController.generarReportes}"
										image="/images/pdf.gif"
										title="Exportar a PDF todos los resultados de la consulta"
										onclick="bloquearBotonesReportes(['generarExcel', 'generarPdf', 'generarTxt']);" />
									&#160;
									<h:commandButton id="generarTxt"
										action="liquidacionDecretosTXT"
										actionListener="#{consultaEstadoCuentaLiqDecretosExportacionController.generarReportes}"
										image="/images/TXT.gif"
										title="Exportar a TXT todos los resultados de la consulta"
										onclick="bloquearBotonesReportes(['generarExcel', 'generarPdf', 'generarTxt']);" />
									&#160;
									<div id="monitorPeticionReporte" style="display: none;">
										<h:panelGroup id="panelMonitorPeticionReporte">
										<h:graphicImage value="/images/ajax-loader.gif" />
										&#160;&#160;
										<h:outputText value="#{etq.reporteEnProceso}" />
										<a4j:commandButton id="btnActualizarEstadoPeticion"
											image="/images/transparent.gif"
											styleClass="submit"
											actionListener="#{consultaEstadoCuentaLiqDecretosExportacionController.actualizarEstadoPeticion}"
											reRender="panelMonitorPeticionReporte"
											oncomplete="desbloquearBotonesReportes(#{consultaEstadoCuentaLiqDecretosExportacionController.peticionReporteCompleta}, ['generarExcel', 'generarPdf', 'generarTxt']);"/>
										</h:panelGroup>
									</div>
                               	</div>
							</td>
						</tr>
			 </table>
			 
			</h:panelGroup>
		</ui:define>
	</ui:composition>
</html>
