<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" xml:lang="en" lang="en"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:rich="http://richfaces.org/rich">

	<ui:composition template="/layoutPopUp.xhtml">
		<ui:define name="titulo">
			<h:outputText value="#{etq.consultaDetalleDecretos}" />
		</ui:define>
		<ui:define name="subtitulo">
		</ui:define>
		<ui:define name="body">
			<h:form id="formaDetalle">				
				<a4j:keepAlive beanName="consultaEstadoCuentaLiqDecretosController" />
				<h:outputText
					value="#{consultaEstadoCuentaLiqDecretosController.initDetalle}" />
				<t:dataTable id="noExistenResultados" 
					value="#{consultaEstadoCuentaLiqDecretosController.detalle}" 
					var="amortizacion"  styleClass="tablaGeneral" headerClass="tituloTabla" width="100%" footerClass="tituloTabla"
				 	border="0" cellpadding="3px" cellspacing="0px"
				  	columnClasses="everyColumn"
				  	rowClasses="renglonTablaUno, renglonTablaDos"
				 	rendered="#{empty consultaEstadoCuentaLiqDecretosController.detalle}">
		 	 		<t:column>
				  		<f:facet name="header" >
				  			<h:outputText value = "#{etq.sinResultados}"></h:outputText>
				  		</f:facet>				  		
			  		</t:column>
				</t:dataTable>
				<h:dataTable id="res"
					value="#{consultaEstadoCuentaLiqDecretosController.detalles}"
					var="resultado" styleClass="tablaGeneral" headerClass="tituloTabla"
					width="900px" footerClass="tituloTabla" border="0"
					cellpadding="3px" cellspacing="0px"
					columnClasses="everyColumn columnaTexto"
					rowClasses="renglonTablaUno, renglonTablaDos"
					rendered="#{!empty consultaEstadoCuentaLiqDecretosController.detalle}">

					<h:column>
						<f:facet name="header">
							<h:outputText value="#{etq.participanteMinus}" />
						</f:facet>
						<h:outputText
							value="#{resultado.idInstitucion}#{resultado.folioInstitucion}" />

					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="#{etq.cuentaMinus}" />
						</f:facet>
						<h:outputText value="#{resultado.cuenta}" />
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="#{etq.tv}" />
						</f:facet>
						<h:outputText value="#{resultado.emision.idTipoValor}" />
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="#{etq.emisora}" />
						</f:facet>

						<h:outputText value="#{resultado.emision.emisora}" />

					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="#{etq.serieMinus}" />
						</f:facet>
						<h:outputText value="#{resultado.emision.serie}" />
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="#{etq.cuponMinus}" />
						</f:facet>
						<h:outputText value="#{resultado.emision.cupon}" />
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="#{etq.isin}" />
						</f:facet>
						<h:outputText value="#{resultado.emision.isin}" />

					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="#{etq.fechaLiquidacionMinus}" />
						</f:facet>
						<h:outputText value="#{resultado.fechaLiquidacion}"
							converter="formatoFechaCortoConverter" />

					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="#{etq.valorNominalMinus}" />
						</f:facet>
						<div class="columnaMoneda">
							<h:outputText value="#{resultado.valorNominal}"
								converter="formatoEnteroConverter" />
						</div>

					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="#{etq.divisa}" />
						</f:facet>
						<h:outputText value="#{resultado.divisa}" />

					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="#{etq.boveda}" />
						</f:facet>
						<h:outputText value="#{resultado.nombreCorto}" />

					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="#{etq.tasaInteres}" />
						</f:facet>
						<div class="columnaMoneda">
							<h:outputText value="#{resultado.tasaInteres}"
								converter="formatoDecimalConverter" />
						</div>
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="#{etq.tasaRendimiento}" />
						</f:facet>
						<div class="columnaMoneda">
							<h:outputText value="#{resultado.tasaRendimiento}"
								converter="formatoDecimalConverter" />
						</div>
					</h:column>

					<h:column>
						<f:facet name="header">
							<h:outputText value="#{etq.tasaDescuento}" />
						</f:facet>
						<div class="columnaMoneda">
							<h:outputText value="#{resultado.tasaDescuento}"
								converter="formatoDecimalConverter" />
						</div>
					</h:column>

					<h:column>
						<f:facet name="header">
							<h:outputText value="#{etq.plazo}" />
						</f:facet>
						<div class="columnaMoneda">
							<h:outputText value="#{resultado.plazo}"
								converter="formatoEnteroConverter" />
						</div>
					</h:column>




				</h:dataTable>
				<table class="tablaGeneral">
					<t:dataList
						value="#{consultaEstadoCuentaLiqDecretosController.detalle}"
						var="resultado"
						rendered="#{!empty consultaEstadoCuentaLiqDecretosController.detalle}">
						<tr>
							<td class="tituloTabla">
								<h:outputText value="#{etq.tipoEjercicio}" />
							</td>
							<td class="renglonTablaUno">
								<div class="columnaMoneda">
									<h:outputText value="#{resultado.descTipoEjercicio}" />
								</div>
							</td>
						</tr>
						<tr>
							<td class="tituloTabla">
								<h:outputText value="#{etq.saldoTitulos}" />

							</td>
							<td class="renglonTablaUno">
								<div class="columnaMoneda">
									<h:outputText value="#{resultado.saldoTitulos}"
										converter="formatoEnteroConverter" />
								</div>
							</td>
						</tr>
						<tr>
							<td class="tituloTabla">
								<h:outputText value="#{etq.importeDecretos}" />
							</td>
							<td class="renglonTablaUno">
								<div class="columnaMoneda">
									<h:outputText value="#{resultado.importeDecreto}"
										converter="formatoMonedaConverter" />
								</div>
							</td>
						</tr>
						<tr>
							<td class="tituloTabla">
								<h:outputText value="#{etq.intereses}" />
							</td>
							<td class="renglonTablaUno">
								<div class="columnaMoneda">
									<h:outputText value="#{resultado.intereses}"
										converter="formatoMonedaConverter" />
								</div>
							</td>
						</tr>
						<tr>
							<td class="tituloTabla">
								<h:outputText value="#{etq.importeACobrar}" />
							</td>
							<td class="renglonTablaUno">
								<div class="columnaMoneda">
									<h:outputText value="#{resultado.importeCobrar}"
										converter="formatoMonedaConverter" />
								</div>
							</td>
						</tr>
					</t:dataList>
				</table>
				<table cellpadding="0" cellspacing="0" border="0" align="left"
					style="display: #{ empty consultaEstadoCuentaLiqDecretosController . detalle ?   'none' :   'inline'}">
					<tr>
						<td align="right">
							<h:commandButton
								actionListener="{consultaEstadoCuentaLiqDecretosController.generarReportes}"
								image="/images/excel-file.gif" id="generarExcel" title="Exportar a Excel todos los resultados de la consulta" action="liquidacionDecretosDetalleXls"/>
							&#160;
							<h:commandButton actionListener="{consultaEstadoCuentaLiqDecretosController.generarReportes}"
										id="generarPdf" image="/images/pdf.gif" title="Exportar a PDF todos los resultados de la consulta" action="liquidacionDecretosDetallePdf"/>
						</td>
					</tr>
				</table>


			</h:form>
		</ui:define>
	</ui:composition>

</html>
